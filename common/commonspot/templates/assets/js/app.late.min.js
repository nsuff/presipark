/*
 Picturefill - v3.0.1 - 2015-09-30
 http://scottjehl.github.io/picturefill
 Copyright (c) 2015 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT
 Gecko-Picture - v1.0
 https://github.com/scottjehl/picturefill/tree/3.0/src/plugins/gecko-picture
 Firefox's early picture implementation (prior to FF41) is static and does
 not react to viewport changes. This tiny module fixes this.
 Picturefill - v3.0.1
 http://scottjehl.github.io/picturefill
 Copyright (c) 2015 https://github.com/scottjehl/picturefill/blob/master/Authors.txt;
  License: MIT
*/
'use strict';(function(window){var ua=navigator.userAgent;if(window.HTMLPictureElement&&(/ecko/.test(ua)&&ua.match(/rv:(\d+)/)&&RegExp.$1<41))addEventListener("resize",function(){var timer;var dummySrc=document.createElement("source");var fixRespimg=function(img){var picture=img.parentNode;if(picture.nodeName.toUpperCase()==="PICTURE"){var source=dummySrc.cloneNode();picture.insertBefore(source,picture.firstElementChild);setTimeout(function(){picture.removeChild(source)})}else if(!img._pfLastSize||
img.offsetWidth>img._pfLastSize){img._pfLastSize=img.offsetWidth;var sizes=img.sizes;img.sizes+=",100vw";setTimeout(function(){img.sizes=sizes})}};var findPictureImgs=function(){var i;var imgs=document.querySelectorAll("picture \x3e img, img[srcset][sizes]");for(i=0;i<imgs.length;i++)fixRespimg(imgs[i])};var onResize=function(){clearTimeout(timer);timer=setTimeout(findPictureImgs,99)};var mq=window.matchMedia&&matchMedia("(orientation: landscape)");var init=function(){onResize();if(mq&&mq.addListener)mq.addListener(onResize)};
dummySrc.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d";if(/^[c|i]|d$/.test(document.readyState||""))init();else document.addEventListener("DOMContentLoaded",init);return onResize}())})(window);
(function(window,document,undefined){function isSpace(c){return c===" "||c==="\t"||c==="\n"||c==="\f"||c==="\r"}function detectTypeSupport(type,typeUri){var image=new window.Image;image.onerror=function(){types[type]=false;picturefill()};image.onload=function(){types[type]=image.width===1;picturefill()};image.src=typeUri;return"pending"}function updateMetrics(){isVwDirty=false;DPR=window.devicePixelRatio;cssCache={};sizeLengthCache={};pf.DPR=DPR||1;units.width=Math.max(window.innerWidth||0,docElem.clientWidth);
units.height=Math.max(window.innerHeight||0,docElem.clientHeight);units.vw=units.width/100;units.vh=units.height/100;evalId=[units.height,units.width,DPR].join("-");units.em=pf.getEmValue();units.rem=units.em}function chooseLowRes(lowerValue,higherValue,dprValue,isCached){if(cfg.algorithm==="saveData")if(lowerValue>2.7)var meanDensity=dprValue+1;else{var tooMuch=higherValue-dprValue;var bonusFactor=Math.pow(lowerValue-.6,1.5);var bonus=tooMuch*bonusFactor;if(isCached)bonus+=.1*bonusFactor;meanDensity=
lowerValue+bonus}else meanDensity=dprValue>1?Math.sqrt(lowerValue*higherValue):lowerValue;return meanDensity>dprValue}function applyBestCandidate(img){var matchingSet=pf.getSet(img);var evaluated=false;if(matchingSet!=="pending"){evaluated=evalId;if(matchingSet){var srcSetCandidates=pf.setRes(matchingSet);pf.applySetCandidate(srcSetCandidates,img)}}img[pf.ns].evaled=evaluated}function ascendingSort(a,b){return a.res-b.res}function setSrcToCur(img,src,set){if(!set&&src){set=img[pf.ns].sets;set=set&&
set[set.length-1]}var candidate=getCandidateForSrc(src,set);if(candidate){src=pf.makeUrl(src);img[pf.ns].curSrc=src;img[pf.ns].curCan=candidate;if(!candidate.res)setResolution(candidate,candidate.set.sizes)}return candidate}function getCandidateForSrc(src,set){var i;if(src&&set){var candidates=pf.parseSet(set);src=pf.makeUrl(src);for(i=0;i<candidates.length;i++)if(src===pf.makeUrl(candidates[i].url)){var candidate=candidates[i];break}}return candidate}function getAllSourceElements(picture,candidates){var i;
var len;var sources=picture.getElementsByTagName("source");for(i=0,len=sources.length;i<len;i++){var source=sources[i];source[pf.ns]=true;var srcset=source.getAttribute("srcset");if(srcset)candidates.push({srcset,media:source.getAttribute("media"),type:source.getAttribute("type"),sizes:source.getAttribute("sizes")})}}function parseSrcset(input,set){function collectCharacters(regEx){var match=regEx.exec(input.substring(pos));if(match){var chars=match[0];pos+=chars.length;return chars}}function parseDescriptors(){var pError=
false;var i;var candidate={};for(i=0;i<descriptors.length;i++){var desc=descriptors[i];var lastChar=desc[desc.length-1];var value=desc.substring(0,desc.length-1);var intVal=parseInt(value,10);var floatVal=parseFloat(value);if(regexNonNegativeInteger.test(value)&&lastChar==="w"){if(w||d)pError=true;if(intVal===0)pError=true;else var w=intVal}else if(regexFloatingPoint.test(value)&&lastChar==="x"){if(w||d||h)pError=true;if(floatVal<0)pError=true;else var d=floatVal}else if(regexNonNegativeInteger.test(value)&&
lastChar==="h"){if(h||d)pError=true;if(intVal===0)pError=true;else var h=intVal}else pError=true}if(!pError){candidate.url=url;if(w)candidate.w=w;if(d)candidate.d=d;if(h)candidate.h=h;if(!h&&!d&&!w)candidate.d=1;if(candidate.d===1)set.has1x=true;candidate.set=set;candidates.push(candidate)}}function tokenize(){collectCharacters(regexLeadingSpaces);currentDescriptor="";for(state="in descriptor";true;){c=input.charAt(pos);if(state==="in descriptor")if(isSpace(c)){if(currentDescriptor){descriptors.push(currentDescriptor);
currentDescriptor="";state="after descriptor"}}else if(c===","){pos+=1;if(currentDescriptor)descriptors.push(currentDescriptor);parseDescriptors();return}else if(c==="("){currentDescriptor+=c;state="in parens"}else if(c===""){if(currentDescriptor)descriptors.push(currentDescriptor);parseDescriptors();return}else currentDescriptor+=c;else if(state==="in parens")if(c===")"){currentDescriptor+=c;state="in descriptor"}else if(c===""){descriptors.push(currentDescriptor);parseDescriptors();return}else currentDescriptor+=
c;else if(state==="after descriptor")if(isSpace(c));else if(c===""){parseDescriptors();return}else{state="in descriptor";pos-=1}pos+=1}}var inputLength=input.length;var currentDescriptor;var state;var c;var pos=0;for(var candidates=[];true;){collectCharacters(regexLeadingCommasOrSpaces);if(pos>=inputLength)return candidates;var url=collectCharacters(regexLeadingNotSpaces);var descriptors=[];if(url.slice(-1)===","){url=url.replace(regexTrailingCommas,"");parseDescriptors()}else tokenize()}}function parseSizes(strValue){function parseComponentValues(str){function pushComponent(){if(component){componentArray.push(component);
component=""}}function pushComponentArray(){if(componentArray[0]){listArray.push(componentArray);componentArray=[]}}var component="";var componentArray=[];var listArray=[];var parenDepth=0;var pos=0;for(var inComment=false;true;){var chrctr=str.charAt(pos);if(chrctr===""){pushComponent();pushComponentArray();return listArray}else if(inComment)if(chrctr==="*"&&str[pos+1]==="/"){inComment=false;pos+=2;pushComponent();continue}else{pos+=1;continue}else if(isSpace(chrctr))if(str.charAt(pos-1)&&isSpace(str.charAt(pos-
1))||!component){pos+=1;continue}else if(parenDepth===0){pushComponent();pos+=1;continue}else chrctr=" ";else if(chrctr==="(")parenDepth+=1;else if(chrctr===")")parenDepth-=1;else if(chrctr===","){pushComponent();pushComponentArray();pos+=1;continue}else if(chrctr==="/"&&str.charAt(pos+1)==="*"){inComment=true;pos+=2;continue}component+=chrctr;pos+=1}}function isValidNonNegativeSourceSizeValue(s){if(regexCssLengthWithUnits.test(s)&&parseFloat(s)>=0)return true;if(regexCssCalc.test(s))return true;
if(s==="0"||s==="-0"||s==="+0")return true;return false}var regexCssLengthWithUnits=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i;var regexCssCalc=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;var i;var unparsedSizesList=parseComponentValues(strValue);var unparsedSizesListLength=unparsedSizesList.length;for(i=0;i<unparsedSizesListLength;i++){var unparsedSize=unparsedSizesList[i];var lastComponentValue=unparsedSize[unparsedSize.length-1];if(isValidNonNegativeSourceSizeValue(lastComponentValue)){var size=
lastComponentValue;unparsedSize.pop()}else continue;if(unparsedSize.length===0)return size;unparsedSize=unparsedSize.join(" ");if(!pf.matchesMedia(unparsedSize))continue;return size}return"100vw"}document.createElement("picture");var eminpx;var evalId;var pf={};var noop=function(){};var image=document.createElement("img");var getImgAttr=image.getAttribute;var setImgAttr=image.setAttribute;var removeImgAttr=image.removeAttribute;var docElem=document.documentElement;var types={};var cfg={algorithm:""};
var srcAttr="data-pfsrc";var srcsetAttr=srcAttr+"set";var ua=navigator.userAgent;var supportAbort=/rident/.test(ua)||/ecko/.test(ua)&&ua.match(/rv:(\d+)/)&&RegExp.$1>35;var curSrcProp="currentSrc";var regWDesc=/\s+\+?\d+(e\d+)?w/;var regSize=/(\([^)]+\))?\s*(.+)/;var setOptions=window.picturefillCFG;var baseStyle="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)";var fsCss="font-size:100%!important;";
var isVwDirty=true;var cssCache={};var sizeLengthCache={};var DPR=window.devicePixelRatio;var units={px:1,"in":96};var anchor=document.createElement("a");var alreadyRun=false;var regexLeadingSpaces=/^[ \t\n\r\u000c]+/;var regexLeadingCommasOrSpaces=/^[, \t\n\r\u000c]+/;var regexLeadingNotSpaces=/^[^ \t\n\r\u000c]+/;var regexTrailingCommas=/[,]+$/;var regexNonNegativeInteger=/^\d+$/;var regexFloatingPoint=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/;var on=function(obj,evt,fn,capture){if(obj.addEventListener)obj.addEventListener(evt,
fn,capture||false);else if(obj.attachEvent)obj.attachEvent("on"+evt,fn)};var memoize=function(fn){var cache={};return function(input){if(!(input in cache))cache[input]=fn(input);return cache[input]}};var evalCSS=function(){var regLength=/^([\d\.]+)(em|vw|px)$/;var replace=function(){var args=arguments;var index=0;for(var string=args[0];++index in args;)string=string.replace(args[index],args[++index]);return string};var buildStr=memoize(function(css){return"return "+replace((css||"").toLowerCase(),
/\band\b/g,"\x26\x26",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1\x3e\x3d",/max-([a-z-\s]+):/g,"e.$1\x3c\x3d",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/ig,"")+";"});return function(css,length){var parsedLength;if(!(css in cssCache)){cssCache[css]=false;if(length&&(parsedLength=css.match(regLength)))cssCache[css]=parsedLength[1]*units[parsedLength[2]];else try{cssCache[css]=(new Function("e",buildStr(css)))(units)}catch(e){}}return cssCache[css]}}();
var setResolution=function(candidate,sizesattr){if(candidate.w){candidate.cWidth=pf.calcListLength(sizesattr||"100vw");candidate.res=candidate.w/candidate.cWidth}else candidate.res=candidate.d;return candidate};var picturefill=function(opt){var i;var plen;var options=opt||{};if(options.elements&&options.elements.nodeType===1)if(options.elements.nodeName.toUpperCase()==="IMG")options.elements=[options.elements];else{options.context=options.elements;options.elements=null}var elements=options.elements||
pf.qsa(options.context||document,options.reevaluate||options.reselect?pf.sel:pf.selShort);if(plen=elements.length){pf.setupRun(options);alreadyRun=true;for(i=0;i<plen;i++)pf.fillImg(elements[i],options);pf.teardownRun(options)}};var warn=window.console&&console.warn?function(message){console.warn(message)}:noop;if(!(curSrcProp in image))curSrcProp="src";types["image/jpeg"]=true;types["image/gif"]=true;types["image/png"]=true;types["image/svg+xml"]=document.implementation.hasFeature("http://wwwindow.w3.org/TR/SVG11/feature#Image",
"1.1");pf.ns=("pf"+(new Date).getTime()).substr(0,9);pf.supSrcset="srcset"in image;pf.supSizes="sizes"in image;pf.supPicture=!!window.HTMLPictureElement;if(pf.supSrcset&&pf.supPicture&&!pf.supSizes)(function(image2){image.srcset="data:,a";image2.src="data:,a";pf.supSrcset=image.complete===image2.complete;pf.supPicture=pf.supSrcset&&pf.supPicture})(document.createElement("img"));pf.selShort="picture\x3eimg,img[srcset]";pf.sel=pf.selShort;pf.cfg=cfg;if(pf.supSrcset)pf.sel+=",img["+srcsetAttr+"]";pf.DPR=
DPR||1;pf.u=units;pf.types=types;var alwaysCheckWDescriptor=pf.supSrcset&&!pf.supSizes;pf.setSize=noop;pf.makeUrl=memoize(function(src){anchor.href=src;return anchor.href});pf.qsa=function(context,sel){return context.querySelectorAll(sel)};pf.matchesMedia=function(){if(window.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches)pf.matchesMedia=function(media){return!media||matchMedia(media).matches};else pf.matchesMedia=pf.mMQ;return pf.matchesMedia.apply(this,arguments)};pf.mMQ=function(media){return media?
evalCSS(media):true};pf.calcLength=function(sourceSizeValue){var value=evalCSS(sourceSizeValue,true)||false;if(value<0)value=false;return value};pf.supportsType=function(type){return type?types[type]:true};pf.parseSize=memoize(function(sourceSizeStr){var match=(sourceSizeStr||"").match(regSize);return{media:match&&match[1],length:match&&match[2]}});pf.parseSet=function(set){if(!set.cands)set.cands=parseSrcset(set.srcset,set);return set.cands};pf.getEmValue=function(){var body;if(!eminpx&&(body=document.body)){var div=
document.createElement("div");var originalHTMLCSS=docElem.style.cssText;var originalBodyCSS=body.style.cssText;div.style.cssText=baseStyle;docElem.style.cssText=fsCss;body.style.cssText=fsCss;body.appendChild(div);eminpx=div.offsetWidth;body.removeChild(div);eminpx=parseFloat(eminpx,10);docElem.style.cssText=originalHTMLCSS;body.style.cssText=originalBodyCSS}return eminpx||16};pf.calcListLength=function(sourceSizeListStr){if(!(sourceSizeListStr in sizeLengthCache)||cfg.uT){var winningLength=pf.calcLength(parseSizes(sourceSizeListStr));
sizeLengthCache[sourceSizeListStr]=!winningLength?units.width:winningLength}return sizeLengthCache[sourceSizeListStr]};pf.setRes=function(set){if(set){var candidates=pf.parseSet(set);var i=0;for(var len=candidates.length;i<len;i++)setResolution(candidates[i],set.sizes)}return candidates};pf.setRes.res=setResolution;pf.applySetCandidate=function(candidates,img){if(!candidates.length)return;var i;var imageData=img[pf.ns];var dpr=pf.DPR;var curSrc=imageData.curSrc||img[curSrcProp];var curCan=imageData.curCan||
setSrcToCur(img,curSrc,candidates[0].set);if(curCan&&curCan.set===candidates[0].set){var abortCurSrc=supportAbort&&!img.complete&&curCan.res-.1>dpr;if(!abortCurSrc){curCan.cached=true;if(curCan.res>=dpr)var bestCandidate=curCan}}if(!bestCandidate){candidates.sort(ascendingSort);var length=candidates.length;bestCandidate=candidates[length-1];for(i=0;i<length;i++){var candidate=candidates[i];if(candidate.res>=dpr){var j=i-1;if(candidates[j]&&(abortCurSrc||curSrc!==pf.makeUrl(candidate.url))&&chooseLowRes(candidates[j].res,
candidate.res,dpr,candidates[j].cached))bestCandidate=candidates[j];else bestCandidate=candidate;break}}}if(bestCandidate){var candidateSrc=pf.makeUrl(bestCandidate.url);imageData.curSrc=candidateSrc;imageData.curCan=bestCandidate;if(candidateSrc!==curSrc)pf.setSrc(img,bestCandidate);pf.setSize(img)}};pf.setSrc=function(img,bestCandidate){img.src=bestCandidate.url;if(bestCandidate.set.type==="image/svg+xml"){var origWidth=img.style.width;img.style.width=img.offsetWidth+1+"px";if(img.offsetWidth+1)img.style.width=
origWidth}};pf.getSet=function(img){var i;var supportsType;var match=false;var sets=img[pf.ns].sets;for(i=0;i<sets.length&&!match;i++){var set=sets[i];if(!set.srcset||!pf.matchesMedia(set.media)||!(supportsType=pf.supportsType(set.type)))continue;if(supportsType==="pending")set=supportsType;match=set;break}return match};pf.parseSets=function(element,parent,options){var hasPicture=parent&&parent.nodeName.toUpperCase()==="PICTURE";var imageData=element[pf.ns];if(imageData.src===undefined||options.src){imageData.src=
getImgAttr.call(element,"src");if(imageData.src)setImgAttr.call(element,srcAttr,imageData.src);else removeImgAttr.call(element,srcAttr)}if(imageData.srcset===undefined||options.srcset||!pf.supSrcset||element.srcset){var srcsetAttribute=getImgAttr.call(element,"srcset");imageData.srcset=srcsetAttribute;var srcsetParsed=true}imageData.sets=[];if(hasPicture){imageData.pic=true;getAllSourceElements(parent,imageData.sets)}if(imageData.srcset){var imageSet={srcset:imageData.srcset,sizes:getImgAttr.call(element,
"sizes")};imageData.sets.push(imageSet);var isWDescripor=(alwaysCheckWDescriptor||imageData.src)&&regWDesc.test(imageData.srcset||"");if(!isWDescripor&&imageData.src&&!getCandidateForSrc(imageData.src,imageSet)&&!imageSet.has1x){imageSet.srcset+=", "+imageData.src;imageSet.cands.push({url:imageData.src,d:1,set:imageSet})}}else if(imageData.src)imageData.sets.push({srcset:imageData.src,sizes:null});imageData.curCan=null;imageData.curSrc=undefined;imageData.supported=!(hasPicture||imageSet&&!pf.supSrcset||
isWDescripor);if(srcsetParsed&&pf.supSrcset&&!imageData.supported)if(srcsetAttribute){setImgAttr.call(element,srcsetAttr,srcsetAttribute);element.srcset=""}else removeImgAttr.call(element,srcsetAttr);if(imageData.supported&&!imageData.srcset&&(!imageData.src&&element.src||element.src!==pf.makeUrl(imageData.src)))if(imageData.src===null)element.removeAttribute("src");else element.src=imageData.src;imageData.parsed=true};pf.fillImg=function(element,options){var extreme=options.reselect||options.reevaluate;
if(!element[pf.ns])element[pf.ns]={};var imageData=element[pf.ns];if(!extreme&&imageData.evaled===evalId)return;if(!imageData.parsed||options.reevaluate)pf.parseSets(element,element.parentNode,options);if(!imageData.supported)applyBestCandidate(element);else imageData.evaled=evalId};pf.setupRun=function(){if(!alreadyRun||isVwDirty||DPR!==window.devicePixelRatio)updateMetrics()};if(pf.supPicture){picturefill=noop;pf.fillImg=noop}else(function(){var isDomReady;var regReady=window.attachEvent?/d$|^c/:
/d$|^c|^i/;var run=function(){var readyState=document.readyState||"";timerId=setTimeout(run,readyState==="loading"?200:999);if(document.body){pf.fillImgs();isDomReady=isDomReady||regReady.test(readyState);if(isDomReady)clearTimeout(timerId)}};var timerId=setTimeout(run,document.body?9:99);var debounce=function(func,wait){var timeout;var timestamp;var later=function(){var last=new Date-timestamp;if(last<wait)timeout=setTimeout(later,wait-last);else{timeout=null;func()}};return function(){timestamp=
new Date;if(!timeout)timeout=setTimeout(later,wait)}};var lastClientWidth=docElem.clientHeight;var onResize=function(){isVwDirty=Math.max(window.innerWidth||0,docElem.clientWidth)!==units.width||docElem.clientHeight!==lastClientWidth;lastClientWidth=docElem.clientHeight;if(isVwDirty)pf.fillImgs()};on(window,"resize",debounce(onResize,99));on(document,"readystatechange",run)})();pf.picturefill=picturefill;pf.fillImgs=picturefill;pf.teardownRun=noop;picturefill._=pf;for(window.picturefillCFG={pf,push:function(args){var name=
args.shift();if(typeof pf[name]==="function")pf[name].apply(pf,args);else{cfg[name]=args[0];if(alreadyRun)pf.fillImgs({reselect:true})}}};setOptions&&setOptions.length;)window.picturefillCFG.push(setOptions.shift());window.picturefill=picturefill;if(typeof module==="object"&&typeof module.exports==="object")module.exports=picturefill;else if(typeof define==="function"&&define.amd)define("picturefill",function(){return picturefill});if(!pf.supPicture)types["image/webp"]=detectTypeSupport("image/webp",
"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA\x3d\x3d")})(window,document);(function(w){var escapeRegExp=function(string){return string.replace(/[.*+?^${}()|[\]\\]/g,"\\$\x26")};w.picturefillBackgroundOptions={selector:"picturefill-background",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%"};w.picturefillBackground=function(){var picturefills=w.document.getElementsByClassName(w.picturefillBackgroundOptions.selector);var i=0;for(var il=picturefills.length;i<il;i++){var sources=picturefills[i].getElementsByTagName("span");var matches=[];var j=
0;for(var jl=sources.length;j<jl;j++){var src=sources[j].getAttribute("data-src");var media=sources[j].getAttribute("data-media");if(src&&(!media||w.matchMedia&&w.matchMedia(media).matches))matches.push(src)}if(matches.length){src=matches.pop();var exp=new RegExp(escapeRegExp(src));if(!exp.test(picturefills[i].style.backgroundImage)){picturefills[i].style.backgroundImage="url('"+src+"')";picturefills[i].style.backgroundSize=w.picturefillBackgroundOptions.backgroundSize;picturefills[i].style.backgroundRepeat=
w.picturefillBackgroundOptions.backgroundRepeat;picturefills[i].style.backgroundPosition=w.picturefillBackgroundOptions.backgroundPosition}}}};if(w.addEventListener){w.addEventListener("load",w.picturefillBackground,false);w.addEventListener("resize",w.picturefillBackground,false);w.addEventListener("DOMContentLoaded",function(){w.picturefillBackground();w.removeEventListener("load",w.picturefillBackground,false)},false)}else if(w.attachEvent)w.attachEvent("onload",w.picturefillBackground)})(this);(function($,undefined){function UTCDate(){return new Date(Date.UTC.apply(Date,arguments))}function UTCToday(){var today=new Date;return UTCDate(today.getFullYear(),today.getMonth(),today.getDate())}function alias(method){return function(){return this[method].apply(this,arguments)}}function opts_from_el(el,prefix){function re_lower(_,a){return a.toLowerCase()}var data=$(el).data();var out={};var replace=new RegExp("^"+prefix.toLowerCase()+"([A-Z])");prefix=new RegExp("^"+prefix.toLowerCase());for(var key in data)if(prefix.test(key)){var inkey=
key.replace(replace,re_lower);out[inkey]=data[key]}return out}function opts_from_locale(lang){var out={};if(!dates[lang]){lang=lang.split("-")[0];if(!dates[lang])return}var d=dates[lang];$.each(locale_opts,function(i,k){if(k in d)out[k]=d[k]});return out}var $window=$(window);var DateArray=function(){var extras={get:function(i){return this.slice(i)[0]},contains:function(d){var val=d&&d.valueOf();var i=0;for(var l=this.length;i<l;i++)if(this[i].valueOf()===val)return i;return-1},remove:function(i){this.splice(i,
1)},replace:function(new_array){if(!new_array)return;if(!$.isArray(new_array))new_array=[new_array];this.clear();this.push.apply(this,new_array)},clear:function(){this.length=0},copy:function(){var a=new DateArray;a.replace(this);return a}};return function(){var a=[];a.push.apply(a,arguments);$.extend(a,extras);return a}}();var Datepicker=function(element,options){this.dates=new DateArray;this.viewDate=UTCToday();this.focusDate=null;this._process_options(options);this.element=$(element);this.isInline=
false;this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):false;this.hasInput=this.component&&this.element.find("input").length;if(this.component&&this.component.length===0)this.component=false;this.picker=$(DPGlobal.template);this._buildEvents();this._attachEvents();if(this.isInline)this.picker.addClass("datepicker-inline").appendTo(this.element);else this.picker.addClass("datepicker-dropdown dropdown-menu");if(this.o.rtl)this.picker.addClass("datepicker-rtl");
this.viewMode=this.o.startView;if(this.o.calendarWeeks)this.picker.find("tfoot th.today").attr("colspan",function(i,val){return parseInt(val)+1});this._allow_update=false;this.setStartDate(this._o.startDate);this.setEndDate(this._o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.fillDow();this.fillMonths();this._allow_update=true;this.update();this.showMode();if(this.isInline)this.show()};Datepicker.prototype={constructor:Datepicker,_process_options:function(opts){this._o=$.extend({},
this._o,opts);var o=this.o=$.extend({},this._o);var lang=o.language;if(!dates[lang]){lang=lang.split("-")[0];if(!dates[lang])lang=defaults.language}o.language=lang;switch(o.startView){case 2:case "decade":o.startView=2;break;case 1:case "year":o.startView=1;break;default:o.startView=0}switch(o.minViewMode){case 1:case "months":o.minViewMode=1;break;case 2:case "years":o.minViewMode=2;break;default:o.minViewMode=0}o.startView=Math.max(o.startView,o.minViewMode);if(o.multidate!==true){o.multidate=Number(o.multidate)||
false;if(o.multidate!==false)o.multidate=Math.max(0,o.multidate);else o.multidate=1}o.multidateSeparator=String(o.multidateSeparator);o.weekStart%=7;o.weekEnd=(o.weekStart+6)%7;var format=DPGlobal.parseFormat(o.format);if(o.startDate!==-Infinity)if(!!o.startDate)if(o.startDate instanceof Date)o.startDate=this._local_to_utc(this._zero_time(o.startDate));else o.startDate=DPGlobal.parseDate(o.startDate,format,o.language);else o.startDate=-Infinity;if(o.endDate!==Infinity)if(!!o.endDate)if(o.endDate instanceof
Date)o.endDate=this._local_to_utc(this._zero_time(o.endDate));else o.endDate=DPGlobal.parseDate(o.endDate,format,o.language);else o.endDate=Infinity;o.daysOfWeekDisabled=o.daysOfWeekDisabled||[];if(!$.isArray(o.daysOfWeekDisabled))o.daysOfWeekDisabled=o.daysOfWeekDisabled.split(/[,\s]*/);o.daysOfWeekDisabled=$.map(o.daysOfWeekDisabled,function(d){return parseInt(d,10)});var plc=String(o.orientation).toLowerCase().split(/\s+/g);var _plc=o.orientation.toLowerCase();plc=$.grep(plc,function(word){return/^auto|left|right|top|bottom$/.test(word)});
o.orientation={x:"auto",y:"auto"};if(!_plc||_plc==="auto");else if(plc.length===1)switch(plc[0]){case "top":case "bottom":o.orientation.y=plc[0];break;case "left":case "right":o.orientation.x=plc[0];break}else{_plc=$.grep(plc,function(word){return/^left|right$/.test(word)});o.orientation.x=_plc[0]||"auto";_plc=$.grep(plc,function(word){return/^top|bottom$/.test(word)});o.orientation.y=_plc[0]||"auto"}},_events:[],_secondaryEvents:[],_applyEvents:function(evs){var i=0;for(var ev;i<evs.length;i++){var el=
evs[i][0];if(evs[i].length===2){var ch=undefined;ev=evs[i][1]}else if(evs[i].length===3){ch=evs[i][1];ev=evs[i][2]}el.on(ev,ch)}},_unapplyEvents:function(evs){var i=0;for(var ch;i<evs.length;i++){var el=evs[i][0];if(evs[i].length===2){ch=undefined;var ev=evs[i][1]}else if(evs[i].length===3){ch=evs[i][1];ev=evs[i][2]}el.off(ev,ch)}},_buildEvents:function(){if(this.isInput)this._events=[[this.element,{focus:$.proxy(this.show,this),keyup:$.proxy(function(e){if($.inArray(e.keyCode,[27,37,39,38,40,32,
13,9])===-1)this.update()},this),keydown:$.proxy(this.keydown,this)}]];else if(this.component&&this.hasInput)this._events=[[this.element.find("input"),{focus:$.proxy(this.show,this),keyup:$.proxy(function(e){if($.inArray(e.keyCode,[27,37,39,38,40,32,13,9])===-1)this.update()},this),keydown:$.proxy(this.keydown,this)}],[this.component,{click:$.proxy(this.show,this)}]];else if(this.element.is("div"))this.isInline=true;else this._events=[[this.element,{click:$.proxy(this.show,this)}]];this._events.push([this.element,
"*",{blur:$.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:$.proxy(function(e){this._focused_from=e.target},this)}]);this._secondaryEvents=[[this.picker,{click:$.proxy(this.click,this)}],[$(window),{resize:$.proxy(this.place,this)}],[$(document),{"mousedown touchstart":$.proxy(function(e){if(!(this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length))this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();
this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(event,altdate){var date=altdate||this.dates.get(-1);var local_date=this._utc_to_local(date);this.element.trigger({type:event,date:local_date,dates:$.map(this.dates,this._utc_to_local),format:$.proxy(function(ix,
format){if(arguments.length===0){ix=this.dates.length-1;format=this.o.format}else if(typeof ix==="string"){format=ix;ix=this.dates.length-1}format=format||this.o.format;var date=this.dates.get(ix);return DPGlobal.formatDate(date,format,this.o.language)},this)})},show:function(){if(!this.isInline)this.picker.appendTo("body");this.picker.show();this.place();this._attachSecondaryEvents();this._trigger("show")},hide:function(){if(this.isInline)return;if(!this.picker.is(":visible"))return;this.focusDate=
null;this.picker.hide().detach();this._detachSecondaryEvents();this.viewMode=this.o.startView;this.showMode();if(this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val()))this.setValue();this._trigger("hide")},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;if(!this.isInput)delete this.element.data().date},_utc_to_local:function(utc){return utc&&new Date(utc.getTime()+
utc.getTimezoneOffset()*6E4)},_local_to_utc:function(local){return local&&new Date(local.getTime()-local.getTimezoneOffset()*6E4)},_zero_time:function(local){return local&&new Date(local.getFullYear(),local.getMonth(),local.getDate())},_zero_utc_time:function(utc){return utc&&new Date(Date.UTC(utc.getUTCFullYear(),utc.getUTCMonth(),utc.getUTCDate()))},getDates:function(){return $.map(this.dates,this._utc_to_local)},getUTCDates:function(){return $.map(this.dates,function(d){return new Date(d)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},
getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var args=$.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,args);this._trigger("changeDate");this.setValue()},setUTCDates:function(){var args=$.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,$.map(args,this._utc_to_local));this._trigger("changeDate");this.setValue()},setDate:alias("setDates"),setUTCDate:alias("setUTCDates"),setValue:function(){var formatted=this.getFormattedDate();
if(!this.isInput){if(this.component)this.element.find("input").val(formatted).change()}else this.element.val(formatted).change()},getFormattedDate:function(format){if(format===undefined)format=this.o.format;var lang=this.o.language;return $.map(this.dates,function(d){return DPGlobal.formatDate(d,format,lang)}).join(this.o.multidateSeparator)},setStartDate:function(startDate){this._process_options({startDate});this.update();this.updateNavArrows()},setEndDate:function(endDate){this._process_options({endDate});
this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(daysOfWeekDisabled){this._process_options({daysOfWeekDisabled});this.update();this.updateNavArrows()},place:function(){if(this.isInline)return;var calendarWidth=this.picker.outerWidth();var calendarHeight=this.picker.outerHeight();var visualPadding=10;var windowWidth=$window.width();var windowHeight=$window.height();var scrollTop=$window.scrollTop();var zIndex=parseInt(this.element.parents().filter(function(){return $(this).css("z-index")!==
"auto"}).first().css("z-index"))+9999;var offset=this.component?this.component.parent().offset():this.element.offset();var height=this.component?this.component.outerHeight(true):this.element.outerHeight(false);var width=this.component?this.component.outerWidth(true):this.element.outerWidth(false);var left=offset.left;var top=offset.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom "+"datepicker-orient-right datepicker-orient-left");if(this.o.orientation.x!=="auto"){this.picker.addClass("datepicker-orient-"+
this.o.orientation.x);if(this.o.orientation.x==="right")left-=calendarWidth-width}else{this.picker.addClass("datepicker-orient-left");if(offset.left<0)left-=offset.left-visualPadding;else if(offset.left+calendarWidth>windowWidth)left=windowWidth-calendarWidth-visualPadding}var yorient=this.o.orientation.y;if(yorient==="auto"){var top_overflow=-scrollTop+offset.top-calendarHeight;var bottom_overflow=scrollTop+windowHeight-(offset.top+height+calendarHeight);if(Math.max(top_overflow,bottom_overflow)===
bottom_overflow)yorient="top";else yorient="bottom"}this.picker.addClass("datepicker-orient-"+yorient);if(yorient==="top")top+=height;else top-=calendarHeight+parseInt(this.picker.css("padding-top"));this.picker.css({top,left,zIndex})},_allow_update:true,update:function(){if(!this._allow_update)return;var oldDates=this.dates.copy();var dates=[];var fromArgs=false;if(arguments.length){$.each(arguments,$.proxy(function(i,date){if(date instanceof Date)date=this._local_to_utc(date);dates.push(date)},
this));fromArgs=true}else{dates=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val();if(dates&&this.o.multidate)dates=dates.split(this.o.multidateSeparator);else dates=[dates];delete this.element.data().date}dates=$.map(dates,$.proxy(function(date){return DPGlobal.parseDate(date,this.o.format,this.o.language)},this));dates=$.grep(dates,$.proxy(function(date){return date<this.o.startDate||date>this.o.endDate||!date},this),true);this.dates.replace(dates);if(this.dates.length)this.viewDate=
new Date(this.dates.get(-1));else if(this.viewDate<this.o.startDate)this.viewDate=new Date(this.o.startDate);else if(this.viewDate>this.o.endDate)this.viewDate=new Date(this.o.endDate);if(fromArgs)this.setValue();else if(dates.length)if(String(oldDates)!==String(this.dates))this._trigger("changeDate");if(!this.dates.length&&oldDates.length)this._trigger("clearDate");this.fill()},fillDow:function(){var dowCnt=this.o.weekStart;var html="\x3ctr\x3e";if(this.o.calendarWeeks){var cell='\x3cth class\x3d"cw"\x3e\x26nbsp;\x3c/th\x3e';
html+=cell;this.picker.find(".datepicker-days thead tr:first-child").prepend(cell)}for(;dowCnt<this.o.weekStart+7;)html+='\x3cth class\x3d"dow"\x3e'+dates[this.o.language].daysMin[dowCnt++%7]+"\x3c/th\x3e";html+="\x3c/tr\x3e";this.picker.find(".datepicker-days thead").append(html)},fillMonths:function(){var html="";for(var i=0;i<12;)html+='\x3cspan class\x3d"month"\x3e'+dates[this.o.language].monthsShort[i++]+"\x3c/span\x3e";this.picker.find(".datepicker-months td").html(html)},setRange:function(range){if(!range||
!range.length)delete this.range;else this.range=$.map(range,function(d){return d.valueOf()});this.fill()},getClassNames:function(date){var cls=[];var year=this.viewDate.getUTCFullYear();var month=this.viewDate.getUTCMonth();var today=new Date;if(date.getUTCFullYear()<year||date.getUTCFullYear()===year&&date.getUTCMonth()<month)cls.push("old");else if(date.getUTCFullYear()>year||date.getUTCFullYear()===year&&date.getUTCMonth()>month)cls.push("new");if(this.focusDate&&date.valueOf()===this.focusDate.valueOf())cls.push("focused");
if(this.o.todayHighlight&&date.getUTCFullYear()===today.getFullYear()&&date.getUTCMonth()===today.getMonth()&&date.getUTCDate()===today.getDate())cls.push("today");if(this.dates.contains(date)!==-1)cls.push("active");if(date.valueOf()<this.o.startDate||date.valueOf()>this.o.endDate||$.inArray(date.getUTCDay(),this.o.daysOfWeekDisabled)!==-1)cls.push("disabled");if(this.range){if(date>this.range[0]&&date<this.range[this.range.length-1])cls.push("range");if($.inArray(date.valueOf(),this.range)!==-1)cls.push("selected")}return cls},
fill:function(){var d$jscomp$0=new Date(this.viewDate);var year=d$jscomp$0.getUTCFullYear();var month=d$jscomp$0.getUTCMonth();var startYear=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity;var startMonth=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity;var endYear=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity;var endMonth=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity;var todaytxt=dates[this.o.language].today||dates["en"].today||
"";var cleartxt=dates[this.o.language].clear||dates["en"].clear||"";this.picker.find(".datepicker-days thead th.datepicker-switch").text(dates[this.o.language].months[month]+" "+year);this.picker.find("tfoot th.today").text(todaytxt).toggle(this.o.todayBtn!==false);this.picker.find("tfoot th.clear").text(cleartxt).toggle(this.o.clearBtn!==false);this.updateNavArrows();this.fillMonths();var prevMonth=UTCDate(year,month-1,28);var day=DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(),prevMonth.getUTCMonth());
prevMonth.setUTCDate(day);prevMonth.setUTCDate(day-(prevMonth.getUTCDay()-this.o.weekStart+7)%7);var nextMonth=new Date(prevMonth);nextMonth.setUTCDate(nextMonth.getUTCDate()+42);nextMonth=nextMonth.valueOf();var html=[];for(var clsName;prevMonth.valueOf()<nextMonth;){if(prevMonth.getUTCDay()===this.o.weekStart){html.push("\x3ctr\x3e");if(this.o.calendarWeeks){var ws=new Date(+prevMonth+(this.o.weekStart-prevMonth.getUTCDay()-7)%7*864E5);var th=new Date(Number(ws)+(7+4-ws.getUTCDay())%7*864E5);var yth=
new Date(Number(yth=UTCDate(th.getUTCFullYear(),0,1))+(7+4-yth.getUTCDay())%7*864E5);var calWeek=(th-yth)/864E5/7+1;html.push('\x3ctd class\x3d"cw"\x3e'+calWeek+"\x3c/td\x3e")}}clsName=this.getClassNames(prevMonth);clsName.push("day");if(this.o.beforeShowDay!==$.noop){var before=this.o.beforeShowDay(this._utc_to_local(prevMonth));if(before===undefined)before={};else if(typeof before==="boolean")before={enabled:before};else if(typeof before==="string")before={classes:before};if(before.enabled===false)clsName.push("disabled");
if(before.classes)clsName=clsName.concat(before.classes.split(/\s+/));if(before.tooltip)var tooltip=before.tooltip}clsName=$.unique(clsName);var calDay=+prevMonth.getUTCMonth()+"-"+prevMonth.getUTCDate()+"-"+prevMonth.getUTCFullYear();html.push('\x3ctd id\x3d"CalendarDay__'+prevMonth.getUTCMonth()+"__"+prevMonth.getUTCDate()+"__"+prevMonth.getUTCFullYear()+'" data-day\x3d"'+calDay+'" class\x3d"'+clsName.join(" ")+'"'+(tooltip?' title\x3d"'+tooltip+'"':"")+'\x3e\x3cdiv class\x3d"EventCalendar__Calendar__DayContainer"\x3e'+
prevMonth.getUTCDate()+'\x3c/div\x3e \x3cdiv class\x3d"EventCalendar__Calendar__Marker"\x3e\x3c/div\x3e \x3c/td\x3e');if(prevMonth.getUTCDay()===this.o.weekEnd)html.push("\x3c/tr\x3e");prevMonth.setUTCDate(prevMonth.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(html.join(""));var months=this.picker.find(".datepicker-months").find("th:eq(1)").text(year).end().find("span").removeClass("active");$.each(this.dates,function(i,d){if(d.getUTCFullYear()===year)months.eq(d.getUTCMonth()).addClass("active")});
if(year<startYear||year>endYear)months.addClass("disabled");if(year===startYear)months.slice(0,startMonth).addClass("disabled");if(year===endYear)months.slice(endMonth+1).addClass("disabled");html="";year=parseInt(year/10,10)*10;var yearCont=this.picker.find(".datepicker-years").find("th:eq(1)").text(year+"-"+(year+9)).end().find("td");year-=1;var years=$.map(this.dates,function(d){return d.getUTCFullYear()});for(var i$jscomp$0=-1;i$jscomp$0<11;i$jscomp$0++){var classes=["year"];if(i$jscomp$0===-1)classes.push("old");
else if(i$jscomp$0===10)classes.push("new");if($.inArray(year,years)!==-1)classes.push("active");if(year<startYear||year>endYear)classes.push("disabled");html+='\x3cspan class\x3d"'+classes.join(" ")+'"\x3e'+year+"\x3c/span\x3e";year+=1}yearCont.html(html)},updateNavArrows:function(){if(!this._allow_update)return;var d=new Date(this.viewDate);var year=d.getUTCFullYear();var month=d.getUTCMonth();switch(this.viewMode){case 0:if(this.o.startDate!==-Infinity&&year<=this.o.startDate.getUTCFullYear()&&
month<=this.o.startDate.getUTCMonth())this.picker.find(".prev").css({visibility:"hidden"});else this.picker.find(".prev").css({visibility:"visible"});if(this.o.endDate!==Infinity&&year>=this.o.endDate.getUTCFullYear()&&month>=this.o.endDate.getUTCMonth())this.picker.find(".next").css({visibility:"hidden"});else this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:if(this.o.startDate!==-Infinity&&year<=this.o.startDate.getUTCFullYear())this.picker.find(".prev").css({visibility:"hidden"});
else this.picker.find(".prev").css({visibility:"visible"});if(this.o.endDate!==Infinity&&year>=this.o.endDate.getUTCFullYear())this.picker.find(".next").css({visibility:"hidden"});else this.picker.find(".next").css({visibility:"visible"});break}},click:function(e){e.preventDefault();var target=$(e.target).closest("span, td, th");if(target.length===1)switch(target[0].nodeName.toLowerCase()){case "th":switch(target[0].className){case "datepicker-switch":this.showMode(1);break;case "prev":case "next":var dir=
DPGlobal.modes[this.viewMode].navStep*(target[0].className==="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,dir);this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,dir);if(this.viewMode===1)this._trigger("changeYear",this.viewDate);break}this.fill();break;case "today":var date=new Date;date=UTCDate(date.getFullYear(),date.getMonth(),date.getDate(),0,0,0);this.showMode(-2);var which=this.o.todayBtn==="linked"?
null:"view";this._setDate(date,which);break;case "clear":if(this.isInput)var element=this.element;else if(this.component)element=this.element.find("input");if(element)element.val("").change();this.update();this._trigger("changeDate");if(this.o.autoclose)this.hide();break}break;case "span":if(!target.is(".disabled")){this.viewDate.setUTCDate(1);if(target.is(".month")){var day=1;var month=target.parent().find("span").index(target);var year=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(month);
this._trigger("changeMonth",this.viewDate);if(this.o.minViewMode===1)this._setDate(UTCDate(year,month,day))}else{day=1;month=0;year=parseInt(target.text(),10)||0;this.viewDate.setUTCFullYear(year);this._trigger("changeYear",this.viewDate);if(this.o.minViewMode===2)this._setDate(UTCDate(year,month,day))}this.showMode(-1);this.fill()}break;case "td":if(target.is(".day")&&!target.is(".disabled")){day=parseInt(target.text(),10)||1;year=this.viewDate.getUTCFullYear();month=this.viewDate.getUTCMonth();
if(target.is(".old"))if(month===0){month=11;year-=1}else month-=1;else if(target.is(".new"))if(month===11){month=0;year+=1}else month+=1;this._setDate(UTCDate(year,month,day))}break}if(this.picker.is(":visible")&&this._focused_from)$(this._focused_from).focus();delete this._focused_from},_toggle_multidate:function(date){var ix=this.dates.contains(date);if(!date)this.dates.clear();else if(ix!==-1)this.dates.remove(ix);else this.dates.push(date);if(typeof this.o.multidate==="number")for(;this.dates.length>
this.o.multidate;)this.dates.remove(0)},_setDate:function(date,which){if(!which||which==="date")this._toggle_multidate(date&&new Date(date));if(!which||which==="view")this.viewDate=date&&new Date(date);this.fill();this.setValue();this._trigger("changeDate");if(this.isInput)var element=this.element;else if(this.component)element=this.element.find("input");if(element)element.change();if(this.o.autoclose&&(!which||which==="date"))this.hide()},moveMonth:function(date,dir){if(!date)return undefined;if(!dir)return date;
var new_date=new Date(date.valueOf());var day=new_date.getUTCDate();var month=new_date.getUTCMonth();var mag=Math.abs(dir);dir=dir>0?1:-1;if(mag===1){var test=dir===-1?function(){return new_date.getUTCMonth()===month}:function(){return new_date.getUTCMonth()!==new_month};var new_month=month+dir;new_date.setUTCMonth(new_month);if(new_month<0||new_month>11)new_month=(new_month+12)%12}else{for(var i=0;i<mag;i++)new_date=this.moveMonth(new_date,dir);new_month=new_date.getUTCMonth();new_date.setUTCDate(day);
test=function(){return new_month!==new_date.getUTCMonth()}}for(;test();){new_date.setUTCDate(--day);new_date.setUTCMonth(new_month)}return new_date},moveYear:function(date,dir){return this.moveMonth(date,dir*12)},dateWithinRange:function(date){return date>=this.o.startDate&&date<=this.o.endDate},keydown:function(e){if(this.picker.is(":not(:visible)")){if(e.keyCode===27)this.show();return}var dateChanged=false;var focusDate=this.focusDate||this.viewDate;switch(e.keyCode){case 27:if(this.focusDate){this.focusDate=
null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill()}else this.hide();e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;var dir=e.keyCode===37?-1:1;if(e.ctrlKey){var newDate=this.moveYear(this.dates.get(-1)||UTCToday(),dir);var newViewDate=this.moveYear(focusDate,dir);this._trigger("changeYear",this.viewDate)}else if(e.shiftKey){newDate=this.moveMonth(this.dates.get(-1)||UTCToday(),dir);newViewDate=this.moveMonth(focusDate,dir);this._trigger("changeMonth",this.viewDate)}else{newDate=
new Date(this.dates.get(-1)||UTCToday());newDate.setUTCDate(newDate.getUTCDate()+dir);newViewDate=new Date(focusDate);newViewDate.setUTCDate(focusDate.getUTCDate()+dir)}if(this.dateWithinRange(newDate)){this.focusDate=this.viewDate=newViewDate;this.setValue();this.fill();e.preventDefault()}break;case 38:case 40:if(!this.o.keyboardNavigation)break;dir=e.keyCode===38?-1:1;if(e.ctrlKey){newDate=this.moveYear(this.dates.get(-1)||UTCToday(),dir);newViewDate=this.moveYear(focusDate,dir);this._trigger("changeYear",
this.viewDate)}else if(e.shiftKey){newDate=this.moveMonth(this.dates.get(-1)||UTCToday(),dir);newViewDate=this.moveMonth(focusDate,dir);this._trigger("changeMonth",this.viewDate)}else{newDate=new Date(this.dates.get(-1)||UTCToday());newDate.setUTCDate(newDate.getUTCDate()+dir*7);newViewDate=new Date(focusDate);newViewDate.setUTCDate(focusDate.getUTCDate()+dir*7)}if(this.dateWithinRange(newDate)){this.focusDate=this.viewDate=newViewDate;this.setValue();this.fill();e.preventDefault()}break;case 32:break;
case 13:focusDate=this.focusDate||this.dates.get(-1)||this.viewDate;this._toggle_multidate(focusDate);dateChanged=true;this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();if(this.picker.is(":visible")){e.preventDefault();if(this.o.autoclose)this.hide()}break;case 9:this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill();this.hide();break}if(dateChanged){if(this.dates.length)this._trigger("changeDate");else this._trigger("clearDate");
if(this.isInput)var element=this.element;else if(this.component)element=this.element.find("input");if(element)element.change()}},showMode:function(dir){if(dir)this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+dir));this.picker.find("\x3ediv").hide().filter(".datepicker-"+DPGlobal.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};var DateRangePicker=function(element,options){this.element=$(element);this.inputs=$.map(options.inputs,function(i){return i.jquery?
i[0]:i});delete options.inputs;$(this.inputs).datepicker(options).bind("changeDate",$.proxy(this.dateUpdated,this));this.pickers=$.map(this.inputs,function(i){return $(i).data("datepicker")});this.updateDates()};DateRangePicker.prototype={updateDates:function(){this.dates=$.map(this.pickers,function(i){return i.getUTCDate()});this.updateRanges()},updateRanges:function(){var range=$.map(this.dates,function(d){return d.valueOf()});$.each(this.pickers,function(i,p){p.setRange(range)})},dateUpdated:function(e){if(this.updating)return;
this.updating=true;var dp=$(e.target).data("datepicker");var new_date=dp.getUTCDate();var i$jscomp$0=$.inArray(e.target,this.inputs);var l=this.inputs.length;if(i$jscomp$0===-1)return;$.each(this.pickers,function(i,p){if(!p.getUTCDate())p.setUTCDate(new_date)});if(new_date<this.dates[i$jscomp$0])for(;i$jscomp$0>=0&&new_date<this.dates[i$jscomp$0];)this.pickers[i$jscomp$0--].setUTCDate(new_date);else if(new_date>this.dates[i$jscomp$0])for(;i$jscomp$0<l&&new_date>this.dates[i$jscomp$0];)this.pickers[i$jscomp$0++].setUTCDate(new_date);
this.updateDates();delete this.updating},remove:function(){$.map(this.pickers,function(p){p.remove()});delete this.element.data().datepicker}};var old=$.fn.datepicker;$.fn.datepicker=function(option){var args=Array.apply(null,arguments);args.shift();var internal_return;this.each(function(){var $this=$(this);var data=$this.data("datepicker");var options=typeof option==="object"&&option;if(!data){var elopts=opts_from_el(this,"date");var xopts=$.extend({},defaults,elopts,options);var locopts=opts_from_locale(xopts.language);
var opts=$.extend({},defaults,locopts,elopts,options);if($this.is(".input-daterange")||opts.inputs){var ropts={inputs:opts.inputs||$this.find("input").toArray()};$this.data("datepicker",data=new DateRangePicker(this,$.extend(opts,ropts)))}else $this.data("datepicker",data=new Datepicker(this,opts))}if(typeof option==="string"&&typeof data[option]==="function"){internal_return=data[option].apply(data,args);if(internal_return!==undefined)return false}});if(internal_return!==undefined)return internal_return;
else return this};var defaults=$.fn.datepicker.defaults={autoclose:false,beforeShowDay:$.noop,calendarWeeks:false,clearBtn:false,daysOfWeekDisabled:[],endDate:Infinity,forceParse:true,format:"mm/dd/yyyy",keyboardNavigation:true,language:"en",minViewMode:0,multidate:false,multidateSeparator:",",orientation:"auto",rtl:false,startDate:-Infinity,startView:0,todayBtn:false,todayHighlight:false,weekStart:0};var locale_opts=$.fn.datepicker.locale_opts=["format","rtl","weekStart"];$.fn.datepicker.Constructor=
Datepicker;var dates=$.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}};var DPGlobal={modes:[{clsName:"days",
navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(year){return year%4===0&&year%100!==0||year%400===0},getDaysInMonth:function(year,month){return[31,DPGlobal.isLeapYear(year)?29:28,31,30,31,30,31,31,30,31,30,31][month]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(format){var separators=format.replace(this.validParts,"\x00").split("\x00");
var parts=format.match(this.validParts);if(!separators||!separators.length||!parts||parts.length===0)throw new Error("Invalid date format.");return{separators,parts}},parseDate:function(date,format,language){function match_part(){var m=this.slice(0,parts[i$jscomp$0].length);var p=parts[i$jscomp$0].slice(0,m.length);return m===p}if(!date)return undefined;if(date instanceof Date)return date;if(typeof format==="string")format=DPGlobal.parseFormat(format);var part_re=/([\-+]\d+)([dmwy])/;var parts=date.match(/([\-+]\d+)([dmwy])/g);
var i$jscomp$0;if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(date)){date=new Date;for(i$jscomp$0=0;i$jscomp$0<parts.length;i$jscomp$0++){var part=part_re.exec(parts[i$jscomp$0]);var dir=parseInt(part[1]);switch(part[2]){case "d":date.setUTCDate(date.getUTCDate()+dir);break;case "m":date=Datepicker.prototype.moveMonth.call(Datepicker.prototype,date,dir);break;case "w":date.setUTCDate(date.getUTCDate()+dir*7);break;case "y":date=Datepicker.prototype.moveYear.call(Datepicker.prototype,date,dir);
break}}return UTCDate(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),0,0,0)}parts=date&&date.match(this.nonpunctuation)||[];date=new Date;var parsed={};var setters_order=["yyyy","yy","M","MM","m","mm","d","dd"];var setters_map={yyyy:function(d,v){return d.setUTCFullYear(v)},yy:function(d,v){return d.setUTCFullYear(2E3+v)},m:function(d,v){if(isNaN(d))return d;for(v-=1;v<0;)v+=12;v%=12;for(d.setUTCMonth(v);d.getUTCMonth()!==v;)d.setUTCDate(d.getUTCDate()-1);return d},d:function(d,v){return d.setUTCDate(v)}};
setters_map["M"]=setters_map["MM"]=setters_map["mm"]=setters_map["m"];setters_map["dd"]=setters_map["d"];date=UTCDate(date.getFullYear(),date.getMonth(),date.getDate(),0,0,0);var fparts=format.parts.slice();if(parts.length!==fparts.length)fparts=$(fparts).filter(function(i,p){return $.inArray(p,setters_order)!==-1}).toArray();if(parts.length===fparts.length){var cnt;for(i$jscomp$0=0,cnt=fparts.length;i$jscomp$0<cnt;i$jscomp$0++){var val=parseInt(parts[i$jscomp$0],10);part=fparts[i$jscomp$0];if(isNaN(val))switch(part){case "MM":var filtered=
$(dates[language].months).filter(match_part);val=$.inArray(filtered[0],dates[language].months)+1;break;case "M":filtered=$(dates[language].monthsShort).filter(match_part);val=$.inArray(filtered[0],dates[language].monthsShort)+1;break}parsed[part]=val}for(i$jscomp$0=0;i$jscomp$0<setters_order.length;i$jscomp$0++){var s=setters_order[i$jscomp$0];if(s in parsed&&!isNaN(parsed[s])){var _date=new Date(date);setters_map[s](_date,parsed[s]);if(!isNaN(_date))date=_date}}}return date},formatDate:function(date,
format,language){if(!date)return"";if(typeof format==="string")format=DPGlobal.parseFormat(format);var val={d:date.getUTCDate(),D:dates[language].daysShort[date.getUTCDay()],DD:dates[language].days[date.getUTCDay()],m:date.getUTCMonth()+1,M:dates[language].monthsShort[date.getUTCMonth()],MM:dates[language].months[date.getUTCMonth()],yy:date.getUTCFullYear().toString().substring(2),yyyy:date.getUTCFullYear()};val.dd=(val.d<10?"0":"")+val.d;val.mm=(val.m<10?"0":"")+val.m;date=[];var seps=$.extend([],
format.separators);var i=0;for(var cnt=format.parts.length;i<=cnt;i++){if(seps.length)date.push(seps.shift());date.push(val[format.parts[i]])}return date.join("")},headTemplate:"\x3cthead\x3e"+"\x3ctr\x3e"+'\x3cth class\x3d"prev"\x3e\x3ci class\x3d"fa fa-caret-left"\x3e\x3c/i\x3e\x3c/th\x3e'+'\x3cth colspan\x3d"5" class\x3d"datepicker-switch"\x3e\x3c/th\x3e'+'\x3cth class\x3d"next"\x3e\x3ci class\x3d"fa fa-caret-right"\x3e\x3c/i\x3e\x3c/th\x3e'+"\x3c/tr\x3e"+"\x3c/thead\x3e",contTemplate:'\x3ctbody\x3e\x3ctr\x3e\x3ctd colspan\x3d"7"\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e',
footTemplate:"\x3ctfoot\x3e"+"\x3ctr\x3e"+'\x3cth colspan\x3d"7" class\x3d"today"\x3e\x3c/th\x3e'+"\x3c/tr\x3e"+"\x3ctr\x3e"+'\x3cth colspan\x3d"7" class\x3d"clear"\x3e\x3c/th\x3e'+"\x3c/tr\x3e"+"\x3c/tfoot\x3e"};DPGlobal.template='\x3cdiv class\x3d"datepicker"\x3e'+'\x3cdiv class\x3d"datepicker-days"\x3e'+'\x3ctable class\x3d" table-condensed"\x3e'+DPGlobal.headTemplate+"\x3ctbody\x3e\x3c/tbody\x3e"+DPGlobal.footTemplate+"\x3c/table\x3e"+"\x3c/div\x3e"+'\x3cdiv class\x3d"datepicker-months"\x3e'+
'\x3ctable class\x3d"table-condensed"\x3e'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+"\x3c/table\x3e"+"\x3c/div\x3e"+'\x3cdiv class\x3d"datepicker-years"\x3e'+'\x3ctable class\x3d"table-condensed"\x3e'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+"\x3c/table\x3e"+"\x3c/div\x3e"+"\x3c/div\x3e";$.fn.datepicker.DPGlobal=DPGlobal;$.fn.datepicker.noConflict=function(){$.fn.datepicker=old;return this};$(document).on("focus.datepicker.data-api click.datepicker.data-api",
'[data-provide\x3d"datepicker"]',function(e){var $this=$(this);if($this.data("datepicker"))return;e.preventDefault();$this.datepicker("show")});$(function(){$('[data-provide\x3d"datepicker-inline"]').datepicker()})})(window.jQuery);!function($){function isObservableArray(obj){return ko.isObservable(obj)&&!(obj.destroyAll===undefined)}function forEach(array,callback){for(var index=0;index<array.length;++index)callback(array[index])}function Multiselect(select,options){this.$select=$(select);this.options=this.mergeOptions($.extend({},options,this.$select.data()));this.originalOptions=this.$select.clone()[0].options;this.query="";this.searchTimeout=null;this.options.multiple=this.$select.attr("multiple")==="multiple";this.options.onChange=
$.proxy(this.options.onChange,this);this.options.onDropdownShow=$.proxy(this.options.onDropdownShow,this);this.options.onDropdownHide=$.proxy(this.options.onDropdownHide,this);this.options.onDropdownShown=$.proxy(this.options.onDropdownShown,this);this.options.onDropdownHidden=$.proxy(this.options.onDropdownHidden,this);this.buildContainer();this.buildButton();this.buildDropdown();this.buildSelectAll();this.buildDropdownOptions();this.buildFilter();this.updateButtonText();this.updateSelectAll();if(this.options.disableIfEmpty&&
$("option",this.$select).length<=0)this.disable();this.$select.hide().after(this.$container)}if(typeof ko!=="undefined"&&ko.bindingHandlers&&!ko.bindingHandlers.multiselect)ko.bindingHandlers.multiselect={init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var listOfSelectedItems=allBindingsAccessor().selectedOptions;var config=ko.utils.unwrapObservable(valueAccessor());$(element).multiselect(config);if(isObservableArray(listOfSelectedItems)){$(element).multiselect("select",
ko.utils.unwrapObservable(listOfSelectedItems));listOfSelectedItems.subscribe(function(changes){var addedArray=[];var deletedArray=[];forEach(changes,function(change){switch(change.status){case "added":addedArray.push(change.value);break;case "deleted":deletedArray.push(change.value);break}});if(addedArray.length>0)$(element).multiselect("select",addedArray);if(deletedArray.length>0)$(element).multiselect("deselect",deletedArray)},null,"arrayChange")}},update:function(element,valueAccessor,allBindingsAccessor,
viewModel,bindingContext){var listOfItems=allBindingsAccessor().options;var ms=$(element).data("multiselect");var config=ko.utils.unwrapObservable(valueAccessor());if(isObservableArray(listOfItems))listOfItems.subscribe(function(theArray){$(element).multiselect("rebuild")});if(!ms)$(element).multiselect(config);else ms.updateOriginalOptions()}};Multiselect.prototype={defaults:{buttonText:function(options,select){if(options.length===0)return this.nonSelectedText+' \x3cb class\x3d"caret"\x3e\x3c/b\x3e';
else if(options.length==$("option",$(select)).length)return this.allSelectedText+' \x3cb class\x3d"caret"\x3e\x3c/b\x3e';else if(options.length>this.numberDisplayed)return options.length+" "+this.nSelectedText+' \x3cb class\x3d"caret"\x3e\x3c/b\x3e';else{var selected="";options.each(function(){var label=$(this).attr("label")!==undefined?$(this).attr("label"):$(this).html();selected+=label+", "});return selected.substr(0,selected.length-2)+' \x3cb class\x3d"caret"\x3e\x3c/b\x3e'}},buttonTitle:function(options,
select){if(options.length===0)return this.nonSelectedText;else{var selected="";options.each(function(){selected+=$(this).text()+", "});return selected.substr(0,selected.length-2)}},label:function(element){return $(element).attr("label")||$(element).html()},onChange:function(option,checked){},onDropdownShow:function(event){},onDropdownHide:function(event){},onDropdownShown:function(event){},onDropdownHidden:function(event){},buttonClass:"btn btn-default",buttonWidth:"auto",buttonContainer:'\x3cdiv class\x3d"btn-group" /\x3e',
dropRight:false,selectedClass:"active",maxHeight:false,checkboxName:false,includeSelectAllOption:false,includeSelectAllIfMoreThan:0,selectAllText:" Select all",selectAllValue:"multiselect-all",selectAllName:false,enableFiltering:false,enableCaseInsensitiveFiltering:false,enableClickableOptGroups:false,filterPlaceholder:"Search",filterBehavior:"text",includeFilterClearBtn:true,preventInputChangeEvent:false,nonSelectedText:"None selected",nSelectedText:"selected",allSelectedText:"All selected",numberDisplayed:3,
disableIfEmpty:false,templates:{button:'\x3cbutton type\x3d"button" class\x3d"multiselect dropdown-toggle" data-toggle\x3d"dropdown"\x3e\x3c/button\x3e',ul:'\x3cul class\x3d"multiselect-container dropdown-menu"\x3e\x3c/ul\x3e',filter:'\x3cli class\x3d"multiselect-item filter"\x3e\x3cdiv class\x3d"input-group"\x3e\x3cspan class\x3d"input-group-addon"\x3e\x3ci class\x3d"glyphicon glyphicon-search"\x3e\x3c/i\x3e\x3c/span\x3e\x3cinput class\x3d"form-control multiselect-search" type\x3d"text"\x3e\x3c/div\x3e\x3c/li\x3e',
filterClearBtn:'\x3cspan class\x3d"input-group-btn"\x3e\x3cbutton class\x3d"btn btn-default multiselect-clear-filter" type\x3d"button"\x3e\x3ci class\x3d"glyphicon glyphicon-remove-circle"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/span\x3e',li:'\x3cli\x3e\x3ca href\x3d"javascript:void(0);"\x3e\x3clabel\x3e\x3c/label\x3e\x3c/a\x3e\x3c/li\x3e',divider:'\x3cli class\x3d"multiselect-item divider"\x3e\x3c/li\x3e',liGroup:'\x3cli class\x3d"multiselect-item multiselect-group"\x3e\x3clabel\x3e\x3c/label\x3e\x3c/li\x3e'}},
constructor:Multiselect,buildContainer:function(){this.$container=$(this.options.buttonContainer);this.$container.on("show.bs.dropdown",this.options.onDropdownShow);this.$container.on("hide.bs.dropdown",this.options.onDropdownHide);this.$container.on("shown.bs.dropdown",this.options.onDropdownShown);this.$container.on("hidden.bs.dropdown",this.options.onDropdownHidden)},buildButton:function(){this.$button=$(this.options.templates.button).addClass(this.options.buttonClass);if(this.$select.prop("disabled"))this.disable();
else this.enable();if(this.options.buttonWidth&&this.options.buttonWidth!=="auto"){this.$button.css({"width":this.options.buttonWidth});this.$container.css({"width":this.options.buttonWidth})}var tabindex=this.$select.attr("tabindex");if(tabindex)this.$button.attr("tabindex",tabindex);this.$container.prepend(this.$button)},buildDropdown:function(){this.$ul=$(this.options.templates.ul);if(this.options.dropRight)this.$ul.addClass("pull-right");if(this.options.maxHeight)this.$ul.css({"max-height":this.options.maxHeight+
"px","overflow-y":"auto","overflow-x":"hidden"});this.$container.append(this.$ul)},buildDropdownOptions:function(){this.$select.children().each($.proxy(function(index,element){var $element=$(element);var tag=$element.prop("tagName").toLowerCase();if($element.prop("value")===this.options.selectAllValue)return;if(tag==="optgroup")this.createOptgroup(element);else if(tag==="option")if($element.data("role")==="divider")this.createDivider();else this.createOptionValue(element)},this));$("li input",this.$ul).on("change",
$.proxy(function(event){var $target=$(event.target);var checked=$target.prop("checked")||false;var isSelectAllOption=$target.val()===this.options.selectAllValue;if(this.options.selectedClass)if(checked)$target.closest("li").addClass(this.options.selectedClass);else $target.closest("li").removeClass(this.options.selectedClass);var value=$target.val();var $option=this.getOptionByValue(value);var $optionsNotThis=$("option",this.$select).not($option);var $checkboxesNotThis=$("input",this.$container).not($target);
if(isSelectAllOption)if(checked)this.selectAll();else this.deselectAll();if(!isSelectAllOption)if(checked){$option.prop("selected",true);if(this.options.multiple)$option.prop("selected",true);else{if(this.options.selectedClass)$($checkboxesNotThis).closest("li").removeClass(this.options.selectedClass);$($checkboxesNotThis).prop("checked",false);$optionsNotThis.prop("selected",false);this.$button.click()}if(this.options.selectedClass==="active")$optionsNotThis.closest("a").css("outline","")}else $option.prop("selected",
false);this.$select.change();this.updateButtonText();this.updateSelectAll();this.options.onChange($option,checked);if(this.options.preventInputChangeEvent)return false},this));$("li a",this.$ul).on("touchstart click",function(event){event.stopPropagation();var $target=$(event.target);if(document.getSelection().type==="Range"){var $input=$(this).find("input:first");$input.prop("checked",!$input.prop("checked")).trigger("change")}if(event.shiftKey){var checked=$target.prop("checked")||false;if(checked){var prev=
$target.closest("li").siblings('li[class\x3d"active"]:first');var currentIdx=$target.closest("li").index();var prevIdx=prev.index();if(currentIdx>prevIdx)$target.closest("li").prevUntil(prev).each(function(){$(this).find("input:first").prop("checked",true).trigger("change")});else $target.closest("li").nextUntil(prev).each(function(){$(this).find("input:first").prop("checked",true).trigger("change")})}}$target.blur()});this.$container.off("keydown.multiselect").on("keydown.multiselect",$.proxy(function(event){if($('input[type\x3d"text"]',
this.$container).is(":focus"))return;if((event.keyCode===9||event.keyCode===27)&&this.$container.hasClass("open"))this.$button.click().focus();else{var $items=$(this.$container).find("li:not(.divider):not(.disabled) a").filter(":visible");if(!$items.length)return;var index=$items.index($items.filter(":focus"));if(event.keyCode===38&&index>0)index--;else if(event.keyCode===40&&index<$items.length-1)index++;else if(!~index)index=0;var $current=$items.eq(index);$current.focus();if(event.keyCode===32||
event.keyCode===13){var $checkbox=$current.find("input");$checkbox.prop("checked",!$checkbox.prop("checked"));$checkbox.change()}event.stopPropagation();event.preventDefault()}},this));if(this.options.enableClickableOptGroups&&this.options.multiple)$("li.multiselect-group",this.$ul).on("click",$.proxy(function(event){event.stopPropagation();var group=$(event.target).parent();var $options=group.nextUntil("li.multiselect-group");var allChecked=true;var optionInputs=$options.find("input");optionInputs.each(function(){allChecked=
allChecked&&$(this).prop("checked")});optionInputs.prop("checked",!allChecked).trigger("change")},this))},createOptionValue:function(element){var $element=$(element);if($element.is(":selected"))$element.prop("selected",true);var label=this.options.label(element);var value=$element.val();var inputType=this.options.multiple?"checkbox":"radio";var $li=$(this.options.templates.li);var $label=$("label",$li);$label.addClass(inputType);var $checkbox=$("\x3cinput/\x3e").attr("type",inputType);if(this.options.checkboxName)$checkbox.attr("name",
this.options.checkboxName);$label.append($checkbox);var selected=$element.prop("selected")||false;$checkbox.val(value);if(value===this.options.selectAllValue){$li.addClass("multiselect-item multiselect-all");$checkbox.parent().parent().addClass("multiselect-all")}$label.append(" "+label);$label.attr("title",$element.attr("title"));this.$ul.append($li);if($element.is(":disabled"))$checkbox.attr("disabled","disabled").prop("disabled",true).closest("a").attr("tabindex","-1").closest("li").addClass("disabled");
$checkbox.prop("checked",selected);if(selected&&this.options.selectedClass)$checkbox.closest("li").addClass(this.options.selectedClass)},createDivider:function(element){var $divider=$(this.options.templates.divider);this.$ul.append($divider)},createOptgroup:function(group){var groupName=$(group).prop("label");var $li=$(this.options.templates.liGroup);$("label",$li).text(groupName);if(this.options.enableClickableOptGroups)$li.addClass("multiselect-group-clickable");this.$ul.append($li);if($(group).is(":disabled"))$li.addClass("disabled");
$("option",group).each($.proxy(function(index,element){this.createOptionValue(element)},this))},buildSelectAll:function(){if(typeof this.options.selectAllValue==="number")this.options.selectAllValue=this.options.selectAllValue.toString();var alreadyHasSelectAll=this.hasSelectAll();if(!alreadyHasSelectAll&&this.options.includeSelectAllOption&&this.options.multiple&&$("option",this.$select).length>this.options.includeSelectAllIfMoreThan){if(this.options.includeSelectAllDivider)this.$ul.prepend($(this.options.templates.divider));
var $li=$(this.options.templates.li);$("label",$li).addClass("checkbox");if(this.options.selectAllName)$("label",$li).append('\x3cinput type\x3d"checkbox" name\x3d"'+this.options.selectAllName+'" /\x3e');else $("label",$li).append('\x3cinput type\x3d"checkbox" /\x3e');var $checkbox=$("input",$li);$checkbox.val(this.options.selectAllValue);$li.addClass("multiselect-item multiselect-all");$checkbox.parent().parent().addClass("multiselect-all");$("label",$li).append(" "+this.options.selectAllText);this.$ul.prepend($li);
$checkbox.prop("checked",false)}},buildFilter:function(){if(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering){var enableFilterLength=Math.max(this.options.enableFiltering,this.options.enableCaseInsensitiveFiltering);if(this.$select.find("option").length>=enableFilterLength){this.$filter=$(this.options.templates.filter);$("input",this.$filter).attr("placeholder",this.options.filterPlaceholder);if(this.options.includeFilterClearBtn){var clearBtn=$(this.options.templates.filterClearBtn);
clearBtn.on("click",$.proxy(function(event){clearTimeout(this.searchTimeout);this.$filter.find(".multiselect-search").val("");$("li",this.$ul).show().removeClass("filter-hidden");this.updateSelectAll()},this));this.$filter.find(".input-group").append(clearBtn)}this.$ul.prepend(this.$filter);this.$filter.val(this.query).on("click",function(event){event.stopPropagation()}).on("input keydown",$.proxy(function(event){if(event.which===13)event.preventDefault();clearTimeout(this.searchTimeout);this.searchTimeout=
this.asyncFunction($.proxy(function(){if(this.query!==event.target.value){this.query=event.target.value;var currentGroup;var currentGroupVisible;$.each($("li",this.$ul),$.proxy(function(index,element){var value=$("input",element).val();var text=$("label",element).text();var filterCandidate="";if(this.options.filterBehavior==="text")filterCandidate=text;else if(this.options.filterBehavior==="value")filterCandidate=value;else if(this.options.filterBehavior==="both")filterCandidate=text+"\n"+value;if(value!==
this.options.selectAllValue&&text){var showElement=false;if(this.options.enableCaseInsensitiveFiltering&&filterCandidate.toLowerCase().indexOf(this.query.toLowerCase())>-1)showElement=true;else if(filterCandidate.indexOf(this.query)>-1)showElement=true;$(element).toggle(showElement).toggleClass("filter-hidden",!showElement);if($(element).hasClass("multiselect-group")){currentGroup=element;currentGroupVisible=showElement}else{if(showElement)$(currentGroup).show().removeClass("filter-hidden");if(!showElement&&
currentGroupVisible)$(element).show().removeClass("filter-hidden")}}},this))}this.updateSelectAll()},this),300,this)},this))}}},destroy:function(){this.$container.remove();this.$select.show();this.$select.data("multiselect",null)},refresh:function(){$("option",this.$select).each($.proxy(function(index,element){var $input=$("li input",this.$ul).filter(function(){return $(this).val()===$(element).val()});if($(element).is(":selected")){$input.prop("checked",true);if(this.options.selectedClass)$input.closest("li").addClass(this.options.selectedClass)}else{$input.prop("checked",
false);if(this.options.selectedClass)$input.closest("li").removeClass(this.options.selectedClass)}if($(element).is(":disabled"))$input.attr("disabled","disabled").prop("disabled",true).closest("li").addClass("disabled");else $input.prop("disabled",false).closest("li").removeClass("disabled")},this));this.updateButtonText();this.updateSelectAll()},select:function(selectValues,triggerOnChange){if(!$.isArray(selectValues))selectValues=[selectValues];for(var i=0;i<selectValues.length;i++){var value=selectValues[i];
if(value===null||value===undefined)continue;var $option=this.getOptionByValue(value);var $checkbox=this.getInputByValue(value);if($option===undefined||$checkbox===undefined)continue;if(!this.options.multiple)this.deselectAll(false);if(this.options.selectedClass)$checkbox.closest("li").addClass(this.options.selectedClass);$checkbox.prop("checked",true);$option.prop("selected",true)}this.updateButtonText();this.updateSelectAll();if(triggerOnChange&&selectValues.length===1)this.options.onChange($option,
true)},clearSelection:function(){this.deselectAll(false);this.updateButtonText();this.updateSelectAll()},deselect:function(deselectValues,triggerOnChange){if(!$.isArray(deselectValues))deselectValues=[deselectValues];for(var i=0;i<deselectValues.length;i++){var value=deselectValues[i];if(value===null||value===undefined)continue;var $option=this.getOptionByValue(value);var $checkbox=this.getInputByValue(value);if($option===undefined||$checkbox===undefined)continue;if(this.options.selectedClass)$checkbox.closest("li").removeClass(this.options.selectedClass);
$checkbox.prop("checked",false);$option.prop("selected",false)}this.updateButtonText();this.updateSelectAll();if(triggerOnChange&&deselectValues.length===1)this.options.onChange($option,false)},selectAll:function(justVisible){justVisible=typeof justVisible==="undefined"?true:justVisible;var allCheckboxes=$("li input[type\x3d'checkbox']:enabled",this.$ul);var visibleCheckboxes=allCheckboxes.filter(":visible");var allCheckboxesCount=allCheckboxes.length;var visibleCheckboxesCount=visibleCheckboxes.length;
if(justVisible){visibleCheckboxes.prop("checked",true);$("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").addClass(this.options.selectedClass)}else{allCheckboxes.prop("checked",true);$("li:not(.divider):not(.disabled)",this.$ul).addClass(this.options.selectedClass)}if(allCheckboxesCount===visibleCheckboxesCount||justVisible===false)$("option:enabled",this.$select).prop("selected",true);else{var values=visibleCheckboxes.map(function(){return $(this).val()}).get();$("option:enabled",this.$select).filter(function(index){return $.inArray($(this).val(),
values)!==-1}).prop("selected",true)}},deselectAll:function(justVisible){justVisible=typeof justVisible==="undefined"?true:justVisible;if(justVisible){var visibleCheckboxes=$("li input[type\x3d'checkbox']:enabled",this.$ul).filter(":visible");visibleCheckboxes.prop("checked",false);var values=visibleCheckboxes.map(function(){return $(this).val()}).get();$("option:enabled",this.$select).filter(function(index){return $.inArray($(this).val(),values)!==-1}).prop("selected",false);if(this.options.selectedClass)$("li:not(.divider):not(.disabled)",
this.$ul).filter(":visible").removeClass(this.options.selectedClass)}else{$("li input[type\x3d'checkbox']:enabled",this.$ul).prop("checked",false);$("option:enabled",this.$select).prop("selected",false);if(this.options.selectedClass)$("li:not(.divider):not(.disabled)",this.$ul).removeClass(this.options.selectedClass)}},rebuild:function(){this.$ul.html("");this.options.multiple=this.$select.attr("multiple")==="multiple";this.buildSelectAll();this.buildDropdownOptions();this.buildFilter();this.updateButtonText();
this.updateSelectAll();if(this.options.disableIfEmpty&&$("option",this.$select).length<=0)this.disable();if(this.options.dropRight)this.$ul.addClass("pull-right")},dataprovider:function(dataprovider){var optionDOM="";var groupCounter=0;var tags=$("");$.each(dataprovider,function(index,option){if($.isArray(option.children)){groupCounter++;var tag=$("\x3coptgroup/\x3e").attr({label:option.label||"Group "+groupCounter});forEach(option.children,function(subOption){tag.append($("\x3coption/\x3e").attr({value:subOption.value,
label:subOption.label||subOption.value,title:subOption.title,selected:!!subOption.selected}))});optionDOM+="\x3c/optgroup\x3e"}else tag=$("\x3coption/\x3e").attr({value:option.value,label:option.label||option.value,title:option.title,selected:!!option.selected});tags=tags.add(tag)});this.$select.empty().append(tags);this.rebuild()},enable:function(){this.$select.prop("disabled",false);this.$button.prop("disabled",false).removeClass("disabled")},disable:function(){this.$select.prop("disabled",true);
this.$button.prop("disabled",true).addClass("disabled")},setOptions:function(options){this.options=this.mergeOptions(options)},mergeOptions:function(options){return $.extend(true,{},this.defaults,options)},hasSelectAll:function(){return $("li."+this.options.selectAllValue,this.$ul).length>0},updateSelectAll:function(){if(this.hasSelectAll()){var allBoxes=$("li:not(.multiselect-item):not(.filter-hidden) input:enabled",this.$ul);var allBoxesLength=allBoxes.length;var checkedBoxesLength=allBoxes.filter(":checked").length;
var selectAllLi=$("li."+this.options.selectAllValue,this.$ul);var selectAllInput=selectAllLi.find("input");if(checkedBoxesLength>0&&checkedBoxesLength===allBoxesLength){selectAllInput.prop("checked",true);selectAllLi.addClass(this.options.selectedClass)}else{selectAllInput.prop("checked",false);selectAllLi.removeClass(this.options.selectedClass)}}},updateButtonText:function(){var options=this.getSelected();$(".multiselect",this.$container).html(this.options.buttonText(options,this.$select));$(".multiselect",
this.$container).attr("title",this.options.buttonTitle(options,this.$select))},getSelected:function(){return $("option",this.$select).filter(":selected")},getOptionByValue:function(value){var options=$("option",this.$select);var valueToCompare=value.toString();for(var i=0;i<options.length;i+=1){var option=options[i];if(option.value===valueToCompare)return $(option)}},getInputByValue:function(value){var checkboxes=$("li input",this.$ul);var valueToCompare=value.toString();for(var i=0;i<checkboxes.length;i+=
1){var checkbox=checkboxes[i];if(checkbox.value===valueToCompare)return $(checkbox)}},updateOriginalOptions:function(){this.originalOptions=this.$select.clone()[0].options},asyncFunction:function(callback,timeout,self){var args=Array.prototype.slice.call(arguments,3);return setTimeout(function(){callback.apply(self||window,args)},timeout)}};$.fn.multiselect=function(option,parameter,extraOptions){return this.each(function(){var data=$(this).data("multiselect");var options=typeof option==="object"&&
option;if(!data){data=new Multiselect(this,options);$(this).data("multiselect",data)}if(typeof option==="string"){data[option](parameter,extraOptions);if(option==="destroy")$(this).data("multiselect",false)}})};$.fn.multiselect.Constructor=Multiselect;$(function(){$("select[data-role\x3dmultiselect]").multiselect()})}(window.jQuery);!function(a$jscomp$0){function b$jscomp$2(a,c){if(!(this instanceof b$jscomp$2)){var d=new b$jscomp$2(a,c);return d.open(),d}this.id=b$jscomp$2.id++,this.setup(a,c),this.chainCallbacks(b$jscomp$2._callbackChain)}function c$jscomp$1(a,b){var c={};for(var d in a)d in b&&(c[d]=a[d],delete a[d]);return c}function d$jscomp$0(a,b){var c={};var d=new RegExp("^"+b+"([A-Z])(.*)");for(var e in a){var f=e.match(d);if(f){var g=(f[1]+f[2].replace(/([A-Z])/g,"-$1")).toLowerCase();c[g]=a[e]}}return c}if("undefined"==
typeof a$jscomp$0)return void("console"in window&&window.console.info("Too much lightness, Featherlight needs jQuery."));var e$jscomp$0=[];var f=function(b){return e$jscomp$0=a$jscomp$0.grep(e$jscomp$0,function(a){return a!==b&&a.$instance.closest("body").length>0})};var g={allowfullscreen:1,frameborder:1,height:1,longdesc:1,marginheight:1,marginwidth:1,name:1,referrerpolicy:1,scrolling:1,sandbox:1,src:1,srcdoc:1,width:1};var h$jscomp$0={keyup:"onKeyUp",resize:"onResize"};var i$jscomp$0=function(c){a$jscomp$0.each(b$jscomp$2.opened().reverse(),
function(){return c.isDefaultPrevented()||!1!==this[h$jscomp$0[c.type]](c)?void 0:(c.preventDefault(),c.stopPropagation(),!1)})};var j$jscomp$0=function(c$jscomp$0){if(c$jscomp$0!==b$jscomp$2._globalHandlerInstalled){b$jscomp$2._globalHandlerInstalled=c$jscomp$0;var d=a$jscomp$0.map(h$jscomp$0,function(a,c){return c+"."+b$jscomp$2.prototype.namespace}).join(" ");a$jscomp$0(window)[c$jscomp$0?"on":"off"](d,i$jscomp$0)}};b$jscomp$2.prototype={constructor:b$jscomp$2,namespace:"featherlight",targetAttr:"data-featherlight",
variant:null,resetCss:!1,background:null,openTrigger:"click",closeTrigger:"click",filter:null,root:"body",openSpeed:250,closeSpeed:250,closeOnClick:"background",closeOnEsc:!0,closeIcon:"\x26#10005;",loading:"",persist:!1,otherClose:null,beforeOpen:a$jscomp$0.noop,beforeContent:a$jscomp$0.noop,beforeClose:a$jscomp$0.noop,afterOpen:a$jscomp$0.noop,afterContent:a$jscomp$0.noop,afterClose:a$jscomp$0.noop,onKeyUp:a$jscomp$0.noop,onResize:a$jscomp$0.noop,type:null,contentFilters:["jquery","image","html",
"ajax","iframe","text"],setup:function(b$jscomp$0,c$jscomp$0){"object"!=typeof b$jscomp$0||b$jscomp$0 instanceof a$jscomp$0!=!1||c$jscomp$0||(c$jscomp$0=b$jscomp$0,b$jscomp$0=void 0);var d=a$jscomp$0.extend(this,c$jscomp$0,{target:b$jscomp$0});var e=d.resetCss?d.namespace+"-reset":d.namespace;var f=a$jscomp$0(d.background||['\x3cdiv class\x3d"'+e+"-loading "+e+'"\x3e','\x3cdiv class\x3d"'+e+'-content"\x3e','\x3cbutton class\x3d"'+e+"-close-icon "+d.namespace+'-close" aria-label\x3d"Close"\x3e',d.closeIcon,
"\x3c/button\x3e",'\x3cdiv class\x3d"'+d.namespace+'-inner"\x3e'+d.loading+"\x3c/div\x3e","\x3c/div\x3e","\x3c/div\x3e"].join(""));var g="."+d.namespace+"-close"+(d.otherClose?","+d.otherClose:"");return d.$instance=f.clone().addClass(d.variant),d.$instance.on(d.closeTrigger+"."+d.namespace,function(b){var c=a$jscomp$0(b.target);("background"===d.closeOnClick&&c.is("."+d.namespace)||"anywhere"===d.closeOnClick||c.closest(g).length)&&(d.close(b),b.preventDefault())}),this},getContent:function(){if(this.persist!==
!1&&this.$content)return this.$content;var b=this;var c=this.constructor.contentFilters;var d=function(a){return b.$currentTarget&&b.$currentTarget.attr(a)};var e=d(b.targetAttr);var f=b.target||e||"";var g=c[b.type];if(!g&&f in c&&(g=c[f],f=b.target&&e),f=f||d("href")||"",!g)for(var h in c)b[h]&&(g=c[h],f=b[h]);if(!g){var i=f;if(f=null,a$jscomp$0.each(b.contentFilters,function(){return g=c[this],g.test&&(f=g.test(i)),!f&&g.regex&&i.match&&i.match(g.regex)&&(f=i),!f}),!f)return"console"in window&&
window.console.error("Featherlight: no content filter found "+(i?' for "'+i+'"':" (no target specified)")),!1}return g.process.call(b,f)},setContent:function(b){var c=this;return(b.is("iframe")||a$jscomp$0("iframe",b).length>0)&&c.$instance.addClass(c.namespace+"-iframe"),c.$instance.removeClass(c.namespace+"-loading"),c.$instance.find("."+c.namespace+"-inner").not(b).slice(1).remove().end().replaceWith(a$jscomp$0.contains(c.$instance[0],b[0])?"":b),c.$content=b.addClass(c.namespace+"-inner"),c},
open:function(b){var c=this;if(c.$instance.hide().appendTo(c.root),!(b&&b.isDefaultPrevented()||c.beforeOpen(b)===!1)){b&&b.preventDefault();var d=c.getContent();if(d)return e$jscomp$0.push(c),j$jscomp$0(!0),c.$instance.fadeIn(c.openSpeed),c.beforeContent(b),a$jscomp$0.when(d).always(function(a){c.setContent(a),c.afterContent(b)}).then(c.$instance.promise()).done(function(){c.afterOpen(b)})}return c.$instance.detach(),a$jscomp$0.Deferred().reject().promise()},close:function(b){var c=this;var d=a$jscomp$0.Deferred();
return c.beforeClose(b)===!1?d.reject():(0===f(c).length&&j$jscomp$0(!1),c.$instance.fadeOut(c.closeSpeed,function(){c.$instance.detach(),c.afterClose(b),d.resolve()})),d.promise()},resize:function(a,b){if(a&&b){this.$content.css("width","").css("height","");var c=Math.max(a/(parseInt(this.$content.parent().css("width"),10)-1),b/(parseInt(this.$content.parent().css("height"),10)-1));c>1&&(c=b/Math.floor(b/c),this.$content.css("width",""+a/c+"px").css("height",""+b/c+"px"))}},chainCallbacks:function(b){for(var c in b)this[c]=
a$jscomp$0.proxy(b[c],this,a$jscomp$0.proxy(this[c],this))}},a$jscomp$0.extend(b$jscomp$2,{id:0,autoBind:"[data-featherlight]",defaults:b$jscomp$2.prototype,contentFilters:{jquery:{regex:/^[#.]\w/,test:function(b){return b instanceof a$jscomp$0&&b},process:function(b){return this.persist!==!1?a$jscomp$0(b):a$jscomp$0(b).clone(!0)}},image:{regex:/\.(png|jpg|jpeg|gif|tiff|bmp|svg)(\?\S*)?$/i,process:function(b){var c=this;var d=a$jscomp$0.Deferred();var e=new Image;var f=a$jscomp$0('\x3cimg src\x3d"'+
b+'" alt\x3d"" class\x3d"'+c.namespace+'-image" /\x3e');return e.onload=function(){f.naturalWidth=e.width,f.naturalHeight=e.height,d.resolve(f)},e.onerror=function(){d.reject(f)},e.src=b,d.promise()}},html:{regex:/^\s*<[\w!][^<]*>/,process:function(b){return a$jscomp$0(b)}},ajax:{regex:/./,process:function(b$jscomp$0){var c=a$jscomp$0.Deferred();var d=a$jscomp$0("\x3cdiv\x3e\x3c/div\x3e").load(b$jscomp$0,function(a,b){"error"!==b&&c.resolve(d.contents()),c.fail()});return c.promise()}},iframe:{process:function(b){var e=
new a$jscomp$0.Deferred;var f=a$jscomp$0("\x3ciframe/\x3e");var h=d$jscomp$0(this,"iframe");var i=c$jscomp$1(h,g);return f.hide().attr("src",b).attr(i).css(h).on("load",function(){e.resolve(f.show())}).appendTo(this.$instance.find("."+this.namespace+"-content")),e.promise()}},text:{process:function(b){return a$jscomp$0("\x3cdiv\x3e",{text:b})}}},functionAttributes:["beforeOpen","afterOpen","beforeContent","afterContent","beforeClose","afterClose"],readElementConfig:function(b$jscomp$0,c$jscomp$0){var d=
this;var e=new RegExp("^data-"+c$jscomp$0+"-(.*)");var f={};return b$jscomp$0&&b$jscomp$0.attributes&&a$jscomp$0.each(b$jscomp$0.attributes,function(){var b=this.name.match(e);if(b){var c=this.value;var g=a$jscomp$0.camelCase(b[1]);if(a$jscomp$0.inArray(g,d.functionAttributes)>=0)c=new Function(c);else try{c=JSON.parse(c)}catch(h){}f[g]=c}}),f},extend:function(b,c){var d=function(){this.constructor=b};return d.prototype=this.prototype,b.prototype=new d,b.__super__=this.prototype,a$jscomp$0.extend(b,
this,c),b.defaults=b.prototype,b},attach:function(b,c,d){var e=this;"object"!=typeof c||c instanceof a$jscomp$0!=!1||d||(d=c,c=void 0),d=a$jscomp$0.extend({},d);var f;var g$jscomp$0=d.namespace||e.defaults.namespace;var h=a$jscomp$0.extend({},e.defaults,e.readElementConfig(b[0],g$jscomp$0),d);return b.on(h.openTrigger+"."+h.namespace,h.filter,function(g){var i=a$jscomp$0.extend({$source:b,$currentTarget:a$jscomp$0(this)},e.readElementConfig(b[0],h.namespace),e.readElementConfig(this,h.namespace),
d);var j=f||a$jscomp$0(this).data("featherlight-persisted")||new e(c,i);"shared"===j.persist?f=j:j.persist!==!1&&a$jscomp$0(this).data("featherlight-persisted",j),i.$currentTarget.blur(),j.open(g)}),b},current:function(){var a=this.opened();return a[a.length-1]||null},opened:function(){var b=this;return f(),a$jscomp$0.grep(e$jscomp$0,function(a){return a instanceof b})},close:function(a){var b=this.current();return b?b.close(a):void 0},_onReady:function(){var b=this;b.autoBind&&(a$jscomp$0(b.autoBind).each(function(){b.attach(a$jscomp$0(this))}),
a$jscomp$0(document).on("click",b.autoBind,function(c){c.isDefaultPrevented()||"featherlight"===c.namespace||(c.preventDefault(),b.attach(a$jscomp$0(c.currentTarget)),a$jscomp$0(c.target).trigger("click.featherlight"))}))},_callbackChain:{onKeyUp:function(b,c){return 27===c.keyCode?(this.closeOnEsc&&a$jscomp$0.featherlight.close(c),!1):b(c)},beforeOpen:function(b$jscomp$0,c$jscomp$0){return this._previouslyActive=document.activeElement,this._$previouslyTabbable=a$jscomp$0("a, input, select, textarea, iframe, button, iframe, [contentEditable\x3dtrue]").not("[tabindex]").not(this.$instance.find("button")),
this._$previouslyWithTabIndex=a$jscomp$0("[tabindex]").not('[tabindex\x3d"-1"]'),this._previousWithTabIndices=this._$previouslyWithTabIndex.map(function(b,c){return a$jscomp$0(c).attr("tabindex")}),this._$previouslyWithTabIndex.add(this._$previouslyTabbable).attr("tabindex",-1),document.activeElement.blur(),b$jscomp$0(c$jscomp$0)},afterClose:function(b$jscomp$0,c$jscomp$0){var d=b$jscomp$0(c$jscomp$0);var e=this;return this._$previouslyTabbable.removeAttr("tabindex"),this._$previouslyWithTabIndex.each(function(b,
c){a$jscomp$0(c).attr("tabindex",e._previousWithTabIndices[b])}),this._previouslyActive.focus(),d},onResize:function(a,b){return this.resize(this.$content.naturalWidth,this.$content.naturalHeight),a(b)},afterContent:function(a,b){var c=a(b);return this.$instance.find("[autofocus]:not([disabled])").focus(),this.onResize(b),c}}}),a$jscomp$0.featherlight=b$jscomp$2,a$jscomp$0.fn.featherlight=function(a,c){return b$jscomp$2.attach(this,a,c)},a$jscomp$0(document).ready(function(){b$jscomp$2._onReady()})}(jQuery);/*
 @preserve
 jquery.scrolldepth.js | v0.7.1
 Copyright (c) 2014 Rob Flaherty (@robflaherty)
 Licensed under the MIT and GPL licenses.
*/
!function(e$jscomp$0,n,t){var o$jscomp$0;var r;var a$jscomp$0;var l$jscomp$0={minHeight:0,elements:[],percentage:!0,userTiming:!0,pixelDepth:!0,nonInteraction:!0};var i$jscomp$0=e$jscomp$0(n);var c$jscomp$0=[];var u=0;e$jscomp$0.scrollDepth=function(h){function p(e){a$jscomp$0?a$jscomp$0({event:"ScrollDistance",eventCategory:"Scroll Depth",eventAction:e,eventLabel:"Baseline",eventValue:1,eventNonInteraction:!0}):(o$jscomp$0&&ga("send","event","Scroll Depth",e,"Baseline",1,{nonInteraction:!0}),r&&
_gaq.push(["_trackEvent","Scroll Depth",e,"Baseline",1,!0]))}function g(e,n,t,l){a$jscomp$0?(a$jscomp$0({event:"ScrollDistance",eventCategory:"Scroll Depth",eventAction:e,eventLabel:n,eventValue:1,eventNonInteraction:h.nonInteraction}),h.pixelDepth&&arguments.length>2&&t>u&&(u=t,a$jscomp$0({event:"ScrollDistance",eventCategory:"Scroll Depth",eventAction:"Pixel Depth",eventLabel:D(t),eventValue:1,eventNonInteraction:h.nonInteraction})),h.userTiming&&arguments.length>3&&a$jscomp$0({event:"ScrollTiming",
eventCategory:"Scroll Depth",eventAction:e,eventLabel:n,eventTiming:l})):(o$jscomp$0&&(ga("send","event","Scroll Depth",e,n,1,{nonInteraction:h.nonInteraction}),h.pixelDepth&&arguments.length>2&&t>u&&(u=t,ga("send","event","Scroll Depth","Pixel Depth",D(t),1,{nonInteraction:h.nonInteraction})),h.userTiming&&arguments.length>3&&ga("send","timing","Scroll Depth",e,l,n)),r&&(_gaq.push(["_trackEvent","Scroll Depth",e,n,1,h.nonInteraction]),h.pixelDepth&&arguments.length>2&&t>u&&(u=t,_gaq.push(["_trackEvent",
"Scroll Depth","Pixel Depth",D(t),1,h.nonInteraction])),h.userTiming&&arguments.length>3&&_gaq.push(["_trackTiming","Scroll Depth",e,l,n,100])))}function s(e){return{"25%":parseInt(.25*e,10),"50%":parseInt(.5*e,10),"75%":parseInt(.75*e,10),"100%":e-5}}function v(n$jscomp$0,t,o){e$jscomp$0.each(n$jscomp$0,function(n,r){-1===e$jscomp$0.inArray(n,c$jscomp$0)&&t>=r&&(g("Percentage",n,t,o),c$jscomp$0.push(n))})}function f(n$jscomp$0,t,o){e$jscomp$0.each(n$jscomp$0,function(n,r){-1===e$jscomp$0.inArray(r,
c$jscomp$0)&&e$jscomp$0(r).length&&t>=e$jscomp$0(r).offset().top&&(g("Elements",r,t,o),c$jscomp$0.push(r))})}function D(e){return(250*Math.floor(e/250)).toString()}function m(e,n){var t;var o;var r;var a=null;var l=0;var i=function(){l=new Date,a=null,r=e.apply(t,o)};return function(){var c=new Date;l||(l=c);var u=n-(c-l);return t=this,o=arguments,0>=u?(clearTimeout(a),a=null,l=c,r=e.apply(t,o)):a||(a=setTimeout(i,u)),r}}var d=+new Date;h=e$jscomp$0.extend({},l$jscomp$0,h),e$jscomp$0(t).height()<
h.minHeight||("function"==typeof ga&&(o$jscomp$0=!0),"undefined"!=typeof _gaq&&"function"==typeof _gaq.push&&(r=!0),"function"==typeof h.eventHandler?a$jscomp$0=h.eventHandler:"undefined"!=typeof dataLayer&&"function"==typeof dataLayer.push&&(a$jscomp$0=dataLayer.push),h.percentage?p("Percentage"):h.elements&&p("Elements"),i$jscomp$0.on("scroll.scrollDepth",m(function(){var o=e$jscomp$0(t).height();var r=n.innerHeight?n.innerHeight:i$jscomp$0.height();var a=i$jscomp$0.scrollTop()+r;var l=s(o);var u=
+new Date-d;return c$jscomp$0.length>=4+h.elements.length?void i$jscomp$0.off("scroll.scrollDepth"):(h.elements&&f(h.elements,a,u),void(h.percentage&&v(l,a,u)))},500)))}}(jQuery,window,document);/*
 jQuery Smooth Scroll - v1.5.4 - 2014-11-17
 https://github.com/kswedberg/jquery-smooth-scroll
 Copyright (c) 2014 Karl Swedberg
 Licensed MIT (https://github.com/kswedberg/jquery-smooth-scroll/blob/master/LICENSE-MIT)
*/
(function(factory){if(typeof define==="function"&&define.amd)define(["jquery"],factory);else factory(jQuery)})(function($){function escapeSelector(str){return str.replace(/(:|\.|\/)/g,"\\$1")}var version="1.5.4";var optionOverrides={};var defaults={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficient:2,preventDefault:true};var getScrollable=function(opts){var scrollable=
[];var scrolled=false;var dir=opts.dir&&opts.dir==="left"?"scrollLeft":"scrollTop";this.each(function(){if(this===document||this===window)return;var el=$(this);if(el[dir]()>0)scrollable.push(this);else{el[dir](1);scrolled=el[dir]()>0;if(scrolled)scrollable.push(this);el[dir](0)}});if(!scrollable.length)this.each(function(){if(this.nodeName==="BODY")scrollable=[this]});if(opts.el==="first"&&scrollable.length>1)scrollable=[scrollable[0]];return scrollable};$.fn.extend({scrollable:function(dir){var scrl=
getScrollable.call(this,{dir});return this.pushStack(scrl)},firstScrollable:function(dir){var scrl=getScrollable.call(this,{el:"first",dir});return this.pushStack(scrl)},smoothScroll:function(options,extra){options=options||{};if(options==="options"){if(!extra)return this.first().data("ssOpts");return this.each(function(){var $this=$(this);var opts=$.extend($this.data("ssOpts")||{},extra);$(this).data("ssOpts",opts)})}var opts$jscomp$0=$.extend({},$.fn.smoothScroll.defaults,options);var locationPath=
$.smoothScroll.filterPath(location.pathname);this.unbind("click.smoothscroll").bind("click.smoothscroll",function(event){var link=this;var $link=$(this);var thisOpts=$.extend({},opts$jscomp$0,$link.data("ssOpts")||{});var exclude=opts$jscomp$0.exclude;var excludeWithin=thisOpts.excludeWithin;var elCounter=0;var ewlCounter=0;var include=true;var clickOpts={};var hostMatch=location.hostname===link.hostname||!link.hostname;var pathMatch=thisOpts.scrollTarget||$.smoothScroll.filterPath(link.pathname)===
locationPath;var thisHash=escapeSelector(link.hash);if(!thisOpts.scrollTarget&&(!hostMatch||!pathMatch||!thisHash))include=false;else{for(;include&&elCounter<exclude.length;)if($link.is(escapeSelector(exclude[elCounter++])))include=false;for(;include&&ewlCounter<excludeWithin.length;)if($link.closest(excludeWithin[ewlCounter++]).length)include=false}if(include){if(thisOpts.preventDefault)event.preventDefault();$.extend(clickOpts,thisOpts,{scrollTarget:thisOpts.scrollTarget||thisHash,link});$.smoothScroll(clickOpts)}});
return this}});$.smoothScroll=function(options,px){if(options==="options"&&typeof px==="object")return $.extend(optionOverrides,px);var scrollerOffset=0;var offPos="offset";var scrollDir="scrollTop";var aniProps={};var aniOpts={};if(typeof options==="number"){var opts=$.extend({link:null},$.fn.smoothScroll.defaults,optionOverrides);var scrollTargetOffset=options}else{opts=$.extend({link:null},$.fn.smoothScroll.defaults,options||{},optionOverrides);if(opts.scrollElement){offPos="position";if(opts.scrollElement.css("position")===
"static")opts.scrollElement.css("position","relative")}}scrollDir=opts.direction==="left"?"scrollLeft":scrollDir;if(opts.scrollElement){var $scroller=opts.scrollElement;if(!/^(?:HTML|BODY)$/.test($scroller[0].nodeName))scrollerOffset=$scroller[scrollDir]()}else $scroller=$("html, body").firstScrollable(opts.direction);opts.beforeScroll.call($scroller,opts);scrollTargetOffset=typeof options==="number"?options:px||$(opts.scrollTarget)[offPos]()&&$(opts.scrollTarget)[offPos]()[opts.direction]||0;aniProps[scrollDir]=
scrollTargetOffset+scrollerOffset+opts.offset;var speed=opts.speed;if(speed==="auto"){var delta=aniProps[scrollDir]-$scroller.scrollTop();if(delta<0)delta*=-1;speed=delta/opts.autoCoefficient}aniOpts={duration:speed,easing:opts.easing,complete:function(){opts.afterScroll.call(opts.link,opts)}};if(opts.step)aniOpts.step=opts.step;if($scroller.length)$scroller.stop().animate(aniProps,aniOpts);else opts.afterScroll.call(opts.link,opts)};$.smoothScroll.version=version;$.smoothScroll.filterPath=function(string){string=
string||"";return string.replace(/^\//,"").replace(/(?:index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")};$.fn.smoothScroll.defaults=defaults});(function($){function debug(s){if($.fn.cycle.debug)log(s)}function log(){if(window.console&&window.console.log)window.console.log("[cycle] "+Array.prototype.join.call(arguments," "))}function handleArguments(cont,options$jscomp$0,arg2$jscomp$0){function checkInstantResume(isPaused,arg2,cont){if(!isPaused&&arg2===true){var options=$(cont).data("cycle.opts");if(!options){log("options not found, can not resume");return false}if(cont.cycleTimeout){clearTimeout(cont.cycleTimeout);cont.cycleTimeout=0}go(options.elements,
options,1,!opts.rev&&!opts.backwards)}}if(cont.cycleStop==undefined)cont.cycleStop=0;if(options$jscomp$0===undefined||options$jscomp$0===null)options$jscomp$0={};if(options$jscomp$0.constructor==String){switch(options$jscomp$0){case "destroy":case "stop":var opts=$(cont).data("cycle.opts");if(!opts)return false;cont.cycleStop++;if(cont.cycleTimeout)clearTimeout(cont.cycleTimeout);cont.cycleTimeout=0;$(cont).removeData("cycle.opts");if(options$jscomp$0=="destroy")destroy(opts);return false;case "toggle":cont.cyclePause=
cont.cyclePause===1?0:1;checkInstantResume(cont.cyclePause,arg2$jscomp$0,cont);return false;case "pause":cont.cyclePause=1;return false;case "resume":cont.cyclePause=0;checkInstantResume(false,arg2$jscomp$0,cont);return false;case "prev":case "next":opts=$(cont).data("cycle.opts");if(!opts){log('options not found, "prev/next" ignored');return false}$.fn.cycle[options$jscomp$0](opts);return false;default:options$jscomp$0={fx:options$jscomp$0}}return options$jscomp$0}else if(options$jscomp$0.constructor==
Number){var num=options$jscomp$0;options$jscomp$0=$(cont).data("cycle.opts");if(!options$jscomp$0){log("options not found, can not advance slide");return false}if(num<0||num>=options$jscomp$0.elements.length){log("invalid slide index: "+num);return false}options$jscomp$0.nextSlide=num;if(cont.cycleTimeout){clearTimeout(cont.cycleTimeout);cont.cycleTimeout=0}if(typeof arg2$jscomp$0=="string")options$jscomp$0.oneTimeFx=arg2$jscomp$0;go(options$jscomp$0.elements,options$jscomp$0,1,num>=options$jscomp$0.currSlide);
return false}return options$jscomp$0}function removeFilter(el,opts){if(!$.support.opacity&&opts.cleartype&&el.style.filter)try{el.style.removeAttribute("filter")}catch(smother){}}function destroy(opts){if(opts.next)$(opts.next).unbind(opts.prevNextEvent);if(opts.prev)$(opts.prev).unbind(opts.prevNextEvent);if(opts.pager||opts.pagerAnchorBuilder)$.each(opts.pagerAnchors||[],function(){this.unbind().remove()});opts.pagerAnchors=null;if(opts.destroy)opts.destroy(opts)}function buildOptions($cont,$slides,
els,options,o){var opts=$.extend({},$.fn.cycle.defaults,options||{},$.metadata?$cont.metadata():$.meta?$cont.data():{});if(opts.autostop)opts.countdown=opts.autostopCount||els.length;var cont=$cont[0];$cont.data("cycle.opts",opts);opts.$cont=$cont;opts.stopCount=cont.cycleStop;opts.elements=els;opts.before=opts.before?[opts.before]:[];opts.after=opts.after?[opts.after]:[];opts.after.unshift(function(){opts.busy=0});if(!$.support.opacity&&opts.cleartype)opts.after.push(function(){removeFilter(this,
opts)});if(opts.continuous)opts.after.push(function(){go(els,opts,0,!opts.rev&&!opts.backwards)});saveOriginalOpts(opts);if(!$.support.opacity&&opts.cleartype&&!opts.cleartypeNoBg)clearTypeFix($slides);if($cont.css("position")=="static")$cont.css("position","relative");if(opts.width)$cont.width(opts.width);if(opts.height&&opts.height!="auto")$cont.height(opts.height);if(opts.startingSlide)opts.startingSlide=parseInt(opts.startingSlide);else if(opts.backwards)opts.startingSlide=els.length-1;if(opts.random){opts.randomMap=
[];for(var i$jscomp$0=0;i$jscomp$0<els.length;i$jscomp$0++)opts.randomMap.push(i$jscomp$0);opts.randomMap.sort(function(a,b){return Math.random()-.5});opts.randomIndex=1;opts.startingSlide=opts.randomMap[1]}else if(opts.startingSlide>=els.length)opts.startingSlide=0;opts.currSlide=opts.startingSlide||0;var first=opts.startingSlide;$slides.css({position:"absolute",top:0,left:0}).hide().each(function(i){if(opts.backwards)var z=first?i<=first?els.length+(i-first):first-i:els.length-i;else z=first?i>=
first?els.length-(i-first):first-i:els.length-i;$(this).css("z-index",z)});$(els[first]).css("opacity",1).show();removeFilter(els[first],opts);if(opts.fit&&opts.width)$slides.width(opts.width);if(opts.fit&&opts.height&&opts.height!="auto")$slides.height(opts.height);var reshape=opts.containerResize&&!$cont.innerHeight();if(reshape){var maxw=0;var maxh=0;for(var j=0;j<els.length;j++){var $e=$(els[j]);var e=$e[0];var w=$e.outerWidth();var h=$e.outerHeight();if(!w)w=e.offsetWidth||e.width||$e.attr("width");
if(!h)h=e.offsetHeight||e.height||$e.attr("height");maxw=w>maxw?w:maxw;maxh=h>maxh?h:maxh}if(maxw>0&&maxh>0)$cont.css({width:maxw+"px",height:maxh+"px"})}if(opts.pause)$cont.hover(function(){this.cyclePause++},function(){this.cyclePause--});if(supportMultiTransitions(opts)===false)return false;var requeue=false;options.requeueAttempts=options.requeueAttempts||0;$slides.each(function(){var $el=$(this);this.cycleH=opts.fit&&opts.height?opts.height:$el.height()||this.offsetHeight||this.height||$el.attr("height")||
0;this.cycleW=opts.fit&&opts.width?opts.width:$el.width()||this.offsetWidth||this.width||$el.attr("width")||0;if($el.is("img")){var loadingIE=$.browser.msie&&this.cycleW==28&&this.cycleH==30&&!this.complete;var loadingFF=$.browser.mozilla&&this.cycleW==34&&this.cycleH==19&&!this.complete;var loadingOp=$.browser.opera&&(this.cycleW==42&&this.cycleH==19||this.cycleW==37&&this.cycleH==17)&&!this.complete;var loadingOther=this.cycleH==0&&this.cycleW==0&&!this.complete;if(loadingIE||loadingFF||loadingOp||
loadingOther)if(o.s&&opts.requeueOnImageNotLoaded&&++options.requeueAttempts<100){log(options.requeueAttempts," - img slide not loaded, requeuing slideshow: ",this.src,this.cycleW,this.cycleH);setTimeout(function(){$(o.s,o.c).cycle(options)},opts.requeueTimeout);requeue=true;return false}else log("could not determine size of image: "+this.src,this.cycleW,this.cycleH)}return true});if(requeue)return false;opts.cssBefore=opts.cssBefore||{};opts.animIn=opts.animIn||{};opts.animOut=opts.animOut||{};$slides.not(":eq("+
first+")").css(opts.cssBefore);if(opts.cssFirst)$($slides[first]).css(opts.cssFirst);if(opts.timeout){opts.timeout=parseInt(opts.timeout);if(opts.speed.constructor==String)opts.speed=$.fx.speeds[opts.speed]||parseInt(opts.speed);if(!opts.sync)opts.speed=opts.speed/2;for(var buffer=opts.fx=="shuffle"?500:250;opts.timeout-opts.speed<buffer;)opts.timeout+=opts.speed}if(opts.easing)opts.easeIn=opts.easeOut=opts.easing;if(!opts.speedIn)opts.speedIn=opts.speed;if(!opts.speedOut)opts.speedOut=opts.speed;
opts.slideCount=els.length;opts.currSlide=opts.lastSlide=first;if(opts.random){if(++opts.randomIndex==els.length)opts.randomIndex=0;opts.nextSlide=opts.randomMap[opts.randomIndex]}else if(opts.backwards)opts.nextSlide=opts.startingSlide==0?els.length-1:opts.startingSlide-1;else opts.nextSlide=opts.startingSlide>=els.length-1?0:opts.startingSlide+1;if(!opts.multiFx){var init=$.fn.cycle.transitions[opts.fx];if($.isFunction(init))init($cont,$slides,opts);else if(opts.fx!="custom"&&!opts.multiFx){log("unknown transition: "+
opts.fx,"; slideshow terminating");return false}}var e0=$slides[first];if(opts.before.length)opts.before[0].apply(e0,[e0,e0,opts,true]);if(opts.after.length>1)opts.after[1].apply(e0,[e0,e0,opts,true]);if(opts.next)$(opts.next).bind(opts.prevNextEvent,function(){return advance(opts,opts.rev?-1:1)});if(opts.prev)$(opts.prev).bind(opts.prevNextEvent,function(){return advance(opts,opts.rev?1:-1)});if(opts.pager||opts.pagerAnchorBuilder)buildPager(els,opts);exposeAddSlide(opts,els);return opts}function saveOriginalOpts(opts){opts.original=
{before:[],after:[]};opts.original.cssBefore=$.extend({},opts.cssBefore);opts.original.cssAfter=$.extend({},opts.cssAfter);opts.original.animIn=$.extend({},opts.animIn);opts.original.animOut=$.extend({},opts.animOut);$.each(opts.before,function(){opts.original.before.push(this)});$.each(opts.after,function(){opts.original.after.push(this)})}function supportMultiTransitions(opts){var i;var txs=$.fn.cycle.transitions;if(opts.fx.indexOf(",")>0){opts.multiFx=true;opts.fxs=opts.fx.replace(/\s*/g,"").split(",");
for(i=0;i<opts.fxs.length;i++){var fx=opts.fxs[i];var tx=txs[fx];if(!tx||!txs.hasOwnProperty(fx)||!$.isFunction(tx)){log("discarding unknown transition: ",fx);opts.fxs.splice(i,1);i--}}if(!opts.fxs.length){log("No valid transitions named; slideshow terminating.");return false}}else if(opts.fx=="all"){opts.multiFx=true;opts.fxs=[];for(p in txs){tx=txs[p];if(txs.hasOwnProperty(p)&&$.isFunction(tx))opts.fxs.push(p)}}if(opts.multiFx&&opts.randomizeEffects){var r1=Math.floor(Math.random()*20)+30;for(i=
0;i<r1;i++){var r2=Math.floor(Math.random()*opts.fxs.length);opts.fxs.push(opts.fxs.splice(r2,1)[0])}debug("randomized fx sequence: ",opts.fxs)}return true}function exposeAddSlide(opts,els){opts.addSlide=function(newSlide,prepend){var $s=$(newSlide);var s=$s[0];if(!opts.autostopCount)opts.countdown++;els[prepend?"unshift":"push"](s);if(opts.els)opts.els[prepend?"unshift":"push"](s);opts.slideCount=els.length;$s.css("position","absolute");$s[prepend?"prependTo":"appendTo"](opts.$cont);if(prepend){opts.currSlide++;
opts.nextSlide++}if(!$.support.opacity&&opts.cleartype&&!opts.cleartypeNoBg)clearTypeFix($s);if(opts.fit&&opts.width)$s.width(opts.width);if(opts.fit&&opts.height&&opts.height!="auto")$slides.height(opts.height);s.cycleH=opts.fit&&opts.height?opts.height:$s.height();s.cycleW=opts.fit&&opts.width?opts.width:$s.width();$s.css(opts.cssBefore);if(opts.pager||opts.pagerAnchorBuilder)$.fn.cycle.createPagerAnchor(els.length-1,s,$(opts.pager),els,opts);if($.isFunction(opts.onAddSlide))opts.onAddSlide($s);
else $s.hide()}}function go(els,opts,manual,fwd){if(manual&&opts.busy&&opts.manualTrump){debug("manualTrump in go(), stopping active transition");$(els).stop(true,true);opts.busy=false}if(opts.busy){debug("transition active, ignoring new tx request");return}var p=opts.$cont[0];var curr=els[opts.currSlide];var next=els[opts.nextSlide];if(p.cycleStop!=opts.stopCount||p.cycleTimeout===0&&!manual)return;if(!manual&&!p.cyclePause&&!opts.bounce&&(opts.autostop&&--opts.countdown<=0||opts.nowrap&&!opts.random&&
opts.nextSlide<opts.currSlide)){if(opts.end)opts.end(opts);return}var changed=false;if((manual||!p.cyclePause)&&opts.nextSlide!=opts.currSlide){changed=true;var fx=opts.fx;curr.cycleH=curr.cycleH||$(curr).height();curr.cycleW=curr.cycleW||$(curr).width();next.cycleH=next.cycleH||$(next).height();next.cycleW=next.cycleW||$(next).width();if(opts.multiFx){if(opts.lastFx==undefined||++opts.lastFx>=opts.fxs.length)opts.lastFx=0;fx=opts.fxs[opts.lastFx];opts.currFx=fx}if(opts.oneTimeFx){fx=opts.oneTimeFx;
opts.oneTimeFx=null}$.fn.cycle.resetState(opts,fx);if(opts.before.length)$.each(opts.before,function(i,o){if(p.cycleStop!=opts.stopCount)return;o.apply(next,[curr,next,opts,fwd])});var after=function(){$.each(opts.after,function(i,o){if(p.cycleStop!=opts.stopCount)return;o.apply(next,[curr,next,opts,fwd])})};debug("tx firing; currSlide: "+opts.currSlide+"; nextSlide: "+opts.nextSlide);opts.busy=1;if(opts.fxFn)opts.fxFn(curr,next,opts,after,fwd,manual&&opts.fastOnEvent);else if($.isFunction($.fn.cycle[opts.fx]))$.fn.cycle[opts.fx](curr,
next,opts,after,fwd,manual&&opts.fastOnEvent);else $.fn.cycle.custom(curr,next,opts,after,fwd,manual&&opts.fastOnEvent)}if(changed||opts.nextSlide==opts.currSlide){opts.lastSlide=opts.currSlide;if(opts.random){opts.currSlide=opts.nextSlide;if(++opts.randomIndex==els.length)opts.randomIndex=0;opts.nextSlide=opts.randomMap[opts.randomIndex];if(opts.nextSlide==opts.currSlide)opts.nextSlide=opts.currSlide==opts.slideCount-1?0:opts.currSlide+1}else if(opts.backwards){var roll=opts.nextSlide-1<0;if(roll&&
opts.bounce){opts.backwards=!opts.backwards;opts.nextSlide=1;opts.currSlide=0}else{opts.nextSlide=roll?els.length-1:opts.nextSlide-1;opts.currSlide=roll?0:opts.nextSlide+1}}else{roll=opts.nextSlide+1==els.length;if(roll&&opts.bounce){opts.backwards=!opts.backwards;opts.nextSlide=els.length-2;opts.currSlide=els.length-1}else{opts.nextSlide=roll?0:opts.nextSlide+1;opts.currSlide=roll?els.length-1:opts.nextSlide-1}}}if(changed&&opts.pager)opts.updateActivePagerLink(opts.pager,opts.currSlide,opts.activePagerClass);
var ms=0;if(opts.timeout&&!opts.continuous)ms=getTimeout(els[opts.currSlide],els[opts.nextSlide],opts,fwd);else if(opts.continuous&&p.cyclePause)ms=10;if(ms>0)p.cycleTimeout=setTimeout(function(){go(els,opts,0,!opts.rev&&!opts.backwards)},ms)}function getTimeout(curr,next,opts,fwd){if(opts.timeoutFn){for(var t=opts.timeoutFn.call(curr,curr,next,opts,fwd);t-opts.speed<250;)t+=opts.speed;debug("calculated timeout: "+t+"; speed: "+opts.speed);if(t!==false)return t}return opts.timeout}function advance(opts,
val){var els=opts.elements;var p=opts.$cont[0];var timeout=p.cycleTimeout;if(timeout){clearTimeout(timeout);p.cycleTimeout=0}if(opts.random&&val<0){opts.randomIndex--;if(--opts.randomIndex==-2)opts.randomIndex=els.length-2;else if(opts.randomIndex==-1)opts.randomIndex=els.length-1;opts.nextSlide=opts.randomMap[opts.randomIndex]}else if(opts.random)opts.nextSlide=opts.randomMap[opts.randomIndex];else{opts.nextSlide=opts.currSlide+val;if(opts.nextSlide<0){if(opts.nowrap)return false;opts.nextSlide=
els.length-1}else if(opts.nextSlide>=els.length){if(opts.nowrap)return false;opts.nextSlide=0}}var cb=opts.onPrevNextEvent||opts.prevNextClick;if($.isFunction(cb))cb(val>0,opts.nextSlide,els[opts.nextSlide]);go(els,opts,1,val>=0);return false}function buildPager(els,opts){var $p=$(opts.pager);$.each(els,function(i,o){$.fn.cycle.createPagerAnchor(i,o,$p,els,opts)});opts.updateActivePagerLink(opts.pager,opts.startingSlide,opts.activePagerClass)}function clearTypeFix($slides){function hex(s){s=parseInt(s).toString(16);
return s.length<2?"0"+s:s}function getBg(e){for(;e&&e.nodeName.toLowerCase()!="html";e=e.parentNode){var v=$.css(e,"background-color");if(v.indexOf("rgb")>=0){var rgb=v.match(/\d+/g);return"#"+hex(rgb[0])+hex(rgb[1])+hex(rgb[2])}if(v&&v!="transparent")return v}return"#ffffff"}debug("applying clearType background-color hack");$slides.each(function(){$(this).css("background-color",getBg(this))})}var ver="2.88";if($.support==undefined)$.support={opacity:!$.browser.msie};$.fn.cycle=function(options,arg2){var o=
{s:this.selector,c:this.context};if(this.length===0&&options!="stop"){if(!$.isReady&&o.s){log("DOM not ready, queuing slideshow");$(function(){$(o.s,o.c).cycle(options,arg2)});return this}log("terminating; zero elements found by selector"+($.isReady?"":" (DOM not ready)"));return this}return this.each(function(){var opts=handleArguments(this,options,arg2);if(opts===false)return;opts.updateActivePagerLink=opts.updateActivePagerLink||$.fn.cycle.updateActivePagerLink;if(this.cycleTimeout)clearTimeout(this.cycleTimeout);
this.cycleTimeout=this.cyclePause=0;var $cont=$(this);var $slides=opts.slideExpr?$(opts.slideExpr,this):$cont.children();var els=$slides.get();if(els.length<2){log("terminating; too few slides: "+els.length);return}var opts2=buildOptions($cont,$slides,els,opts,o);if(opts2===false)return;var startTime=opts2.continuous?10:getTimeout(els[opts2.currSlide],els[opts2.nextSlide],opts2,!opts2.rev);if(startTime){startTime+=opts2.delay||0;if(startTime<10)startTime=10;debug("first timeout: "+startTime);this.cycleTimeout=
setTimeout(function(){go(els,opts2,0,!opts2.rev&&!opts.backwards)},startTime)}})};$.fn.cycle.resetState=function(opts,fx){fx=fx||opts.fx;opts.before=[];opts.after=[];opts.cssBefore=$.extend({},opts.original.cssBefore);opts.cssAfter=$.extend({},opts.original.cssAfter);opts.animIn=$.extend({},opts.original.animIn);opts.animOut=$.extend({},opts.original.animOut);opts.fxFn=null;$.each(opts.original.before,function(){opts.before.push(this)});$.each(opts.original.after,function(){opts.after.push(this)});
var init=$.fn.cycle.transitions[fx];if($.isFunction(init))init(opts.$cont,$(opts.elements),opts)};$.fn.cycle.updateActivePagerLink=function(pager,currSlide,clsName){$(pager).each(function(){$(this).children().removeClass(clsName).eq(currSlide).addClass(clsName)})};$.fn.cycle.next=function(opts){advance(opts,opts.rev?-1:1)};$.fn.cycle.prev=function(opts){advance(opts,opts.rev?1:-1)};$.fn.cycle.createPagerAnchor=function(i,el,$p,els,opts){if($.isFunction(opts.pagerAnchorBuilder)){var a=opts.pagerAnchorBuilder(i,
el);debug("pagerAnchorBuilder("+i+", el) returned: "+a)}else a='\x3ca href\x3d"#"\x3e'+(i+1)+"\x3c/a\x3e";if(!a)return;var $a=$(a);if($a.parents("body").length===0){var arr=[];if($p.length>1){$p.each(function(){var $clone=$a.clone(true);$(this).append($clone);arr.push($clone[0])});$a=$(arr)}else $a.appendTo($p)}opts.pagerAnchors=opts.pagerAnchors||[];opts.pagerAnchors.push($a);$a.bind(opts.pagerEvent,function(e){e.preventDefault();opts.nextSlide=i;var p=opts.$cont[0];var timeout=p.cycleTimeout;if(timeout){clearTimeout(timeout);
p.cycleTimeout=0}var cb=opts.onPagerEvent||opts.pagerClick;if($.isFunction(cb))cb(opts.nextSlide,els[opts.nextSlide]);go(els,opts,1,opts.currSlide<i)});if(!/^click/.test(opts.pagerEvent)&&!opts.allowPagerClickBubble)$a.bind("click.cycle",function(){return false});if(opts.pauseOnPagerHover)$a.hover(function(){opts.$cont[0].cyclePause++},function(){opts.$cont[0].cyclePause--})};$.fn.cycle.hopsFromLast=function(opts,fwd){var l=opts.lastSlide;var c=opts.currSlide;if(fwd)var hops=c>l?c-l:opts.slideCount-
l;else hops=c<l?l-c:l+opts.slideCount-c;return hops};$.fn.cycle.commonReset=function(curr,next,opts,w,h,rev){$(opts.elements).not(curr).hide();opts.cssBefore.opacity=1;opts.cssBefore.display="block";if(w!==false&&next.cycleW>0)opts.cssBefore.width=next.cycleW;if(h!==false&&next.cycleH>0)opts.cssBefore.height=next.cycleH;opts.cssAfter=opts.cssAfter||{};opts.cssAfter.display="none";$(curr).css("zIndex",opts.slideCount+(rev===true?1:0));$(next).css("zIndex",opts.slideCount+(rev===true?0:1))};$.fn.cycle.custom=
function(curr,next,opts,cb,fwd,speedOverride){var $l=$(curr);var $n=$(next);var speedIn=opts.speedIn;var speedOut=opts.speedOut;var easeIn=opts.easeIn;var easeOut=opts.easeOut;$n.css(opts.cssBefore);if(speedOverride){if(typeof speedOverride=="number")speedIn=speedOut=speedOverride;else speedIn=speedOut=1;easeIn=easeOut=null}var fn=function(){$n.animate(opts.animIn,speedIn,easeIn,cb)};$l.animate(opts.animOut,speedOut,easeOut,function(){if(opts.cssAfter)$l.css(opts.cssAfter);if(!opts.sync)fn()});if(opts.sync)fn()};
$.fn.cycle.transitions={fade:function($cont,$slides,opts$jscomp$0){$slides.not(":eq("+opts$jscomp$0.currSlide+")").css("opacity",0);opts$jscomp$0.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts);opts.cssBefore.opacity=0});opts$jscomp$0.animIn={opacity:1};opts$jscomp$0.animOut={opacity:0};opts$jscomp$0.cssBefore={top:0,left:0}}};$.fn.cycle.ver=function(){return ver};$.fn.cycle.defaults={fx:"fade",timeout:4E3,timeoutFn:null,continuous:0,speed:1E3,speedIn:null,speedOut:null,
next:null,prev:null,onPrevNextEvent:null,prevNextEvent:"click.cycle",pager:null,onPagerEvent:null,pagerEvent:"click.cycle",allowPagerClickBubble:false,pagerAnchorBuilder:null,before:null,after:null,end:null,easing:null,easeIn:null,easeOut:null,shuffle:null,animIn:null,animOut:null,cssBefore:null,cssAfter:null,fxFn:null,height:"auto",startingSlide:0,sync:1,random:0,fit:0,containerResize:1,pause:0,pauseOnPagerHover:0,autostop:0,autostopCount:0,delay:0,slideExpr:null,cleartype:!$.support.opacity,cleartypeNoBg:false,
nowrap:0,fastOnEvent:0,randomizeEffects:1,rev:0,manualTrump:true,requeueOnImageNotLoaded:true,requeueTimeout:250,activePagerClass:"activeSlide",updateActivePagerLink:null,backwards:false}})(jQuery);
(function($){$.fn.cycle.transitions.none=function($cont,$slides,opts$jscomp$0){opts$jscomp$0.fxFn=function(curr,next,opts,after){$(next).show();$(curr).hide();after()}};$.fn.cycle.transitions.scrollUp=function($cont,$slides,opts){$cont.css("overflow","hidden");opts.before.push($.fn.cycle.commonReset);var h=$cont.height();opts.cssBefore={top:h,left:0};opts.cssFirst={top:0};opts.animIn={top:0};opts.animOut={top:-h}};$.fn.cycle.transitions.scrollDown=function($cont,$slides,opts){$cont.css("overflow",
"hidden");opts.before.push($.fn.cycle.commonReset);var h=$cont.height();opts.cssFirst={top:0};opts.cssBefore={top:-h,left:0};opts.animIn={top:0};opts.animOut={top:h}};$.fn.cycle.transitions.scrollLeft=function($cont,$slides,opts){$cont.css("overflow","hidden");opts.before.push($.fn.cycle.commonReset);var w=$cont.width();opts.cssFirst={left:0};opts.cssBefore={left:w,top:0};opts.animIn={left:0};opts.animOut={left:0-w}};$.fn.cycle.transitions.scrollRight=function($cont,$slides,opts){$cont.css("overflow",
"hidden");opts.before.push($.fn.cycle.commonReset);var w=$cont.width();opts.cssFirst={left:0};opts.cssBefore={left:-w,top:0};opts.animIn={left:0};opts.animOut={left:w}};$.fn.cycle.transitions.scrollHorz=function($cont,$slides,opts$jscomp$0){$cont.css("overflow","hidden").width();opts$jscomp$0.before.push(function(curr,next,opts,fwd){$.fn.cycle.commonReset(curr,next,opts);opts.cssBefore.left=fwd?next.cycleW-1:1-next.cycleW;opts.animOut.left=fwd?-curr.cycleW:curr.cycleW});opts$jscomp$0.cssFirst={left:0};
opts$jscomp$0.cssBefore={top:0};opts$jscomp$0.animIn={left:0};opts$jscomp$0.animOut={top:0}};$.fn.cycle.transitions.scrollVert=function($cont,$slides,opts$jscomp$0){$cont.css("overflow","hidden");opts$jscomp$0.before.push(function(curr,next,opts,fwd){$.fn.cycle.commonReset(curr,next,opts);opts.cssBefore.top=fwd?1-next.cycleH:next.cycleH-1;opts.animOut.top=fwd?curr.cycleH:-curr.cycleH});opts$jscomp$0.cssFirst={top:0};opts$jscomp$0.cssBefore={left:0};opts$jscomp$0.animIn={top:0};opts$jscomp$0.animOut=
{left:0}};$.fn.cycle.transitions.slideX=function($cont,$slides,opts$jscomp$0){opts$jscomp$0.before.push(function(curr,next,opts){$(opts.elements).not(curr).hide();$.fn.cycle.commonReset(curr,next,opts,false,true);opts.animIn.width=next.cycleW});opts$jscomp$0.cssBefore={left:0,top:0,width:0};opts$jscomp$0.animIn={width:"show"};opts$jscomp$0.animOut={width:0}};$.fn.cycle.transitions.slideY=function($cont,$slides,opts$jscomp$0){opts$jscomp$0.before.push(function(curr,next,opts){$(opts.elements).not(curr).hide();
$.fn.cycle.commonReset(curr,next,opts,true,false);opts.animIn.height=next.cycleH});opts$jscomp$0.cssBefore={left:0,top:0,height:0};opts$jscomp$0.animIn={height:"show"};opts$jscomp$0.animOut={height:0}};$.fn.cycle.transitions.shuffle=function($cont,$slides,opts$jscomp$0){var i$jscomp$0;var w=$cont.css("overflow","visible").width();$slides.css({left:0,top:0});opts$jscomp$0.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,true,true,true)});if(!opts$jscomp$0.speedAdjusted){opts$jscomp$0.speed=
opts$jscomp$0.speed/2;opts$jscomp$0.speedAdjusted=true}opts$jscomp$0.random=0;opts$jscomp$0.shuffle=opts$jscomp$0.shuffle||{left:-w,top:15};opts$jscomp$0.els=[];for(i$jscomp$0=0;i$jscomp$0<$slides.length;i$jscomp$0++)opts$jscomp$0.els.push($slides[i$jscomp$0]);for(i$jscomp$0=0;i$jscomp$0<opts$jscomp$0.currSlide;i$jscomp$0++)opts$jscomp$0.els.push(opts$jscomp$0.els.shift());opts$jscomp$0.fxFn=function(curr,next,opts,cb,fwd){var $el=fwd?$(curr):$(next);$(next).css(opts.cssBefore);var count=opts.slideCount;
$el.animate(opts.shuffle,opts.speedIn,opts.easeIn,function(){var hops=$.fn.cycle.hopsFromLast(opts,fwd);for(var k=0;k<hops;k++)fwd?opts.els.push(opts.els.shift()):opts.els.unshift(opts.els.pop());if(fwd){var i=0;for(var len=opts.els.length;i<len;i++)$(opts.els[i]).css("z-index",len-i+count)}else{var z=$(curr).css("z-index");$el.css("z-index",parseInt(z)+1+count)}$el.animate({left:0,top:0},opts.speedOut,opts.easeOut,function(){$(fwd?this:curr).hide();if(cb)cb()})})};opts$jscomp$0.cssBefore={display:"block",
opacity:1,top:0,left:0}};$.fn.cycle.transitions.turnUp=function($cont,$slides,opts$jscomp$0){opts$jscomp$0.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,true,false);opts.cssBefore.top=next.cycleH;opts.animIn.height=next.cycleH});opts$jscomp$0.cssFirst={top:0};opts$jscomp$0.cssBefore={left:0,height:0};opts$jscomp$0.animIn={top:0};opts$jscomp$0.animOut={height:0}};$.fn.cycle.transitions.turnDown=function($cont,$slides,opts$jscomp$0){opts$jscomp$0.before.push(function(curr,
next,opts){$.fn.cycle.commonReset(curr,next,opts,true,false);opts.animIn.height=next.cycleH;opts.animOut.top=curr.cycleH});opts$jscomp$0.cssFirst={top:0};opts$jscomp$0.cssBefore={left:0,top:0,height:0};opts$jscomp$0.animOut={height:0}};$.fn.cycle.transitions.turnLeft=function($cont,$slides,opts$jscomp$0){opts$jscomp$0.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,false,true);opts.cssBefore.left=next.cycleW;opts.animIn.width=next.cycleW});opts$jscomp$0.cssBefore={top:0,
width:0};opts$jscomp$0.animIn={left:0};opts$jscomp$0.animOut={width:0}};$.fn.cycle.transitions.turnRight=function($cont,$slides,opts$jscomp$0){opts$jscomp$0.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,false,true);opts.animIn.width=next.cycleW;opts.animOut.left=curr.cycleW});opts$jscomp$0.cssBefore={top:0,left:0,width:0};opts$jscomp$0.animIn={left:0};opts$jscomp$0.animOut={width:0}};$.fn.cycle.transitions.zoom=function($cont,$slides,opts$jscomp$0){opts$jscomp$0.before.push(function(curr,
next,opts){$.fn.cycle.commonReset(curr,next,opts,false,false,true);opts.cssBefore.top=next.cycleH/2;opts.cssBefore.left=next.cycleW/2;opts.animIn={top:0,left:0,width:next.cycleW,height:next.cycleH};opts.animOut={width:0,height:0,top:curr.cycleH/2,left:curr.cycleW/2}});opts$jscomp$0.cssFirst={top:0,left:0};opts$jscomp$0.cssBefore={width:0,height:0}};$.fn.cycle.transitions.fadeZoom=function($cont,$slides,opts$jscomp$0){opts$jscomp$0.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,
opts,false,false);opts.cssBefore.left=next.cycleW/2;opts.cssBefore.top=next.cycleH/2;opts.animIn={top:0,left:0,width:next.cycleW,height:next.cycleH}});opts$jscomp$0.cssBefore={width:0,height:0};opts$jscomp$0.animOut={opacity:0}};$.fn.cycle.transitions.blindX=function($cont,$slides,opts$jscomp$0){var w=$cont.css("overflow","hidden").width();opts$jscomp$0.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts);opts.animIn.width=next.cycleW;opts.animOut.left=curr.cycleW});opts$jscomp$0.cssBefore=
{left:w,top:0};opts$jscomp$0.animIn={left:0};opts$jscomp$0.animOut={left:w}};$.fn.cycle.transitions.blindY=function($cont,$slides,opts$jscomp$0){var h=$cont.css("overflow","hidden").height();opts$jscomp$0.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts);opts.animIn.height=next.cycleH;opts.animOut.top=curr.cycleH});opts$jscomp$0.cssBefore={top:h,left:0};opts$jscomp$0.animIn={top:0};opts$jscomp$0.animOut={top:h}};$.fn.cycle.transitions.blindZ=function($cont,$slides,opts$jscomp$0){var h=
$cont.css("overflow","hidden").height();var w=$cont.width();opts$jscomp$0.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts);opts.animIn.height=next.cycleH;opts.animOut.top=curr.cycleH});opts$jscomp$0.cssBefore={top:h,left:w};opts$jscomp$0.animIn={top:0,left:0};opts$jscomp$0.animOut={top:h,left:w}};$.fn.cycle.transitions.growX=function($cont,$slides,opts$jscomp$0){opts$jscomp$0.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,false,true);opts.cssBefore.left=
this.cycleW/2;opts.animIn={left:0,width:this.cycleW};opts.animOut={left:0}});opts$jscomp$0.cssBefore={width:0,top:0}};$.fn.cycle.transitions.growY=function($cont,$slides,opts$jscomp$0){opts$jscomp$0.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,true,false);opts.cssBefore.top=this.cycleH/2;opts.animIn={top:0,height:this.cycleH};opts.animOut={top:0}});opts$jscomp$0.cssBefore={height:0,left:0}};$.fn.cycle.transitions.curtainX=function($cont,$slides,opts$jscomp$0){opts$jscomp$0.before.push(function(curr,
next,opts){$.fn.cycle.commonReset(curr,next,opts,false,true,true);opts.cssBefore.left=next.cycleW/2;opts.animIn={left:0,width:this.cycleW};opts.animOut={left:curr.cycleW/2,width:0}});opts$jscomp$0.cssBefore={top:0,width:0}};$.fn.cycle.transitions.curtainY=function($cont,$slides,opts$jscomp$0){opts$jscomp$0.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,true,false,true);opts.cssBefore.top=next.cycleH/2;opts.animIn={top:0,height:next.cycleH};opts.animOut={top:curr.cycleH/
2,height:0}});opts$jscomp$0.cssBefore={left:0,height:0}};$.fn.cycle.transitions.cover=function($cont,$slides,opts$jscomp$0){var d=opts$jscomp$0.direction||"left";var w=$cont.css("overflow","hidden").width();var h=$cont.height();opts$jscomp$0.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts);if(d=="right")opts.cssBefore.left=-w;else if(d=="up")opts.cssBefore.top=h;else if(d=="down")opts.cssBefore.top=-h;else opts.cssBefore.left=w});opts$jscomp$0.animIn={left:0,top:0};opts$jscomp$0.animOut=
{opacity:1};opts$jscomp$0.cssBefore={top:0,left:0}};$.fn.cycle.transitions.uncover=function($cont,$slides,opts$jscomp$0){var d=opts$jscomp$0.direction||"left";var w=$cont.css("overflow","hidden").width();var h=$cont.height();opts$jscomp$0.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,true,true,true);if(d=="right")opts.animOut.left=w;else if(d=="up")opts.animOut.top=-h;else if(d=="down")opts.animOut.top=h;else opts.animOut.left=-w});opts$jscomp$0.animIn={left:0,top:0};
opts$jscomp$0.animOut={opacity:1};opts$jscomp$0.cssBefore={top:0,left:0}};$.fn.cycle.transitions.toss=function($cont,$slides,opts$jscomp$0){var w=$cont.css("overflow","visible").width();var h=$cont.height();opts$jscomp$0.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,true,true,true);if(!opts.animOut.left&&!opts.animOut.top)opts.animOut={left:w*2,top:-h/2,opacity:0};else opts.animOut.opacity=0});opts$jscomp$0.cssBefore={left:0,top:0};opts$jscomp$0.animIn={left:0}};$.fn.cycle.transitions.wipe=
function($cont,$slides,opts$jscomp$0){var w=$cont.css("overflow","hidden").width();var h=$cont.height();opts$jscomp$0.cssBefore=opts$jscomp$0.cssBefore||{};if(opts$jscomp$0.clip)if(/l2r/.test(opts$jscomp$0.clip))var clip="rect(0px 0px "+h+"px 0px)";else if(/r2l/.test(opts$jscomp$0.clip))clip="rect(0px "+w+"px "+h+"px "+w+"px)";else if(/t2b/.test(opts$jscomp$0.clip))clip="rect(0px "+w+"px 0px 0px)";else if(/b2t/.test(opts$jscomp$0.clip))clip="rect("+h+"px "+w+"px "+h+"px 0px)";else if(/zoom/.test(opts$jscomp$0.clip)){var top=
parseInt(h/2);var left=parseInt(w/2);clip="rect("+top+"px "+left+"px "+top+"px "+left+"px)"}opts$jscomp$0.cssBefore.clip=opts$jscomp$0.cssBefore.clip||clip||"rect(0px 0px 0px 0px)";var d=opts$jscomp$0.cssBefore.clip.match(/(\d+)/g);var t=parseInt(d[0]);var r=parseInt(d[1]);var b=parseInt(d[2]);var l=parseInt(d[3]);opts$jscomp$0.before.push(function(curr,next,opts){if(curr==next)return;var $curr=$(curr);var $next=$(next);$.fn.cycle.commonReset(curr,next,opts,true,true,false);opts.cssAfter.display=
"block";var step=1;var count=parseInt(opts.speedIn/13)-1;(function f(){var tt=t?t-parseInt(step*(t/count)):0;var ll=l?l-parseInt(step*(l/count)):0;var bb=b<h?b+parseInt(step*((h-b)/count||1)):h;var rr=r<w?r+parseInt(step*((w-r)/count||1)):w;$next.css({clip:"rect("+tt+"px "+rr+"px "+bb+"px "+ll+"px)"});step++<=count?setTimeout(f,13):$curr.css("display","none")})()});opts$jscomp$0.cssBefore={display:"block",opacity:1,top:0,left:0};opts$jscomp$0.animIn={left:0};opts$jscomp$0.animOut={left:0}}})(jQuery);(function(){function addLibraryPlugin(lib){lib.fn.swiper=function(params){var firstInstance;lib(this).each(function(){var s=new Swiper(this,params);if(!firstInstance)firstInstance=s});return firstInstance}}var $;var Swiper=function(container,params){function round(a){return Math.floor(a)}function autoplay(){s.autoplayTimeoutId=setTimeout(function(){if(s.params.loop){s.fixLoop();s._slideNext();s.emit("onAutoplay",s)}else if(!s.isEnd){s._slideNext();s.emit("onAutoplay",s)}else if(!params.autoplayStopOnLast){s._slideTo(0);
s.emit("onAutoplay",s)}else s.stopAutoplay()},s.params.autoplay)}function findElementInEvent(e,selector){var el=$(e.target);if(!el.is(selector))if(typeof selector==="string")el=el.parents(selector);else if(selector.nodeType){var found;el.parents().each(function(index,_el){if(_el===selector)found=selector});if(!found)return undefined;else return selector}if(el.length===0)return undefined;return el[0]}function initObserver(target,options){options=options||{};var ObserverFunc=window.MutationObserver||
window.WebkitMutationObserver;var observer=new ObserverFunc(function(mutations){mutations.forEach(function(mutation){s.onResize(true);s.emit("onObserverUpdate",s,mutation)})});observer.observe(target,{attributes:typeof options.attributes==="undefined"?true:options.attributes,childList:typeof options.childList==="undefined"?true:options.childList,characterData:typeof options.characterData==="undefined"?true:options.characterData});s.observers.push(observer)}function handleKeyboard(e){if(e.originalEvent)e=
e.originalEvent;var kc=e.keyCode||e.charCode;if(!s.params.allowSwipeToNext&&(s.isHorizontal()&&kc===39||!s.isHorizontal()&&kc===40))return false;if(!s.params.allowSwipeToPrev&&(s.isHorizontal()&&kc===37||!s.isHorizontal()&&kc===38))return false;if(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)return;if(document.activeElement&&document.activeElement.nodeName&&(document.activeElement.nodeName.toLowerCase()==="input"||document.activeElement.nodeName.toLowerCase()==="textarea"))return;if(kc===37||kc===39||
kc===38||kc===40){var inView=false;if(s.container.parents(".swiper-slide").length>0&&s.container.parents(".swiper-slide-active").length===0)return;var windowScroll={left:window.pageXOffset,top:window.pageYOffset};var windowWidth=window.innerWidth;var windowHeight=window.innerHeight;var swiperOffset=s.container.offset();if(s.rtl)swiperOffset.left=swiperOffset.left-s.container[0].scrollLeft;var swiperCoord=[[swiperOffset.left,swiperOffset.top],[swiperOffset.left+s.width,swiperOffset.top],[swiperOffset.left,
swiperOffset.top+s.height],[swiperOffset.left+s.width,swiperOffset.top+s.height]];for(var i=0;i<swiperCoord.length;i++){var point=swiperCoord[i];if(point[0]>=windowScroll.left&&point[0]<=windowScroll.left+windowWidth&&point[1]>=windowScroll.top&&point[1]<=windowScroll.top+windowHeight)inView=true}if(!inView)return}if(s.isHorizontal()){if(kc===37||kc===39)if(e.preventDefault)e.preventDefault();else e.returnValue=false;if(kc===39&&!s.rtl||kc===37&&s.rtl)s.slideNext();if(kc===37&&!s.rtl||kc===39&&s.rtl)s.slidePrev()}else{if(kc===
38||kc===40)if(e.preventDefault)e.preventDefault();else e.returnValue=false;if(kc===40)s.slideNext();if(kc===38)s.slidePrev()}}function handleMousewheel(e){if(e.originalEvent)e=e.originalEvent;var we=s.mousewheel.event;var delta=0;var rtlFactor=s.rtl?-1:1;if(we==="mousewheel")if(s.params.mousewheelForceToAxis)if(s.isHorizontal())if(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY))delta=e.wheelDeltaX*rtlFactor;else return;else if(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX))delta=e.wheelDeltaY;else return;
else delta=Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)?-e.wheelDeltaX*rtlFactor:-e.wheelDeltaY;else if(we==="DOMMouseScroll")delta=-e.detail;else if(we==="wheel")if(s.params.mousewheelForceToAxis)if(s.isHorizontal())if(Math.abs(e.deltaX)>Math.abs(e.deltaY))delta=-e.deltaX*rtlFactor;else return;else if(Math.abs(e.deltaY)>Math.abs(e.deltaX))delta=-e.deltaY;else return;else delta=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX*rtlFactor:-e.deltaY;if(delta===0)return;if(s.params.mousewheelInvert)delta=
-delta;if(!s.params.freeMode){if((new window.Date).getTime()-s.mousewheel.lastScrollTime>60)if(delta<0)if((!s.isEnd||s.params.loop)&&!s.animating)s.slideNext();else{if(s.params.mousewheelReleaseOnEdges)return true}else if((!s.isBeginning||s.params.loop)&&!s.animating)s.slidePrev();else if(s.params.mousewheelReleaseOnEdges)return true;s.mousewheel.lastScrollTime=(new window.Date).getTime()}else{var position=s.getWrapperTranslate()+delta*s.params.mousewheelSensitivity;var wasBeginning=s.isBeginning;
var wasEnd=s.isEnd;if(position>=s.minTranslate())position=s.minTranslate();if(position<=s.maxTranslate())position=s.maxTranslate();s.setWrapperTransition(0);s.setWrapperTranslate(position);s.updateProgress();s.updateActiveIndex();if(!wasBeginning&&s.isBeginning||!wasEnd&&s.isEnd)s.updateClasses();if(s.params.freeModeSticky){clearTimeout(s.mousewheel.timeout);s.mousewheel.timeout=setTimeout(function(){s.slideReset()},300)}else if(s.params.lazyLoading&&s.lazy)s.lazy.load();if(position===0||position===
s.maxTranslate())return}if(s.params.autoplay)s.stopAutoplay();if(e.preventDefault)e.preventDefault();else e.returnValue=false;return false}function setParallaxTransform(el,progress){el=$(el);var rtlFactor=s.rtl?-1:1;var p=el.attr("data-swiper-parallax")||"0";var pX=el.attr("data-swiper-parallax-x");var pY=el.attr("data-swiper-parallax-y");if(pX||pY){pX=pX||"0";pY=pY||"0"}else if(s.isHorizontal()){pX=p;pY="0"}else{pY=p;pX="0"}if(pX.indexOf("%")>=0)pX=parseInt(pX,10)*progress*rtlFactor+"%";else pX=
pX*progress*rtlFactor+"px";if(pY.indexOf("%")>=0)pY=parseInt(pY,10)*progress+"%";else pY=pY*progress+"px";el.transform("translate3d("+pX+", "+pY+",0px)")}function normalizeEventName(eventName){if(eventName.indexOf("on")!==0)if(eventName[0]!==eventName[0].toUpperCase())eventName="on"+eventName[0].toUpperCase()+eventName.substring(1);else eventName="on"+eventName;return eventName}if(!(this instanceof Swiper))return new Swiper(container,params);var defaults={direction:"horizontal",touchEventsTarget:"container",
initialSlide:0,speed:300,autoplay:false,autoplayDisableOnInteraction:true,autoplayStopOnLast:false,iOSEdgeSwipeDetection:false,iOSEdgeSwipeThreshold:20,freeMode:false,freeModeMomentum:true,freeModeMomentumRatio:1,freeModeMomentumBounce:true,freeModeMomentumBounceRatio:1,freeModeSticky:false,freeModeMinimumVelocity:.02,autoHeight:false,setWrapperSize:false,virtualTranslate:false,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:true},flip:{slideShadows:true,limitRotation:true},
cube:{slideShadows:true,shadow:true,shadowOffset:20,shadowScale:.94},fade:{crossFade:false},parallax:false,scrollbar:null,scrollbarHide:true,scrollbarDraggable:false,scrollbarSnapOnRelease:false,keyboardControl:false,mousewheelControl:false,mousewheelReleaseOnEdges:false,mousewheelInvert:false,mousewheelForceToAxis:false,mousewheelSensitivity:1,hashnav:false,breakpoints:undefined,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:false,slidesOffsetBefore:0,
slidesOffsetAfter:0,roundLengths:false,touchRatio:1,touchAngle:45,simulateTouch:true,shortSwipes:true,longSwipes:true,longSwipesRatio:.5,longSwipesMs:300,followFinger:true,onlyExternal:false,threshold:0,touchMoveStopPropagation:true,uniqueNavElements:true,pagination:null,paginationElement:"span",paginationClickable:false,paginationHide:false,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:true,
resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:false,watchSlidesVisibility:false,grabCursor:false,preventClicks:true,preventClicksPropagation:true,slideToClickedSlide:false,lazyLoading:false,lazyLoadingInPrevNext:false,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:false,preloadImages:true,updateOnImagesReady:true,loop:false,loopAdditionalSlides:0,loopedSlides:null,control:undefined,controlInverse:false,controlBy:"slide",allowSwipeToPrev:true,allowSwipeToNext:true,
swipeHandler:null,noSwiping:true,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",
paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",observer:false,observeParents:false,a11y:false,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:true};var initialVirtualTranslate=params&&params.virtualTranslate;params=params||{};
var originalParams={};for(var param in params)if(typeof params[param]==="object"&&params[param]!==null&&!(params[param].nodeType||params[param]===window||params[param]===document||typeof Dom7!=="undefined"&&params[param]instanceof Dom7||typeof jQuery!=="undefined"&&params[param]instanceof jQuery)){originalParams[param]={};for(var deepParam in params[param])originalParams[param][deepParam]=params[param][deepParam]}else originalParams[param]=params[param];for(var def in defaults)if(typeof params[def]===
"undefined")params[def]=defaults[def];else if(typeof params[def]==="object")for(var deepDef in defaults[def])if(typeof params[def][deepDef]==="undefined")params[def][deepDef]=defaults[def][deepDef];var s=this;s.params=params;s.originalParams=originalParams;s.classNames=[];if(typeof $!=="undefined"&&typeof Dom7!=="undefined")$=Dom7;if(typeof $==="undefined"){if(typeof Dom7==="undefined")$=window.Dom7||window.Zepto||window.jQuery;else $=Dom7;if(!$)return}s.$=$;s.currentBreakpoint=undefined;s.getActiveBreakpoint=
function(){if(!s.params.breakpoints)return false;var breakpoint=false;var points=[];for(var point in s.params.breakpoints)if(s.params.breakpoints.hasOwnProperty(point))points.push(point);points.sort(function(a,b){return parseInt(a,10)>parseInt(b,10)});for(var i=0;i<points.length;i++){point=points[i];if(point>=window.innerWidth&&!breakpoint)breakpoint=point}return breakpoint||"max"};s.setBreakpoint=function(){var breakpoint=s.getActiveBreakpoint();if(breakpoint&&s.currentBreakpoint!==breakpoint){var breakPointsParams=
breakpoint in s.params.breakpoints?s.params.breakpoints[breakpoint]:s.originalParams;var needsReLoop=s.params.loop&&breakPointsParams.slidesPerView!==s.params.slidesPerView;for(var param in breakPointsParams)s.params[param]=breakPointsParams[param];s.currentBreakpoint=breakpoint;if(needsReLoop&&s.destroyLoop)s.reLoop(true)}};if(s.params.breakpoints)s.setBreakpoint();s.container=$(container);if(s.container.length===0)return;if(s.container.length>1){var swipers=[];s.container.each(function(){var container=
this;swipers.push(new Swiper(this,params))});return swipers}s.container[0].swiper=s;s.container.data("swiper",s);s.classNames.push("swiper-container-"+s.params.direction);if(s.params.freeMode)s.classNames.push("swiper-container-free-mode");if(!s.support.flexbox){s.classNames.push("swiper-container-no-flexbox");s.params.slidesPerColumn=1}if(s.params.autoHeight)s.classNames.push("swiper-container-autoheight");if(s.params.parallax||s.params.watchSlidesVisibility)s.params.watchSlidesProgress=true;if(["cube",
"coverflow","flip"].indexOf(s.params.effect)>=0)if(s.support.transforms3d){s.params.watchSlidesProgress=true;s.classNames.push("swiper-container-3d")}else s.params.effect="slide";if(s.params.effect!=="slide")s.classNames.push("swiper-container-"+s.params.effect);if(s.params.effect==="cube"){s.params.resistanceRatio=0;s.params.slidesPerView=1;s.params.slidesPerColumn=1;s.params.slidesPerGroup=1;s.params.centeredSlides=false;s.params.spaceBetween=0;s.params.virtualTranslate=true;s.params.setWrapperSize=
false}if(s.params.effect==="fade"||s.params.effect==="flip"){s.params.slidesPerView=1;s.params.slidesPerColumn=1;s.params.slidesPerGroup=1;s.params.watchSlidesProgress=true;s.params.spaceBetween=0;s.params.setWrapperSize=false;if(typeof initialVirtualTranslate==="undefined")s.params.virtualTranslate=true}if(s.params.grabCursor&&s.support.touch)s.params.grabCursor=false;s.wrapper=s.container.children("."+s.params.wrapperClass);if(s.params.pagination){s.paginationContainer=$(s.params.pagination);if(s.params.uniqueNavElements&&
typeof s.params.pagination==="string"&&s.paginationContainer.length>1&&s.container.find(s.params.pagination).length===1)s.paginationContainer=s.container.find(s.params.pagination);if(s.params.paginationType==="bullets"&&s.params.paginationClickable)s.paginationContainer.addClass("swiper-pagination-clickable");else s.params.paginationClickable=false;s.paginationContainer.addClass("swiper-pagination-"+s.params.paginationType)}if(s.params.nextButton||s.params.prevButton){if(s.params.nextButton){s.nextButton=
$(s.params.nextButton);if(s.params.uniqueNavElements&&typeof s.params.nextButton==="string"&&s.nextButton.length>1&&s.container.find(s.params.nextButton).length===1)s.nextButton=s.container.find(s.params.nextButton)}if(s.params.prevButton){s.prevButton=$(s.params.prevButton);if(s.params.uniqueNavElements&&typeof s.params.prevButton==="string"&&s.prevButton.length>1&&s.container.find(s.params.prevButton).length===1)s.prevButton=s.container.find(s.params.prevButton)}}s.isHorizontal=function(){return s.params.direction===
"horizontal"};s.rtl=s.isHorizontal()&&(s.container[0].dir.toLowerCase()==="rtl"||s.container.css("direction")==="rtl");if(s.rtl)s.classNames.push("swiper-container-rtl");if(s.rtl)s.wrongRTL=s.wrapper.css("display")==="-webkit-box";if(s.params.slidesPerColumn>1)s.classNames.push("swiper-container-multirow");if(s.device.android)s.classNames.push("swiper-container-android");s.container.addClass(s.classNames.join(" "));s.translate=0;s.progress=0;s.velocity=0;s.lockSwipeToNext=function(){s.params.allowSwipeToNext=
false};s.lockSwipeToPrev=function(){s.params.allowSwipeToPrev=false};s.lockSwipes=function(){s.params.allowSwipeToNext=s.params.allowSwipeToPrev=false};s.unlockSwipeToNext=function(){s.params.allowSwipeToNext=true};s.unlockSwipeToPrev=function(){s.params.allowSwipeToPrev=true};s.unlockSwipes=function(){s.params.allowSwipeToNext=s.params.allowSwipeToPrev=true};if(s.params.grabCursor){s.container[0].style.cursor="move";s.container[0].style.cursor="-webkit-grab";s.container[0].style.cursor="-moz-grab";
s.container[0].style.cursor="grab"}s.imagesToLoad=[];s.imagesLoaded=0;s.loadImage=function(imgElement,src,srcset,checkForComplete,callback){function onReady(){if(callback)callback()}if(!imgElement.complete||!checkForComplete)if(src){var image=new window.Image;image.onload=onReady;image.onerror=onReady;if(srcset)image.srcset=srcset;if(src)image.src=src}else onReady();else onReady()};s.preloadImages=function(){function _onReady(){if(typeof s==="undefined"||s===null)return;if(s.imagesLoaded!==undefined)s.imagesLoaded++;
if(s.imagesLoaded===s.imagesToLoad.length){if(s.params.updateOnImagesReady)s.update();s.emit("onImagesReady",s)}}s.imagesToLoad=s.container.find("img");for(var i=0;i<s.imagesToLoad.length;i++)s.loadImage(s.imagesToLoad[i],s.imagesToLoad[i].currentSrc||s.imagesToLoad[i].getAttribute("src"),s.imagesToLoad[i].srcset||s.imagesToLoad[i].getAttribute("srcset"),true,_onReady)};s.autoplayTimeoutId=undefined;s.autoplaying=false;s.autoplayPaused=false;s.startAutoplay=function(){if(typeof s.autoplayTimeoutId!==
"undefined")return false;if(!s.params.autoplay)return false;if(s.autoplaying)return false;s.autoplaying=true;s.emit("onAutoplayStart",s);autoplay()};s.stopAutoplay=function(internal){if(!s.autoplayTimeoutId)return;if(s.autoplayTimeoutId)clearTimeout(s.autoplayTimeoutId);s.autoplaying=false;s.autoplayTimeoutId=undefined;s.emit("onAutoplayStop",s)};s.pauseAutoplay=function(speed){if(s.autoplayPaused)return;if(s.autoplayTimeoutId)clearTimeout(s.autoplayTimeoutId);s.autoplayPaused=true;if(speed===0){s.autoplayPaused=
false;autoplay()}else s.wrapper.transitionEnd(function(){if(!s)return;s.autoplayPaused=false;if(!s.autoplaying)s.stopAutoplay();else autoplay()})};s.minTranslate=function(){return-s.snapGrid[0]};s.maxTranslate=function(){return-s.snapGrid[s.snapGrid.length-1]};s.updateAutoHeight=function(){var slide=s.slides.eq(s.activeIndex)[0];if(typeof slide!=="undefined"){var newHeight=slide.offsetHeight;if(newHeight)s.wrapper.css("height",newHeight+"px")}};s.updateContainerSize=function(){if(typeof s.params.width!==
"undefined")var width=s.params.width;else width=s.container[0].clientWidth;if(typeof s.params.height!=="undefined")var height=s.params.height;else height=s.container[0].clientHeight;if(width===0&&s.isHorizontal()||height===0&&!s.isHorizontal())return;width=width-parseInt(s.container.css("padding-left"),10)-parseInt(s.container.css("padding-right"),10);height=height-parseInt(s.container.css("padding-top"),10)-parseInt(s.container.css("padding-bottom"),10);s.width=width;s.height=height;s.size=s.isHorizontal()?
s.width:s.height};s.updateSlidesSize=function(){s.slides=s.wrapper.children("."+s.params.slideClass);s.snapGrid=[];s.slidesGrid=[];s.slidesSizesGrid=[];var spaceBetween=s.params.spaceBetween;var slidePosition=-s.params.slidesOffsetBefore;var i;var prevSlideSize=0;var index=0;if(typeof s.size==="undefined")return;if(typeof spaceBetween==="string"&&spaceBetween.indexOf("%")>=0)spaceBetween=parseFloat(spaceBetween.replace("%",""))/100*s.size;s.virtualSize=-spaceBetween;if(s.rtl)s.slides.css({marginLeft:"",
marginTop:""});else s.slides.css({marginRight:"",marginBottom:""});if(s.params.slidesPerColumn>1){if(Math.floor(s.slides.length/s.params.slidesPerColumn)===s.slides.length/s.params.slidesPerColumn)var slidesNumberEvenToRows=s.slides.length;else slidesNumberEvenToRows=Math.ceil(s.slides.length/s.params.slidesPerColumn)*s.params.slidesPerColumn;if(s.params.slidesPerView!=="auto"&&s.params.slidesPerColumnFill==="row")slidesNumberEvenToRows=Math.max(slidesNumberEvenToRows,s.params.slidesPerView*s.params.slidesPerColumn)}var slidesPerColumn=
s.params.slidesPerColumn;var slidesPerRow=slidesNumberEvenToRows/slidesPerColumn;var numFullColumns=slidesPerRow-(s.params.slidesPerColumn*slidesPerRow-s.slides.length);for(i=0;i<s.slides.length;i++){var slideSize=0;var slide=s.slides.eq(i);if(s.params.slidesPerColumn>1){if(s.params.slidesPerColumnFill==="column"){var column=Math.floor(i/slidesPerColumn);var row=i-column*slidesPerColumn;if(column>numFullColumns||column===numFullColumns&&row===slidesPerColumn-1)if(++row>=slidesPerColumn){row=0;column++}var newSlideOrderIndex=
column+row*slidesNumberEvenToRows/slidesPerColumn;slide.css({"-webkit-box-ordinal-group":newSlideOrderIndex,"-moz-box-ordinal-group":newSlideOrderIndex,"-ms-flex-order":newSlideOrderIndex,"-webkit-order":newSlideOrderIndex,"order":newSlideOrderIndex})}else{row=Math.floor(i/slidesPerRow);column=i-row*slidesPerRow}slide.css({"margin-top":row!==0&&s.params.spaceBetween&&s.params.spaceBetween+"px"}).attr("data-swiper-column",column).attr("data-swiper-row",row)}if(slide.css("display")==="none")continue;
if(s.params.slidesPerView==="auto"){slideSize=s.isHorizontal()?slide.outerWidth(true):slide.outerHeight(true);if(s.params.roundLengths)slideSize=round(slideSize)}else{slideSize=(s.size-(s.params.slidesPerView-1)*spaceBetween)/s.params.slidesPerView;if(s.params.roundLengths)slideSize=round(slideSize);if(s.isHorizontal())s.slides[i].style.width=slideSize+"px";else s.slides[i].style.height=slideSize+"px"}s.slides[i].swiperSlideSize=slideSize;s.slidesSizesGrid.push(slideSize);if(s.params.centeredSlides){slidePosition=
slidePosition+slideSize/2+prevSlideSize/2+spaceBetween;if(i===0)slidePosition=slidePosition-s.size/2-spaceBetween;if(Math.abs(slidePosition)<1/1E3)slidePosition=0;if(index%s.params.slidesPerGroup===0)s.snapGrid.push(slidePosition);s.slidesGrid.push(slidePosition)}else{if(index%s.params.slidesPerGroup===0)s.snapGrid.push(slidePosition);s.slidesGrid.push(slidePosition);slidePosition=slidePosition+slideSize+spaceBetween}s.virtualSize+=slideSize+spaceBetween;prevSlideSize=slideSize;index++}s.virtualSize=
Math.max(s.virtualSize,s.size)+s.params.slidesOffsetAfter;if(s.rtl&&s.wrongRTL&&(s.params.effect==="slide"||s.params.effect==="coverflow"))s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+"px"});if(!s.support.flexbox||s.params.setWrapperSize)if(s.isHorizontal())s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+"px"});else s.wrapper.css({height:s.virtualSize+s.params.spaceBetween+"px"});if(s.params.slidesPerColumn>1){s.virtualSize=(slideSize+s.params.spaceBetween)*slidesNumberEvenToRows;
s.virtualSize=Math.ceil(s.virtualSize/s.params.slidesPerColumn)-s.params.spaceBetween;s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+"px"});if(s.params.centeredSlides){var newSlidesGrid=[];for(i=0;i<s.snapGrid.length;i++)if(s.snapGrid[i]<s.virtualSize+s.snapGrid[0])newSlidesGrid.push(s.snapGrid[i]);s.snapGrid=newSlidesGrid}}if(!s.params.centeredSlides){newSlidesGrid=[];for(i=0;i<s.snapGrid.length;i++)if(s.snapGrid[i]<=s.virtualSize-s.size)newSlidesGrid.push(s.snapGrid[i]);s.snapGrid=newSlidesGrid;
if(Math.floor(s.virtualSize-s.size)-Math.floor(s.snapGrid[s.snapGrid.length-1])>1)s.snapGrid.push(s.virtualSize-s.size)}if(s.snapGrid.length===0)s.snapGrid=[0];if(s.params.spaceBetween!==0)if(s.isHorizontal())if(s.rtl)s.slides.css({marginLeft:spaceBetween+"px"});else s.slides.css({marginRight:spaceBetween+"px"});else s.slides.css({marginBottom:spaceBetween+"px"});if(s.params.watchSlidesProgress)s.updateSlidesOffset()};s.updateSlidesOffset=function(){for(var i=0;i<s.slides.length;i++)s.slides[i].swiperSlideOffset=
s.isHorizontal()?s.slides[i].offsetLeft:s.slides[i].offsetTop};s.updateSlidesProgress=function(translate){if(typeof translate==="undefined")translate=s.translate||0;if(s.slides.length===0)return;if(typeof s.slides[0].swiperSlideOffset==="undefined")s.updateSlidesOffset();var offsetCenter=-translate;if(s.rtl)offsetCenter=translate;s.slides.removeClass(s.params.slideVisibleClass);for(var i=0;i<s.slides.length;i++){var slide=s.slides[i];var slideProgress=(offsetCenter-slide.swiperSlideOffset)/(slide.swiperSlideSize+
s.params.spaceBetween);if(s.params.watchSlidesVisibility){var slideBefore=-(offsetCenter-slide.swiperSlideOffset);var slideAfter=slideBefore+s.slidesSizesGrid[i];var isVisible=slideBefore>=0&&slideBefore<s.size||slideAfter>0&&slideAfter<=s.size||slideBefore<=0&&slideAfter>=s.size;if(isVisible)s.slides.eq(i).addClass(s.params.slideVisibleClass)}slide.progress=s.rtl?-slideProgress:slideProgress}};s.updateProgress=function(translate){if(typeof translate==="undefined")translate=s.translate||0;var translatesDiff=
s.maxTranslate()-s.minTranslate();var wasBeginning=s.isBeginning;var wasEnd=s.isEnd;if(translatesDiff===0){s.progress=0;s.isBeginning=s.isEnd=true}else{s.progress=(translate-s.minTranslate())/translatesDiff;s.isBeginning=s.progress<=0;s.isEnd=s.progress>=1}if(s.isBeginning&&!wasBeginning)s.emit("onReachBeginning",s);if(s.isEnd&&!wasEnd)s.emit("onReachEnd",s);if(s.params.watchSlidesProgress)s.updateSlidesProgress(translate);s.emit("onProgress",s,s.progress)};s.updateActiveIndex=function(){var translate=
s.rtl?s.translate:-s.translate;var i;for(i=0;i<s.slidesGrid.length;i++)if(typeof s.slidesGrid[i+1]!=="undefined")if(translate>=s.slidesGrid[i]&&translate<s.slidesGrid[i+1]-(s.slidesGrid[i+1]-s.slidesGrid[i])/2)var newActiveIndex=i;else{if(translate>=s.slidesGrid[i]&&translate<s.slidesGrid[i+1])newActiveIndex=i+1}else if(translate>=s.slidesGrid[i])newActiveIndex=i;if(newActiveIndex<0||typeof newActiveIndex==="undefined")newActiveIndex=0;var snapIndex=Math.floor(newActiveIndex/s.params.slidesPerGroup);
if(snapIndex>=s.snapGrid.length)snapIndex=s.snapGrid.length-1;if(newActiveIndex===s.activeIndex)return;s.snapIndex=snapIndex;s.previousIndex=s.activeIndex;s.activeIndex=newActiveIndex;s.updateClasses()};s.updateClasses=function(){s.slides.removeClass(s.params.slideActiveClass+" "+s.params.slideNextClass+" "+s.params.slidePrevClass);var activeSlide=s.slides.eq(s.activeIndex);activeSlide.addClass(s.params.slideActiveClass);var nextSlide=activeSlide.next("."+s.params.slideClass).addClass(s.params.slideNextClass);
if(s.params.loop&&nextSlide.length===0)s.slides.eq(0).addClass(s.params.slideNextClass);var prevSlide=activeSlide.prev("."+s.params.slideClass).addClass(s.params.slidePrevClass);if(s.params.loop&&prevSlide.length===0)s.slides.eq(-1).addClass(s.params.slidePrevClass);if(s.paginationContainer&&s.paginationContainer.length>0){var total=s.params.loop?Math.ceil((s.slides.length-s.loopedSlides*2)/s.params.slidesPerGroup):s.snapGrid.length;if(s.params.loop){var current=Math.ceil((s.activeIndex-s.loopedSlides)/
s.params.slidesPerGroup);if(current>s.slides.length-1-s.loopedSlides*2)current-=s.slides.length-s.loopedSlides*2;if(current>total-1)current-=total;if(current<0&&s.params.paginationType!=="bullets")current=total+current}else if(typeof s.snapIndex!=="undefined")current=s.snapIndex;else current=s.activeIndex||0;if(s.params.paginationType==="bullets"&&s.bullets&&s.bullets.length>0){s.bullets.removeClass(s.params.bulletActiveClass);if(s.paginationContainer.length>1)s.bullets.each(function(){if($(this).index()===
current)$(this).addClass(s.params.bulletActiveClass)});else s.bullets.eq(current).addClass(s.params.bulletActiveClass)}if(s.params.paginationType==="fraction"){s.paginationContainer.find("."+s.params.paginationCurrentClass).text(current+1);s.paginationContainer.find("."+s.params.paginationTotalClass).text(total)}if(s.params.paginationType==="progress"){var scale=(current+1)/total;var scaleX=scale;var scaleY=1;if(!s.isHorizontal()){scaleY=scale;scaleX=1}s.paginationContainer.find("."+s.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+
scaleX+") scaleY("+scaleY+")").transition(s.params.speed)}if(s.params.paginationType==="custom"&&s.params.paginationCustomRender){s.paginationContainer.html(s.params.paginationCustomRender(s,current+1,total));s.emit("onPaginationRendered",s,s.paginationContainer[0])}}if(!s.params.loop){if(s.params.prevButton&&s.prevButton&&s.prevButton.length>0)if(s.isBeginning){s.prevButton.addClass(s.params.buttonDisabledClass);if(s.params.a11y&&s.a11y)s.a11y.disable(s.prevButton)}else{s.prevButton.removeClass(s.params.buttonDisabledClass);
if(s.params.a11y&&s.a11y)s.a11y.enable(s.prevButton)}if(s.params.nextButton&&s.nextButton&&s.nextButton.length>0)if(s.isEnd){s.nextButton.addClass(s.params.buttonDisabledClass);if(s.params.a11y&&s.a11y)s.a11y.disable(s.nextButton)}else{s.nextButton.removeClass(s.params.buttonDisabledClass);if(s.params.a11y&&s.a11y)s.a11y.enable(s.nextButton)}}};s.updatePagination=function(){if(!s.params.pagination)return;if(s.paginationContainer&&s.paginationContainer.length>0){var paginationHTML="";if(s.params.paginationType===
"bullets"){var numberOfBullets=s.params.loop?Math.ceil((s.slides.length-s.loopedSlides*2)/s.params.slidesPerGroup):s.snapGrid.length;for(var i=0;i<numberOfBullets;i++)if(s.params.paginationBulletRender)paginationHTML+=s.params.paginationBulletRender(i,s.params.bulletClass);else paginationHTML+="\x3c"+s.params.paginationElement+' class\x3d"'+s.params.bulletClass+'"\x3e\x3c/'+s.params.paginationElement+"\x3e";s.paginationContainer.html(paginationHTML);s.bullets=s.paginationContainer.find("."+s.params.bulletClass);
if(s.params.paginationClickable&&s.params.a11y&&s.a11y)s.a11y.initPagination()}if(s.params.paginationType==="fraction"){if(s.params.paginationFractionRender)paginationHTML=s.params.paginationFractionRender(s,s.params.paginationCurrentClass,s.params.paginationTotalClass);else paginationHTML='\x3cspan class\x3d"'+s.params.paginationCurrentClass+'"\x3e\x3c/span\x3e'+" / "+'\x3cspan class\x3d"'+s.params.paginationTotalClass+'"\x3e\x3c/span\x3e';s.paginationContainer.html(paginationHTML)}if(s.params.paginationType===
"progress"){if(s.params.paginationProgressRender)paginationHTML=s.params.paginationProgressRender(s,s.params.paginationProgressbarClass);else paginationHTML='\x3cspan class\x3d"'+s.params.paginationProgressbarClass+'"\x3e\x3c/span\x3e';s.paginationContainer.html(paginationHTML)}if(s.params.paginationType!=="custom")s.emit("onPaginationRendered",s,s.paginationContainer[0])}};s.update=function(updateTranslate){function forceSetTranslate(){newTranslate=Math.min(Math.max(s.translate,s.maxTranslate()),
s.minTranslate());s.setWrapperTranslate(newTranslate);s.updateActiveIndex();s.updateClasses()}s.updateContainerSize();s.updateSlidesSize();s.updateProgress();s.updatePagination();s.updateClasses();if(s.params.scrollbar&&s.scrollbar)s.scrollbar.set();if(updateTranslate){var newTranslate;if(s.controller&&s.controller.spline)s.controller.spline=undefined;if(s.params.freeMode){forceSetTranslate();if(s.params.autoHeight)s.updateAutoHeight()}else{if((s.params.slidesPerView==="auto"||s.params.slidesPerView>
1)&&s.isEnd&&!s.params.centeredSlides)var translated=s.slideTo(s.slides.length-1,0,false,true);else translated=s.slideTo(s.activeIndex,0,false,true);if(!translated)forceSetTranslate()}}else if(s.params.autoHeight)s.updateAutoHeight()};s.onResize=function(forceUpdatePagination){if(s.params.breakpoints)s.setBreakpoint();var allowSwipeToPrev=s.params.allowSwipeToPrev;var allowSwipeToNext=s.params.allowSwipeToNext;s.params.allowSwipeToPrev=s.params.allowSwipeToNext=true;s.updateContainerSize();s.updateSlidesSize();
if(s.params.slidesPerView==="auto"||s.params.freeMode||forceUpdatePagination)s.updatePagination();if(s.params.scrollbar&&s.scrollbar)s.scrollbar.set();if(s.controller&&s.controller.spline)s.controller.spline=undefined;var slideChangedBySlideTo=false;if(s.params.freeMode){var newTranslate=Math.min(Math.max(s.translate,s.maxTranslate()),s.minTranslate());s.setWrapperTranslate(newTranslate);s.updateActiveIndex();s.updateClasses();if(s.params.autoHeight)s.updateAutoHeight()}else{s.updateClasses();if((s.params.slidesPerView===
"auto"||s.params.slidesPerView>1)&&s.isEnd&&!s.params.centeredSlides)slideChangedBySlideTo=s.slideTo(s.slides.length-1,0,false,true);else slideChangedBySlideTo=s.slideTo(s.activeIndex,0,false,true)}if(s.params.lazyLoading&&!slideChangedBySlideTo&&s.lazy)s.lazy.load();s.params.allowSwipeToPrev=allowSwipeToPrev;s.params.allowSwipeToNext=allowSwipeToNext};var desktopEvents=["mousedown","mousemove","mouseup"];if(window.navigator.pointerEnabled)desktopEvents=["pointerdown","pointermove","pointerup"];else if(window.navigator.msPointerEnabled)desktopEvents=
["MSPointerDown","MSPointerMove","MSPointerUp"];s.touchEvents={start:s.support.touch||!s.params.simulateTouch?"touchstart":desktopEvents[0],move:s.support.touch||!s.params.simulateTouch?"touchmove":desktopEvents[1],end:s.support.touch||!s.params.simulateTouch?"touchend":desktopEvents[2]};if(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)(s.params.touchEventsTarget==="container"?s.container:s.wrapper).addClass("swiper-wp8-"+s.params.direction);s.initEvents=function(detach){var actionDom=
detach?"off":"on";var action=detach?"removeEventListener":"addEventListener";var touchEventsTarget=s.params.touchEventsTarget==="container"?s.container[0]:s.wrapper[0];var target=s.support.touch?touchEventsTarget:document;var moveCapture=s.params.nested?true:false;if(s.browser.ie){touchEventsTarget[action](s.touchEvents.start,s.onTouchStart,false);target[action](s.touchEvents.move,s.onTouchMove,moveCapture);target[action](s.touchEvents.end,s.onTouchEnd,false)}else{if(s.support.touch){touchEventsTarget[action](s.touchEvents.start,
s.onTouchStart,false);touchEventsTarget[action](s.touchEvents.move,s.onTouchMove,moveCapture);touchEventsTarget[action](s.touchEvents.end,s.onTouchEnd,false)}if(params.simulateTouch&&!s.device.ios&&!s.device.android){touchEventsTarget[action]("mousedown",s.onTouchStart,false);document[action]("mousemove",s.onTouchMove,moveCapture);document[action]("mouseup",s.onTouchEnd,false)}}window[action]("resize",s.onResize);if(s.params.nextButton&&s.nextButton&&s.nextButton.length>0){s.nextButton[actionDom]("click",
s.onClickNext);if(s.params.a11y&&s.a11y)s.nextButton[actionDom]("keydown",s.a11y.onEnterKey)}if(s.params.prevButton&&s.prevButton&&s.prevButton.length>0){s.prevButton[actionDom]("click",s.onClickPrev);if(s.params.a11y&&s.a11y)s.prevButton[actionDom]("keydown",s.a11y.onEnterKey)}if(s.params.pagination&&s.params.paginationClickable){s.paginationContainer[actionDom]("click","."+s.params.bulletClass,s.onClickIndex);if(s.params.a11y&&s.a11y)s.paginationContainer[actionDom]("keydown","."+s.params.bulletClass,
s.a11y.onEnterKey)}if(s.params.preventClicks||s.params.preventClicksPropagation)touchEventsTarget[action]("click",s.preventClicks,true)};s.attachEvents=function(){s.initEvents()};s.detachEvents=function(){s.initEvents(true)};s.allowClick=true;s.preventClicks=function(e){if(!s.allowClick){if(s.params.preventClicks)e.preventDefault();if(s.params.preventClicksPropagation&&s.animating){e.stopPropagation();e.stopImmediatePropagation()}}};s.onClickNext=function(e){e.preventDefault();if(s.isEnd&&!s.params.loop)return;
s.slideNext()};s.onClickPrev=function(e){e.preventDefault();if(s.isBeginning&&!s.params.loop)return;s.slidePrev()};s.onClickIndex=function(e){e.preventDefault();var index=$(this).index()*s.params.slidesPerGroup;if(s.params.loop)index+=s.loopedSlides;s.slideTo(index)};s.updateClickedSlide=function(e){var slide=findElementInEvent(e,"."+s.params.slideClass);var slideFound=false;if(slide)for(var i=0;i<s.slides.length;i++)if(s.slides[i]===slide)slideFound=true;if(slide&&slideFound){s.clickedSlide=slide;
s.clickedIndex=$(slide).index()}else{s.clickedSlide=undefined;s.clickedIndex=undefined;return}if(s.params.slideToClickedSlide&&s.clickedIndex!==undefined&&s.clickedIndex!==s.activeIndex){var slideToIndex=s.clickedIndex;var duplicatedSlides;if(s.params.loop){if(s.animating)return;var realIndex=$(s.clickedSlide).attr("data-swiper-slide-index");if(s.params.centeredSlides)if(slideToIndex<s.loopedSlides-s.params.slidesPerView/2||slideToIndex>s.slides.length-s.loopedSlides+s.params.slidesPerView/2){s.fixLoop();
slideToIndex=s.wrapper.children("."+s.params.slideClass+'[data-swiper-slide-index\x3d"'+realIndex+'"]:not(.swiper-slide-duplicate)').eq(0).index();setTimeout(function(){s.slideTo(slideToIndex)},0)}else s.slideTo(slideToIndex);else if(slideToIndex>s.slides.length-s.params.slidesPerView){s.fixLoop();slideToIndex=s.wrapper.children("."+s.params.slideClass+'[data-swiper-slide-index\x3d"'+realIndex+'"]:not(.swiper-slide-duplicate)').eq(0).index();setTimeout(function(){s.slideTo(slideToIndex)},0)}else s.slideTo(slideToIndex)}else s.slideTo(slideToIndex)}};
var isTouched;var isMoved;var allowTouchCallbacks;var touchStartTime;var isScrolling;var currentTranslate;var startTranslate;var allowThresholdMove;var formElements="input, select, textarea, button";var lastClickTime=Date.now();var clickTimeout;var velocities=[];var allowMomentumBounce;s.animating=false;s.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var isTouchEvent;var startMoving;s.onTouchStart=function(e){if(e.originalEvent)e=e.originalEvent;isTouchEvent=e.type==="touchstart";if(!isTouchEvent&&
"which"in e&&e.which===3)return;if(s.params.noSwiping&&findElementInEvent(e,"."+s.params.noSwipingClass)){s.allowClick=true;return}if(s.params.swipeHandler)if(!findElementInEvent(e,s.params.swipeHandler))return;var startX=s.touches.currentX=e.type==="touchstart"?e.targetTouches[0].pageX:e.pageX;var startY=s.touches.currentY=e.type==="touchstart"?e.targetTouches[0].pageY:e.pageY;if(s.device.ios&&s.params.iOSEdgeSwipeDetection&&startX<=s.params.iOSEdgeSwipeThreshold)return;isTouched=true;isMoved=false;
allowTouchCallbacks=true;isScrolling=undefined;startMoving=undefined;s.touches.startX=startX;s.touches.startY=startY;touchStartTime=Date.now();s.allowClick=true;s.updateContainerSize();s.swipeDirection=undefined;if(s.params.threshold>0)allowThresholdMove=false;if(e.type!=="touchstart"){var preventDefault=true;if($(e.target).is(formElements))preventDefault=false;if(document.activeElement&&$(document.activeElement).is(formElements))document.activeElement.blur();if(preventDefault)e.preventDefault()}s.emit("onTouchStart",
s,e)};s.onTouchMove=function(e){if(e.originalEvent)e=e.originalEvent;if(isTouchEvent&&e.type==="mousemove")return;if(e.preventedByNestedSwiper){s.touches.startX=e.type==="touchmove"?e.targetTouches[0].pageX:e.pageX;s.touches.startY=e.type==="touchmove"?e.targetTouches[0].pageY:e.pageY;return}if(s.params.onlyExternal){s.allowClick=false;if(isTouched){s.touches.startX=s.touches.currentX=e.type==="touchmove"?e.targetTouches[0].pageX:e.pageX;s.touches.startY=s.touches.currentY=e.type==="touchmove"?e.targetTouches[0].pageY:
e.pageY;touchStartTime=Date.now()}return}if(isTouchEvent&&document.activeElement)if(e.target===document.activeElement&&$(e.target).is(formElements)){isMoved=true;s.allowClick=false;return}if(allowTouchCallbacks)s.emit("onTouchMove",s,e);if(e.targetTouches&&e.targetTouches.length>1)return;s.touches.currentX=e.type==="touchmove"?e.targetTouches[0].pageX:e.pageX;s.touches.currentY=e.type==="touchmove"?e.targetTouches[0].pageY:e.pageY;if(typeof isScrolling==="undefined"){var touchAngle=Math.atan2(Math.abs(s.touches.currentY-
s.touches.startY),Math.abs(s.touches.currentX-s.touches.startX))*180/Math.PI;isScrolling=s.isHorizontal()?touchAngle>s.params.touchAngle:90-touchAngle>s.params.touchAngle}if(isScrolling)s.emit("onTouchMoveOpposite",s,e);if(typeof startMoving==="undefined"&&s.browser.ieTouch)if(s.touches.currentX!==s.touches.startX||s.touches.currentY!==s.touches.startY)startMoving=true;if(!isTouched)return;if(isScrolling){isTouched=false;return}if(!startMoving&&s.browser.ieTouch)return;s.allowClick=false;s.emit("onSliderMove",
s,e);e.preventDefault();if(s.params.touchMoveStopPropagation&&!s.params.nested)e.stopPropagation();if(!isMoved){if(params.loop)s.fixLoop();startTranslate=s.getWrapperTranslate();s.setWrapperTransition(0);if(s.animating)s.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd");if(s.params.autoplay&&s.autoplaying)if(s.params.autoplayDisableOnInteraction)s.stopAutoplay();else s.pauseAutoplay();allowMomentumBounce=false;if(s.params.grabCursor){s.container[0].style.cursor=
"move";s.container[0].style.cursor="-webkit-grabbing";s.container[0].style.cursor="-moz-grabbin";s.container[0].style.cursor="grabbing"}}isMoved=true;var diff=s.touches.diff=s.isHorizontal()?s.touches.currentX-s.touches.startX:s.touches.currentY-s.touches.startY;diff*=s.params.touchRatio;if(s.rtl)diff=-diff;s.swipeDirection=diff>0?"prev":"next";currentTranslate=diff+startTranslate;var disableParentSwiper=true;if(diff>0&&currentTranslate>s.minTranslate()){disableParentSwiper=false;if(s.params.resistance)currentTranslate=
s.minTranslate()-1+Math.pow(-s.minTranslate()+startTranslate+diff,s.params.resistanceRatio)}else if(diff<0&&currentTranslate<s.maxTranslate()){disableParentSwiper=false;if(s.params.resistance)currentTranslate=s.maxTranslate()+1-Math.pow(s.maxTranslate()-startTranslate-diff,s.params.resistanceRatio)}if(disableParentSwiper)e.preventedByNestedSwiper=true;if(!s.params.allowSwipeToNext&&s.swipeDirection==="next"&&currentTranslate<startTranslate)currentTranslate=startTranslate;if(!s.params.allowSwipeToPrev&&
s.swipeDirection==="prev"&&currentTranslate>startTranslate)currentTranslate=startTranslate;if(!s.params.followFinger)return;if(s.params.threshold>0)if(Math.abs(diff)>s.params.threshold||allowThresholdMove){if(!allowThresholdMove){allowThresholdMove=true;s.touches.startX=s.touches.currentX;s.touches.startY=s.touches.currentY;currentTranslate=startTranslate;s.touches.diff=s.isHorizontal()?s.touches.currentX-s.touches.startX:s.touches.currentY-s.touches.startY;return}}else{currentTranslate=startTranslate;
return}if(s.params.freeMode||s.params.watchSlidesProgress)s.updateActiveIndex();if(s.params.freeMode){if(velocities.length===0)velocities.push({position:s.touches[s.isHorizontal()?"startX":"startY"],time:touchStartTime});velocities.push({position:s.touches[s.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})}s.updateProgress(currentTranslate);s.setWrapperTranslate(currentTranslate)};s.onTouchEnd=function(e){if(e.originalEvent)e=e.originalEvent;if(allowTouchCallbacks)s.emit("onTouchEnd",
s,e);allowTouchCallbacks=false;if(!isTouched)return;if(s.params.grabCursor&&isMoved&&isTouched){s.container[0].style.cursor="move";s.container[0].style.cursor="-webkit-grab";s.container[0].style.cursor="-moz-grab";s.container[0].style.cursor="grab"}var touchEndTime=Date.now();var timeDiff=touchEndTime-touchStartTime;if(s.allowClick){s.updateClickedSlide(e);s.emit("onTap",s,e);if(timeDiff<300&&touchEndTime-lastClickTime>300){if(clickTimeout)clearTimeout(clickTimeout);clickTimeout=setTimeout(function(){if(!s)return;
if(s.params.paginationHide&&s.paginationContainer.length>0&&!$(e.target).hasClass(s.params.bulletClass))s.paginationContainer.toggleClass(s.params.paginationHiddenClass);s.emit("onClick",s,e)},300)}if(timeDiff<300&&touchEndTime-lastClickTime<300){if(clickTimeout)clearTimeout(clickTimeout);s.emit("onDoubleTap",s,e)}}lastClickTime=Date.now();setTimeout(function(){if(s)s.allowClick=true},0);if(!isTouched||!isMoved||!s.swipeDirection||s.touches.diff===0||currentTranslate===startTranslate){isTouched=isMoved=
false;return}isTouched=isMoved=false;if(s.params.followFinger)var currentPos=s.rtl?s.translate:-s.translate;else currentPos=-currentTranslate;if(s.params.freeMode){if(currentPos<-s.minTranslate()){s.slideTo(s.activeIndex);return}else if(currentPos>-s.maxTranslate()){if(s.slides.length<s.snapGrid.length)s.slideTo(s.snapGrid.length-1);else s.slideTo(s.slides.length-1);return}if(s.params.freeModeMomentum){if(velocities.length>1){var lastMoveEvent=velocities.pop();var velocityEvent=velocities.pop();var distance=
lastMoveEvent.position-velocityEvent.position;var time=lastMoveEvent.time-velocityEvent.time;s.velocity=distance/time;s.velocity=s.velocity/2;if(Math.abs(s.velocity)<s.params.freeModeMinimumVelocity)s.velocity=0;if(time>150||(new window.Date).getTime()-lastMoveEvent.time>300)s.velocity=0}else s.velocity=0;velocities.length=0;var momentumDuration=1E3*s.params.freeModeMomentumRatio;var momentumDistance=s.velocity*momentumDuration;var newPosition=s.translate+momentumDistance;if(s.rtl)newPosition=-newPosition;
var doBounce=false;var bounceAmount=Math.abs(s.velocity)*20*s.params.freeModeMomentumBounceRatio;if(newPosition<s.maxTranslate())if(s.params.freeModeMomentumBounce){if(newPosition+s.maxTranslate()<-bounceAmount)newPosition=s.maxTranslate()-bounceAmount;var afterBouncePosition=s.maxTranslate();doBounce=true;allowMomentumBounce=true}else newPosition=s.maxTranslate();else if(newPosition>s.minTranslate())if(s.params.freeModeMomentumBounce){if(newPosition-s.minTranslate()>bounceAmount)newPosition=s.minTranslate()+
bounceAmount;afterBouncePosition=s.minTranslate();doBounce=true;allowMomentumBounce=true}else newPosition=s.minTranslate();else if(s.params.freeModeSticky){var j=0;for(j=0;j<s.snapGrid.length;j+=1)if(s.snapGrid[j]>-newPosition){var nextSlide=j;break}if(Math.abs(s.snapGrid[nextSlide]-newPosition)<Math.abs(s.snapGrid[nextSlide-1]-newPosition)||s.swipeDirection==="next")newPosition=s.snapGrid[nextSlide];else newPosition=s.snapGrid[nextSlide-1];if(!s.rtl)newPosition=-newPosition}if(s.velocity!==0)if(s.rtl)momentumDuration=
Math.abs((-newPosition-s.translate)/s.velocity);else momentumDuration=Math.abs((newPosition-s.translate)/s.velocity);else if(s.params.freeModeSticky){s.slideReset();return}if(s.params.freeModeMomentumBounce&&doBounce){s.updateProgress(afterBouncePosition);s.setWrapperTransition(momentumDuration);s.setWrapperTranslate(newPosition);s.onTransitionStart();s.animating=true;s.wrapper.transitionEnd(function(){if(!s||!allowMomentumBounce)return;s.emit("onMomentumBounce",s);s.setWrapperTransition(s.params.speed);
s.setWrapperTranslate(afterBouncePosition);s.wrapper.transitionEnd(function(){if(!s)return;s.onTransitionEnd()})})}else if(s.velocity){s.updateProgress(newPosition);s.setWrapperTransition(momentumDuration);s.setWrapperTranslate(newPosition);s.onTransitionStart();if(!s.animating){s.animating=true;s.wrapper.transitionEnd(function(){if(!s)return;s.onTransitionEnd()})}}else s.updateProgress(newPosition);s.updateActiveIndex()}if(!s.params.freeModeMomentum||timeDiff>=s.params.longSwipesMs){s.updateProgress();
s.updateActiveIndex()}return}var i;var stopIndex=0;var groupSize=s.slidesSizesGrid[0];for(i=0;i<s.slidesGrid.length;i+=s.params.slidesPerGroup)if(typeof s.slidesGrid[i+s.params.slidesPerGroup]!=="undefined"){if(currentPos>=s.slidesGrid[i]&&currentPos<s.slidesGrid[i+s.params.slidesPerGroup]){stopIndex=i;groupSize=s.slidesGrid[i+s.params.slidesPerGroup]-s.slidesGrid[i]}}else if(currentPos>=s.slidesGrid[i]){stopIndex=i;groupSize=s.slidesGrid[s.slidesGrid.length-1]-s.slidesGrid[s.slidesGrid.length-2]}var ratio=
(currentPos-s.slidesGrid[stopIndex])/groupSize;if(timeDiff>s.params.longSwipesMs){if(!s.params.longSwipes){s.slideTo(s.activeIndex);return}if(s.swipeDirection==="next")if(ratio>=s.params.longSwipesRatio)s.slideTo(stopIndex+s.params.slidesPerGroup);else s.slideTo(stopIndex);if(s.swipeDirection==="prev")if(ratio>1-s.params.longSwipesRatio)s.slideTo(stopIndex+s.params.slidesPerGroup);else s.slideTo(stopIndex)}else{if(!s.params.shortSwipes){s.slideTo(s.activeIndex);return}if(s.swipeDirection==="next")s.slideTo(stopIndex+
s.params.slidesPerGroup);if(s.swipeDirection==="prev")s.slideTo(stopIndex)}};s._slideTo=function(slideIndex,speed){return s.slideTo(slideIndex,speed,true,true)};s.slideTo=function(slideIndex,speed,runCallbacks,internal){if(typeof runCallbacks==="undefined")runCallbacks=true;if(typeof slideIndex==="undefined")slideIndex=0;if(slideIndex<0)slideIndex=0;s.snapIndex=Math.floor(slideIndex/s.params.slidesPerGroup);if(s.snapIndex>=s.snapGrid.length)s.snapIndex=s.snapGrid.length-1;var translate=-s.snapGrid[s.snapIndex];
if(s.params.autoplay&&s.autoplaying)if(internal||!s.params.autoplayDisableOnInteraction)s.pauseAutoplay(speed);else s.stopAutoplay();s.updateProgress(translate);for(var i=0;i<s.slidesGrid.length;i++)if(-Math.floor(translate*100)>=Math.floor(s.slidesGrid[i]*100))slideIndex=i;if(!s.params.allowSwipeToNext&&translate<s.translate&&translate<s.minTranslate())return false;if(!s.params.allowSwipeToPrev&&translate>s.translate&&translate>s.maxTranslate())if((s.activeIndex||0)!==slideIndex)return false;if(typeof speed===
"undefined")speed=s.params.speed;s.previousIndex=s.activeIndex||0;s.activeIndex=slideIndex;if(s.rtl&&-translate===s.translate||!s.rtl&&translate===s.translate){if(s.params.autoHeight)s.updateAutoHeight();s.updateClasses();if(s.params.effect!=="slide")s.setWrapperTranslate(translate);return false}s.updateClasses();s.onTransitionStart(runCallbacks);if(speed===0){s.setWrapperTranslate(translate);s.setWrapperTransition(0);s.onTransitionEnd(runCallbacks)}else{s.setWrapperTranslate(translate);s.setWrapperTransition(speed);
if(!s.animating){s.animating=true;s.wrapper.transitionEnd(function(){if(!s)return;s.onTransitionEnd(runCallbacks)})}}return true};s.onTransitionStart=function(runCallbacks){if(typeof runCallbacks==="undefined")runCallbacks=true;if(s.params.autoHeight)s.updateAutoHeight();if(s.lazy)s.lazy.onTransitionStart();if(runCallbacks){s.emit("onTransitionStart",s);if(s.activeIndex!==s.previousIndex){s.emit("onSlideChangeStart",s);if(s.activeIndex>s.previousIndex)s.emit("onSlideNextStart",s);else s.emit("onSlidePrevStart",
s)}}};s.onTransitionEnd=function(runCallbacks){s.animating=false;s.setWrapperTransition(0);if(typeof runCallbacks==="undefined")runCallbacks=true;if(s.lazy)s.lazy.onTransitionEnd();if(runCallbacks){s.emit("onTransitionEnd",s);if(s.activeIndex!==s.previousIndex){s.emit("onSlideChangeEnd",s);if(s.activeIndex>s.previousIndex)s.emit("onSlideNextEnd",s);else s.emit("onSlidePrevEnd",s)}}if(s.params.hashnav&&s.hashnav)s.hashnav.setHash()};s.slideNext=function(runCallbacks,speed,internal){if(s.params.loop){if(s.animating)return false;
s.fixLoop();var clientLeft=s.container[0].clientLeft;return s.slideTo(s.activeIndex+s.params.slidesPerGroup,speed,runCallbacks,internal)}else return s.slideTo(s.activeIndex+s.params.slidesPerGroup,speed,runCallbacks,internal)};s._slideNext=function(speed){return s.slideNext(true,speed,true)};s.slidePrev=function(runCallbacks,speed,internal){if(s.params.loop){if(s.animating)return false;s.fixLoop();var clientLeft=s.container[0].clientLeft;return s.slideTo(s.activeIndex-1,speed,runCallbacks,internal)}else return s.slideTo(s.activeIndex-
1,speed,runCallbacks,internal)};s._slidePrev=function(speed){return s.slidePrev(true,speed,true)};s.slideReset=function(runCallbacks,speed,internal){return s.slideTo(s.activeIndex,speed,runCallbacks)};s.setWrapperTransition=function(duration,byController){s.wrapper.transition(duration);if(s.params.effect!=="slide"&&s.effects[s.params.effect])s.effects[s.params.effect].setTransition(duration);if(s.params.parallax&&s.parallax)s.parallax.setTransition(duration);if(s.params.scrollbar&&s.scrollbar)s.scrollbar.setTransition(duration);
if(s.params.control&&s.controller)s.controller.setTransition(duration,byController);s.emit("onSetTransition",s,duration)};s.setWrapperTranslate=function(translate,updateActiveIndex,byController){var x=0;var y=0;var z=0;if(s.isHorizontal())x=s.rtl?-translate:translate;else y=translate;if(s.params.roundLengths){x=round(x);y=round(y)}if(!s.params.virtualTranslate)if(s.support.transforms3d)s.wrapper.transform("translate3d("+x+"px, "+y+"px, "+z+"px)");else s.wrapper.transform("translate("+x+"px, "+y+"px)");
s.translate=s.isHorizontal()?x:y;var translatesDiff=s.maxTranslate()-s.minTranslate();if(translatesDiff===0)var progress=0;else progress=(translate-s.minTranslate())/translatesDiff;if(progress!==s.progress)s.updateProgress(translate);if(updateActiveIndex)s.updateActiveIndex();if(s.params.effect!=="slide"&&s.effects[s.params.effect])s.effects[s.params.effect].setTranslate(s.translate);if(s.params.parallax&&s.parallax)s.parallax.setTranslate(s.translate);if(s.params.scrollbar&&s.scrollbar)s.scrollbar.setTranslate(s.translate);
if(s.params.control&&s.controller)s.controller.setTranslate(s.translate,byController);s.emit("onSetTranslate",s,s.translate)};s.getTranslate=function(el,axis){if(typeof axis==="undefined")axis="x";if(s.params.virtualTranslate)return s.rtl?-s.translate:s.translate;var curStyle=window.getComputedStyle(el,null);if(window.WebKitCSSMatrix){var curTransform=curStyle.transform||curStyle.webkitTransform;if(curTransform.split(",").length>6)curTransform=curTransform.split(", ").map(function(a){return a.replace(",",
".")}).join(", ");var transformMatrix=new window.WebKitCSSMatrix(curTransform==="none"?"":curTransform)}else{transformMatrix=curStyle.MozTransform||curStyle.OTransform||curStyle.MsTransform||curStyle.msTransform||curStyle.transform||curStyle.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,");var matrix=transformMatrix.toString().split(",")}if(axis==="x")if(window.WebKitCSSMatrix)curTransform=transformMatrix.m41;else if(matrix.length===16)curTransform=parseFloat(matrix[12]);else curTransform=
parseFloat(matrix[4]);if(axis==="y")if(window.WebKitCSSMatrix)curTransform=transformMatrix.m42;else if(matrix.length===16)curTransform=parseFloat(matrix[13]);else curTransform=parseFloat(matrix[5]);if(s.rtl&&curTransform)curTransform=-curTransform;return curTransform||0};s.getWrapperTranslate=function(axis){if(typeof axis==="undefined")axis=s.isHorizontal()?"x":"y";return s.getTranslate(s.wrapper[0],axis)};s.observers=[];s.initObservers=function(){if(s.params.observeParents){var containerParents=
s.container.parents();for(var i=0;i<containerParents.length;i++)initObserver(containerParents[i])}initObserver(s.container[0],{childList:false});initObserver(s.wrapper[0],{attributes:false})};s.disconnectObservers=function(){for(var i=0;i<s.observers.length;i++)s.observers[i].disconnect();s.observers=[]};s.createLoop=function(){s.wrapper.children("."+s.params.slideClass+"."+s.params.slideDuplicateClass).remove();var slides=s.wrapper.children("."+s.params.slideClass);if(s.params.slidesPerView==="auto"&&
!s.params.loopedSlides)s.params.loopedSlides=slides.length;s.loopedSlides=parseInt(s.params.loopedSlides||s.params.slidesPerView,10);s.loopedSlides=s.loopedSlides+s.params.loopAdditionalSlides;if(s.loopedSlides>slides.length)s.loopedSlides=slides.length;var prependSlides=[];var appendSlides=[];var i;slides.each(function(index,el){var slide=$(this);if(index<s.loopedSlides)appendSlides.push(el);if(index<slides.length&&index>=slides.length-s.loopedSlides)prependSlides.push(el);slide.attr("data-swiper-slide-index",
index)});for(i=0;i<appendSlides.length;i++)s.wrapper.append($(appendSlides[i].cloneNode(true)).addClass(s.params.slideDuplicateClass));for(i=prependSlides.length-1;i>=0;i--)s.wrapper.prepend($(prependSlides[i].cloneNode(true)).addClass(s.params.slideDuplicateClass))};s.destroyLoop=function(){s.wrapper.children("."+s.params.slideClass+"."+s.params.slideDuplicateClass).remove();s.slides.removeAttr("data-swiper-slide-index")};s.reLoop=function(updatePosition){var oldIndex=s.activeIndex-s.loopedSlides;
s.destroyLoop();s.createLoop();s.updateSlidesSize();if(updatePosition)s.slideTo(oldIndex+s.loopedSlides,0,false)};s.fixLoop=function(){if(s.activeIndex<s.loopedSlides){var newIndex=s.slides.length-s.loopedSlides*3+s.activeIndex;newIndex+=s.loopedSlides;s.slideTo(newIndex,0,false,true)}else if(s.params.slidesPerView==="auto"&&s.activeIndex>=s.loopedSlides*2||s.activeIndex>s.slides.length-s.params.slidesPerView*2){newIndex=-s.slides.length+s.activeIndex+s.loopedSlides;newIndex+=s.loopedSlides;s.slideTo(newIndex,
0,false,true)}};s.appendSlide=function(slides){if(s.params.loop)s.destroyLoop();if(typeof slides==="object"&&slides.length)for(var i=0;i<slides.length;i++){if(slides[i])s.wrapper.append(slides[i])}else s.wrapper.append(slides);if(s.params.loop)s.createLoop();if(!(s.params.observer&&s.support.observer))s.update(true)};s.prependSlide=function(slides){if(s.params.loop)s.destroyLoop();var newActiveIndex=s.activeIndex+1;if(typeof slides==="object"&&slides.length){for(var i=0;i<slides.length;i++)if(slides[i])s.wrapper.prepend(slides[i]);
newActiveIndex=s.activeIndex+slides.length}else s.wrapper.prepend(slides);if(s.params.loop)s.createLoop();if(!(s.params.observer&&s.support.observer))s.update(true);s.slideTo(newActiveIndex,0,false)};s.removeSlide=function(slidesIndexes){if(s.params.loop){s.destroyLoop();s.slides=s.wrapper.children("."+s.params.slideClass)}var newActiveIndex=s.activeIndex;if(typeof slidesIndexes==="object"&&slidesIndexes.length){for(var i=0;i<slidesIndexes.length;i++){var indexToRemove=slidesIndexes[i];if(s.slides[indexToRemove])s.slides.eq(indexToRemove).remove();
if(indexToRemove<newActiveIndex)newActiveIndex--}newActiveIndex=Math.max(newActiveIndex,0)}else{indexToRemove=slidesIndexes;if(s.slides[indexToRemove])s.slides.eq(indexToRemove).remove();if(indexToRemove<newActiveIndex)newActiveIndex--;newActiveIndex=Math.max(newActiveIndex,0)}if(s.params.loop)s.createLoop();if(!(s.params.observer&&s.support.observer))s.update(true);if(s.params.loop)s.slideTo(newActiveIndex+s.loopedSlides,0,false);else s.slideTo(newActiveIndex,0,false)};s.removeAllSlides=function(){var slidesIndexes=
[];for(var i=0;i<s.slides.length;i++)slidesIndexes.push(i);s.removeSlide(slidesIndexes)};s.effects={fade:{setTranslate:function(){for(var i=0;i<s.slides.length;i++){var slide=s.slides.eq(i);var offset=slide[0].swiperSlideOffset;var tx=-offset;if(!s.params.virtualTranslate)tx-=s.translate;var ty=0;if(!s.isHorizontal()){ty=tx;tx=0}var slideOpacity=s.params.fade.crossFade?Math.max(1-Math.abs(slide[0].progress),0):1+Math.min(Math.max(slide[0].progress,-1),0);slide.css({opacity:slideOpacity}).transform("translate3d("+
tx+"px, "+ty+"px, 0px)")}},setTransition:function(duration){s.slides.transition(duration);if(s.params.virtualTranslate&&duration!==0){var eventTriggered=false;s.slides.transitionEnd(function(){if(eventTriggered)return;if(!s)return;eventTriggered=true;s.animating=false;var triggerEvents=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];for(var i=0;i<triggerEvents.length;i++)s.wrapper.trigger(triggerEvents[i])})}}},flip:{setTranslate:function(){for(var i=0;i<
s.slides.length;i++){var slide=s.slides.eq(i);var progress=slide[0].progress;if(s.params.flip.limitRotation)progress=Math.max(Math.min(slide[0].progress,1),-1);var offset=slide[0].swiperSlideOffset;var rotate=-180*progress;var rotateY=rotate;var rotateX=0;var tx=-offset;var ty=0;if(!s.isHorizontal()){ty=tx;tx=0;rotateX=-rotateY;rotateY=0}else if(s.rtl)rotateY=-rotateY;slide[0].style.zIndex=-Math.abs(Math.round(progress))+s.slides.length;if(s.params.flip.slideShadows){var shadowBefore=s.isHorizontal()?
slide.find(".swiper-slide-shadow-left"):slide.find(".swiper-slide-shadow-top");var shadowAfter=s.isHorizontal()?slide.find(".swiper-slide-shadow-right"):slide.find(".swiper-slide-shadow-bottom");if(shadowBefore.length===0){shadowBefore=$('\x3cdiv class\x3d"swiper-slide-shadow-'+(s.isHorizontal()?"left":"top")+'"\x3e\x3c/div\x3e');slide.append(shadowBefore)}if(shadowAfter.length===0){shadowAfter=$('\x3cdiv class\x3d"swiper-slide-shadow-'+(s.isHorizontal()?"right":"bottom")+'"\x3e\x3c/div\x3e');slide.append(shadowAfter)}if(shadowBefore.length)shadowBefore[0].style.opacity=
Math.max(-progress,0);if(shadowAfter.length)shadowAfter[0].style.opacity=Math.max(progress,0)}slide.transform("translate3d("+tx+"px, "+ty+"px, 0px) rotateX("+rotateX+"deg) rotateY("+rotateY+"deg)")}},setTransition:function(duration){s.slides.transition(duration).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(duration);if(s.params.virtualTranslate&&duration!==0){var eventTriggered=false;s.slides.eq(s.activeIndex).transitionEnd(function(){if(eventTriggered)return;
if(!s)return;if(!$(this).hasClass(s.params.slideActiveClass))return;eventTriggered=true;s.animating=false;var triggerEvents=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];for(var i=0;i<triggerEvents.length;i++)s.wrapper.trigger(triggerEvents[i])})}}},cube:{setTranslate:function(){var wrapperRotate=0;if(s.params.cube.shadow)if(s.isHorizontal()){var cubeShadow=s.wrapper.find(".swiper-cube-shadow");if(cubeShadow.length===0){cubeShadow=$('\x3cdiv class\x3d"swiper-cube-shadow"\x3e\x3c/div\x3e');
s.wrapper.append(cubeShadow)}cubeShadow.css({height:s.width+"px"})}else{cubeShadow=s.container.find(".swiper-cube-shadow");if(cubeShadow.length===0){cubeShadow=$('\x3cdiv class\x3d"swiper-cube-shadow"\x3e\x3c/div\x3e');s.container.append(cubeShadow)}}for(var i=0;i<s.slides.length;i++){var slide=s.slides.eq(i);var slideAngle=i*90;var round=Math.floor(slideAngle/360);if(s.rtl){slideAngle=-slideAngle;round=Math.floor(-slideAngle/360)}var progress=Math.max(Math.min(slide[0].progress,1),-1);var tx=0;var ty=
0;var tz=0;if(i%4===0){tx=-round*4*s.size;tz=0}else if((i-1)%4===0){tx=0;tz=-round*4*s.size}else if((i-2)%4===0){tx=s.size+round*4*s.size;tz=s.size}else if((i-3)%4===0){tx=-s.size;tz=3*s.size+s.size*4*round}if(s.rtl)tx=-tx;if(!s.isHorizontal()){ty=tx;tx=0}var transform="rotateX("+(s.isHorizontal()?0:-slideAngle)+"deg) rotateY("+(s.isHorizontal()?slideAngle:0)+"deg) translate3d("+tx+"px, "+ty+"px, "+tz+"px)";if(progress<=1&&progress>-1){wrapperRotate=i*90+progress*90;if(s.rtl)wrapperRotate=-i*90-progress*
90}slide.transform(transform);if(s.params.cube.slideShadows){var shadowBefore=s.isHorizontal()?slide.find(".swiper-slide-shadow-left"):slide.find(".swiper-slide-shadow-top");var shadowAfter=s.isHorizontal()?slide.find(".swiper-slide-shadow-right"):slide.find(".swiper-slide-shadow-bottom");if(shadowBefore.length===0){shadowBefore=$('\x3cdiv class\x3d"swiper-slide-shadow-'+(s.isHorizontal()?"left":"top")+'"\x3e\x3c/div\x3e');slide.append(shadowBefore)}if(shadowAfter.length===0){shadowAfter=$('\x3cdiv class\x3d"swiper-slide-shadow-'+
(s.isHorizontal()?"right":"bottom")+'"\x3e\x3c/div\x3e');slide.append(shadowAfter)}if(shadowBefore.length)shadowBefore[0].style.opacity=Math.max(-progress,0);if(shadowAfter.length)shadowAfter[0].style.opacity=Math.max(progress,0)}}s.wrapper.css({"-webkit-transform-origin":"50% 50% -"+s.size/2+"px","-moz-transform-origin":"50% 50% -"+s.size/2+"px","-ms-transform-origin":"50% 50% -"+s.size/2+"px","transform-origin":"50% 50% -"+s.size/2+"px"});if(s.params.cube.shadow)if(s.isHorizontal())cubeShadow.transform("translate3d(0px, "+
(s.width/2+s.params.cube.shadowOffset)+"px, "+-s.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+s.params.cube.shadowScale+")");else{var shadowAngle=Math.abs(wrapperRotate)-Math.floor(Math.abs(wrapperRotate)/90)*90;var multiplier=1.5-(Math.sin(shadowAngle*2*Math.PI/360)/2+Math.cos(shadowAngle*2*Math.PI/360)/2);var scale1=s.params.cube.shadowScale;var scale2=s.params.cube.shadowScale/multiplier;var offset=s.params.cube.shadowOffset;cubeShadow.transform("scale3d("+scale1+", 1, "+scale2+") translate3d(0px, "+
(s.height/2+offset)+"px, "+-s.height/2/scale2+"px) rotateX(-90deg)")}var zFactor=s.isSafari||s.isUiWebView?-s.size/2:0;s.wrapper.transform("translate3d(0px,0,"+zFactor+"px) rotateX("+(s.isHorizontal()?0:wrapperRotate)+"deg) rotateY("+(s.isHorizontal()?-wrapperRotate:0)+"deg)")},setTransition:function(duration){s.slides.transition(duration).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(duration);if(s.params.cube.shadow&&
!s.isHorizontal())s.container.find(".swiper-cube-shadow").transition(duration)}},coverflow:{setTranslate:function(){var transform=s.translate;var center=s.isHorizontal()?-transform+s.width/2:-transform+s.height/2;var rotate=s.isHorizontal()?s.params.coverflow.rotate:-s.params.coverflow.rotate;var translate=s.params.coverflow.depth;var i=0;for(var length=s.slides.length;i<length;i++){var slide=s.slides.eq(i);var slideSize=s.slidesSizesGrid[i];var slideOffset=slide[0].swiperSlideOffset;var offsetMultiplier=
(center-slideOffset-slideSize/2)/slideSize*s.params.coverflow.modifier;var rotateY=s.isHorizontal()?rotate*offsetMultiplier:0;var rotateX=s.isHorizontal()?0:rotate*offsetMultiplier;var translateZ=-translate*Math.abs(offsetMultiplier);var translateY=s.isHorizontal()?0:s.params.coverflow.stretch*offsetMultiplier;var translateX=s.isHorizontal()?s.params.coverflow.stretch*offsetMultiplier:0;if(Math.abs(translateX)<.001)translateX=0;if(Math.abs(translateY)<.001)translateY=0;if(Math.abs(translateZ)<.001)translateZ=
0;if(Math.abs(rotateY)<.001)rotateY=0;if(Math.abs(rotateX)<.001)rotateX=0;var slideTransform="translate3d("+translateX+"px,"+translateY+"px,"+translateZ+"px)  rotateX("+rotateX+"deg) rotateY("+rotateY+"deg)";slide.transform(slideTransform);slide[0].style.zIndex=-Math.abs(Math.round(offsetMultiplier))+1;if(s.params.coverflow.slideShadows){var shadowBefore=s.isHorizontal()?slide.find(".swiper-slide-shadow-left"):slide.find(".swiper-slide-shadow-top");var shadowAfter=s.isHorizontal()?slide.find(".swiper-slide-shadow-right"):
slide.find(".swiper-slide-shadow-bottom");if(shadowBefore.length===0){shadowBefore=$('\x3cdiv class\x3d"swiper-slide-shadow-'+(s.isHorizontal()?"left":"top")+'"\x3e\x3c/div\x3e');slide.append(shadowBefore)}if(shadowAfter.length===0){shadowAfter=$('\x3cdiv class\x3d"swiper-slide-shadow-'+(s.isHorizontal()?"right":"bottom")+'"\x3e\x3c/div\x3e');slide.append(shadowAfter)}if(shadowBefore.length)shadowBefore[0].style.opacity=offsetMultiplier>0?offsetMultiplier:0;if(shadowAfter.length)shadowAfter[0].style.opacity=
-offsetMultiplier>0?-offsetMultiplier:0}}if(s.browser.ie){var ws=s.wrapper[0].style;ws.perspectiveOrigin=center+"px 50%"}},setTransition:function(duration){s.slides.transition(duration).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(duration)}}};s.lazy={initialImageLoaded:false,loadImageInSlide:function(index,loadInDuplicate){if(typeof index==="undefined")return;if(typeof loadInDuplicate==="undefined")loadInDuplicate=
true;if(s.slides.length===0)return;var slide=s.slides.eq(index);var img=slide.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");if(slide.hasClass("swiper-lazy")&&!slide.hasClass("swiper-lazy-loaded")&&!slide.hasClass("swiper-lazy-loading"))img=img.add(slide[0]);if(img.length===0)return;img.each(function(){var _img=$(this);_img.addClass("swiper-lazy-loading");var background=_img.attr("data-background");var src=_img.attr("data-src");var srcset=_img.attr("data-srcset");s.loadImage(_img[0],
src||background,srcset,false,function(){if(background){_img.css("background-image",'url("'+background+'")');_img.removeAttr("data-background")}else{if(srcset){_img.attr("srcset",srcset);_img.removeAttr("data-srcset")}if(src){_img.attr("src",src);_img.removeAttr("data-src")}}_img.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading");slide.find(".swiper-lazy-preloader, .preloader").remove();if(s.params.loop&&loadInDuplicate){var slideOriginalIndex=slide.attr("data-swiper-slide-index");if(slide.hasClass(s.params.slideDuplicateClass)){var originalSlide=
s.wrapper.children('[data-swiper-slide-index\x3d"'+slideOriginalIndex+'"]:not(.'+s.params.slideDuplicateClass+")");s.lazy.loadImageInSlide(originalSlide.index(),false)}else{var duplicatedSlide=s.wrapper.children("."+s.params.slideDuplicateClass+'[data-swiper-slide-index\x3d"'+slideOriginalIndex+'"]');s.lazy.loadImageInSlide(duplicatedSlide.index(),false)}}s.emit("onLazyImageReady",s,slide[0],_img[0])});s.emit("onLazyImageLoad",s,slide[0],_img[0])})},load:function(){var i;if(s.params.watchSlidesVisibility)s.wrapper.children("."+
s.params.slideVisibleClass).each(function(){s.lazy.loadImageInSlide($(this).index())});else if(s.params.slidesPerView>1)for(i=s.activeIndex;i<s.activeIndex+s.params.slidesPerView;i++){if(s.slides[i])s.lazy.loadImageInSlide(i)}else s.lazy.loadImageInSlide(s.activeIndex);if(s.params.lazyLoadingInPrevNext)if(s.params.slidesPerView>1||s.params.lazyLoadingInPrevNextAmount&&s.params.lazyLoadingInPrevNextAmount>1){var amount=s.params.lazyLoadingInPrevNextAmount;var spv=s.params.slidesPerView;var maxIndex=
Math.min(s.activeIndex+spv+Math.max(amount,spv),s.slides.length);var minIndex=Math.max(s.activeIndex-Math.max(spv,amount),0);for(i=s.activeIndex+s.params.slidesPerView;i<maxIndex;i++)if(s.slides[i])s.lazy.loadImageInSlide(i);for(i=minIndex;i<s.activeIndex;i++)if(s.slides[i])s.lazy.loadImageInSlide(i)}else{var nextSlide=s.wrapper.children("."+s.params.slideNextClass);if(nextSlide.length>0)s.lazy.loadImageInSlide(nextSlide.index());var prevSlide=s.wrapper.children("."+s.params.slidePrevClass);if(prevSlide.length>
0)s.lazy.loadImageInSlide(prevSlide.index())}},onTransitionStart:function(){if(s.params.lazyLoading)if(s.params.lazyLoadingOnTransitionStart||!s.params.lazyLoadingOnTransitionStart&&!s.lazy.initialImageLoaded)s.lazy.load()},onTransitionEnd:function(){if(s.params.lazyLoading&&!s.params.lazyLoadingOnTransitionStart)s.lazy.load()}};s.scrollbar={isTouched:false,setDragPosition:function(e){var sb=s.scrollbar;var x=0;var y=0;var translate;var pointerPosition=s.isHorizontal()?e.type==="touchstart"||e.type===
"touchmove"?e.targetTouches[0].pageX:e.pageX||e.clientX:e.type==="touchstart"||e.type==="touchmove"?e.targetTouches[0].pageY:e.pageY||e.clientY;var position=pointerPosition-sb.track.offset()[s.isHorizontal()?"left":"top"]-sb.dragSize/2;var positionMin=-s.minTranslate()*sb.moveDivider;var positionMax=-s.maxTranslate()*sb.moveDivider;if(position<positionMin)position=positionMin;else if(position>positionMax)position=positionMax;position=-position/sb.moveDivider;s.updateProgress(position);s.setWrapperTranslate(position,
true)},dragStart:function(e){var sb=s.scrollbar;sb.isTouched=true;e.preventDefault();e.stopPropagation();sb.setDragPosition(e);clearTimeout(sb.dragTimeout);sb.track.transition(0);if(s.params.scrollbarHide)sb.track.css("opacity",1);s.wrapper.transition(100);sb.drag.transition(100);s.emit("onScrollbarDragStart",s)},dragMove:function(e){var sb=s.scrollbar;if(!sb.isTouched)return;if(e.preventDefault)e.preventDefault();else e.returnValue=false;sb.setDragPosition(e);s.wrapper.transition(0);sb.track.transition(0);
sb.drag.transition(0);s.emit("onScrollbarDragMove",s)},dragEnd:function(e){var sb=s.scrollbar;if(!sb.isTouched)return;sb.isTouched=false;if(s.params.scrollbarHide){clearTimeout(sb.dragTimeout);sb.dragTimeout=setTimeout(function(){sb.track.css("opacity",0);sb.track.transition(400)},1E3)}s.emit("onScrollbarDragEnd",s);if(s.params.scrollbarSnapOnRelease)s.slideReset()},enableDraggable:function(){var sb=s.scrollbar;var target=s.support.touch?sb.track:document;$(sb.track).on(s.touchEvents.start,sb.dragStart);
$(target).on(s.touchEvents.move,sb.dragMove);$(target).on(s.touchEvents.end,sb.dragEnd)},disableDraggable:function(){var sb=s.scrollbar;var target=s.support.touch?sb.track:document;$(sb.track).off(s.touchEvents.start,sb.dragStart);$(target).off(s.touchEvents.move,sb.dragMove);$(target).off(s.touchEvents.end,sb.dragEnd)},set:function(){if(!s.params.scrollbar)return;var sb=s.scrollbar;sb.track=$(s.params.scrollbar);if(s.params.uniqueNavElements&&typeof s.params.scrollbar==="string"&&sb.track.length>
1&&s.container.find(s.params.scrollbar).length===1)sb.track=s.container.find(s.params.scrollbar);sb.drag=sb.track.find(".swiper-scrollbar-drag");if(sb.drag.length===0){sb.drag=$('\x3cdiv class\x3d"swiper-scrollbar-drag"\x3e\x3c/div\x3e');sb.track.append(sb.drag)}sb.drag[0].style.width="";sb.drag[0].style.height="";sb.trackSize=s.isHorizontal()?sb.track[0].offsetWidth:sb.track[0].offsetHeight;sb.divider=s.size/s.virtualSize;sb.moveDivider=sb.divider*(sb.trackSize/s.size);sb.dragSize=sb.trackSize*sb.divider;
if(s.isHorizontal())sb.drag[0].style.width=sb.dragSize+"px";else sb.drag[0].style.height=sb.dragSize+"px";if(sb.divider>=1)sb.track[0].style.display="none";else sb.track[0].style.display="";if(s.params.scrollbarHide)sb.track[0].style.opacity=0},setTranslate:function(){if(!s.params.scrollbar)return;var diff;var sb=s.scrollbar;var translate=s.translate||0;var newSize=sb.dragSize;var newPos=(sb.trackSize-sb.dragSize)*s.progress;if(s.rtl&&s.isHorizontal()){newPos=-newPos;if(newPos>0){newSize=sb.dragSize-
newPos;newPos=0}else if(-newPos+sb.dragSize>sb.trackSize)newSize=sb.trackSize+newPos}else if(newPos<0){newSize=sb.dragSize+newPos;newPos=0}else if(newPos+sb.dragSize>sb.trackSize)newSize=sb.trackSize-newPos;if(s.isHorizontal()){if(s.support.transforms3d)sb.drag.transform("translate3d("+newPos+"px, 0, 0)");else sb.drag.transform("translateX("+newPos+"px)");sb.drag[0].style.width=newSize+"px"}else{if(s.support.transforms3d)sb.drag.transform("translate3d(0px, "+newPos+"px, 0)");else sb.drag.transform("translateY("+
newPos+"px)");sb.drag[0].style.height=newSize+"px"}if(s.params.scrollbarHide){clearTimeout(sb.timeout);sb.track[0].style.opacity=1;sb.timeout=setTimeout(function(){sb.track[0].style.opacity=0;sb.track.transition(400)},1E3)}},setTransition:function(duration){if(!s.params.scrollbar)return;s.scrollbar.drag.transition(duration)}};s.controller={LinearSpline:function(x,y){this.x=x;this.y=y;this.lastIndex=x.length-1;var i1;var i3;var l=this.x.length;this.interpolate=function(x2){if(!x2)return 0;i3=binarySearch(this.x,
x2);i1=i3-1;return(x2-this.x[i1])*(this.y[i3]-this.y[i1])/(this.x[i3]-this.x[i1])+this.y[i1]};var binarySearch=function(){var maxIndex;var minIndex;var guess;return function(array,val){minIndex=-1;for(maxIndex=array.length;maxIndex-minIndex>1;)if(array[guess=maxIndex+minIndex>>1]<=val)minIndex=guess;else maxIndex=guess;return maxIndex}}()},getInterpolateFunction:function(c){if(!s.controller.spline)s.controller.spline=s.params.loop?new s.controller.LinearSpline(s.slidesGrid,c.slidesGrid):new s.controller.LinearSpline(s.snapGrid,
c.snapGrid)},setTranslate:function(translate,byController){function setControlledTranslate(c){translate=c.rtl&&c.params.direction==="horizontal"?-s.translate:s.translate;if(s.params.controlBy==="slide"){s.controller.getInterpolateFunction(c);controlledTranslate=-s.controller.spline.interpolate(-translate)}if(!controlledTranslate||s.params.controlBy==="container"){multiplier=(c.maxTranslate()-c.minTranslate())/(s.maxTranslate()-s.minTranslate());controlledTranslate=(translate-s.minTranslate())*multiplier+
c.minTranslate()}if(s.params.controlInverse)controlledTranslate=c.maxTranslate()-controlledTranslate;c.updateProgress(controlledTranslate);c.setWrapperTranslate(controlledTranslate,false,s);c.updateActiveIndex()}var controlled=s.params.control;var multiplier;var controlledTranslate;if(s.isArray(controlled))for(var i=0;i<controlled.length;i++){if(controlled[i]!==byController&&controlled[i]instanceof Swiper)setControlledTranslate(controlled[i])}else if(controlled instanceof Swiper&&byController!==controlled)setControlledTranslate(controlled)},
setTransition:function(duration,byController){function setControlledTransition(c){c.setWrapperTransition(duration,s);if(duration!==0){c.onTransitionStart();c.wrapper.transitionEnd(function(){if(!controlled)return;if(c.params.loop&&s.params.controlBy==="slide")c.fixLoop();c.onTransitionEnd()})}}var controlled=s.params.control;var i;if(s.isArray(controlled))for(i=0;i<controlled.length;i++){if(controlled[i]!==byController&&controlled[i]instanceof Swiper)setControlledTransition(controlled[i])}else if(controlled instanceof
Swiper&&byController!==controlled)setControlledTransition(controlled)}};s.hashnav={init:function(){if(!s.params.hashnav)return;s.hashnav.initialized=true;var hash=document.location.hash.replace("#","");if(!hash)return;var speed=0;var i=0;for(var length=s.slides.length;i<length;i++){var slide=s.slides.eq(i);var slideHash=slide.attr("data-hash");if(slideHash===hash&&!slide.hasClass(s.params.slideDuplicateClass)){var index=slide.index();s.slideTo(index,speed,s.params.runCallbacksOnInit,true)}}},setHash:function(){if(!s.hashnav.initialized||
!s.params.hashnav)return;document.location.hash=s.slides.eq(s.activeIndex).attr("data-hash")||""}};s.disableKeyboardControl=function(){s.params.keyboardControl=false;$(document).off("keydown",handleKeyboard)};s.enableKeyboardControl=function(){s.params.keyboardControl=true;$(document).on("keydown",handleKeyboard)};s.mousewheel={event:false,lastScrollTime:(new window.Date).getTime()};if(s.params.mousewheelControl){try{new window.WheelEvent("wheel");s.mousewheel.event="wheel"}catch(e){if(window.WheelEvent||
s.container[0]&&"wheel"in s.container[0])s.mousewheel.event="wheel"}if(!s.mousewheel.event&&window.WheelEvent);if(!s.mousewheel.event&&document.onmousewheel!==undefined)s.mousewheel.event="mousewheel";if(!s.mousewheel.event)s.mousewheel.event="DOMMouseScroll"}s.disableMousewheelControl=function(){if(!s.mousewheel.event)return false;s.container.off(s.mousewheel.event,handleMousewheel);return true};s.enableMousewheelControl=function(){if(!s.mousewheel.event)return false;s.container.on(s.mousewheel.event,
handleMousewheel);return true};s.parallax={setTranslate:function(){s.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){setParallaxTransform(this,s.progress)});s.slides.each(function(){var slide=$(this);slide.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var progress=Math.min(Math.max(slide[0].progress,-1),1);setParallaxTransform(this,progress)})})},setTransition:function(duration){if(typeof duration===
"undefined")duration=s.params.speed;s.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var el=$(this);var parallaxDuration=parseInt(el.attr("data-swiper-parallax-duration"),10)||duration;if(duration===0)parallaxDuration=0;el.transition(parallaxDuration)})}};s._plugins=[];for(var plugin in s.plugins){var p$jscomp$0=s.plugins[plugin](s,s.params[plugin]);if(p$jscomp$0)s._plugins.push(p$jscomp$0)}s.callPlugins=function(eventName){for(var i=0;i<
s._plugins.length;i++)if(eventName in s._plugins[i])s._plugins[i][eventName](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};s.emitterEventListeners={};s.emit=function(eventName){if(s.params[eventName])s.params[eventName](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var i;if(s.emitterEventListeners[eventName])for(i=0;i<s.emitterEventListeners[eventName].length;i++)s.emitterEventListeners[eventName][i](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);
if(s.callPlugins)s.callPlugins(eventName,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};s.on=function(eventName,handler){eventName=normalizeEventName(eventName);if(!s.emitterEventListeners[eventName])s.emitterEventListeners[eventName]=[];s.emitterEventListeners[eventName].push(handler);return s};s.off=function(eventName,handler){var i;eventName=normalizeEventName(eventName);if(typeof handler==="undefined"){s.emitterEventListeners[eventName]=[];return s}if(!s.emitterEventListeners[eventName]||
s.emitterEventListeners[eventName].length===0)return;for(i=0;i<s.emitterEventListeners[eventName].length;i++)if(s.emitterEventListeners[eventName][i]===handler)s.emitterEventListeners[eventName].splice(i,1);return s};s.once=function(eventName,handler){eventName=normalizeEventName(eventName);var _handler=function(){handler(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);s.off(eventName,_handler)};s.on(eventName,_handler);return s};s.a11y={makeFocusable:function($el){$el.attr("tabIndex",
"0");return $el},addRole:function($el,role){$el.attr("role",role);return $el},addLabel:function($el,label){$el.attr("aria-label",label);return $el},disable:function($el){$el.attr("aria-disabled",true);return $el},enable:function($el){$el.attr("aria-disabled",false);return $el},onEnterKey:function(event){if(event.keyCode!==13)return;if($(event.target).is(s.params.nextButton)){s.onClickNext(event);if(s.isEnd)s.a11y.notify(s.params.lastSlideMessage);else s.a11y.notify(s.params.nextSlideMessage)}else if($(event.target).is(s.params.prevButton)){s.onClickPrev(event);
if(s.isBeginning)s.a11y.notify(s.params.firstSlideMessage);else s.a11y.notify(s.params.prevSlideMessage)}if($(event.target).is("."+s.params.bulletClass))$(event.target)[0].click()},liveRegion:$('\x3cspan class\x3d"swiper-notification" aria-live\x3d"assertive" aria-atomic\x3d"true"\x3e\x3c/span\x3e'),notify:function(message){var notification=s.a11y.liveRegion;if(notification.length===0)return;notification.html("");notification.html(message)},init:function(){if(s.params.nextButton&&s.nextButton&&s.nextButton.length>
0){s.a11y.makeFocusable(s.nextButton);s.a11y.addRole(s.nextButton,"button");s.a11y.addLabel(s.nextButton,s.params.nextSlideMessage)}if(s.params.prevButton&&s.prevButton&&s.prevButton.length>0){s.a11y.makeFocusable(s.prevButton);s.a11y.addRole(s.prevButton,"button");s.a11y.addLabel(s.prevButton,s.params.prevSlideMessage)}$(s.container).append(s.a11y.liveRegion)},initPagination:function(){if(s.params.pagination&&s.params.paginationClickable&&s.bullets&&s.bullets.length)s.bullets.each(function(){var bullet=
$(this);s.a11y.makeFocusable(bullet);s.a11y.addRole(bullet,"button");s.a11y.addLabel(bullet,s.params.paginationBulletMessage.replace(/{{index}}/,bullet.index()+1))})},destroy:function(){if(s.a11y.liveRegion&&s.a11y.liveRegion.length>0)s.a11y.liveRegion.remove()}};s.init=function(){if(s.params.loop)s.createLoop();s.updateContainerSize();s.updateSlidesSize();s.updatePagination();if(s.params.scrollbar&&s.scrollbar){s.scrollbar.set();if(s.params.scrollbarDraggable)s.scrollbar.enableDraggable()}if(s.params.effect!==
"slide"&&s.effects[s.params.effect]){if(!s.params.loop)s.updateProgress();s.effects[s.params.effect].setTranslate()}if(s.params.loop)s.slideTo(s.params.initialSlide+s.loopedSlides,0,s.params.runCallbacksOnInit);else{s.slideTo(s.params.initialSlide,0,s.params.runCallbacksOnInit);if(s.params.initialSlide===0){if(s.parallax&&s.params.parallax)s.parallax.setTranslate();if(s.lazy&&s.params.lazyLoading){s.lazy.load();s.lazy.initialImageLoaded=true}}}s.attachEvents();if(s.params.observer&&s.support.observer)s.initObservers();
if(s.params.preloadImages&&!s.params.lazyLoading)s.preloadImages();if(s.params.autoplay)s.startAutoplay();if(s.params.keyboardControl)if(s.enableKeyboardControl)s.enableKeyboardControl();if(s.params.mousewheelControl)if(s.enableMousewheelControl)s.enableMousewheelControl();if(s.params.hashnav)if(s.hashnav)s.hashnav.init();if(s.params.a11y&&s.a11y)s.a11y.init();s.emit("onInit",s)};s.cleanupStyles=function(){s.container.removeClass(s.classNames.join(" ")).removeAttr("style");s.wrapper.removeAttr("style");
if(s.slides&&s.slides.length)s.slides.removeClass([s.params.slideVisibleClass,s.params.slideActiveClass,s.params.slideNextClass,s.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row");if(s.paginationContainer&&s.paginationContainer.length)s.paginationContainer.removeClass(s.params.paginationHiddenClass);if(s.bullets&&s.bullets.length)s.bullets.removeClass(s.params.bulletActiveClass);if(s.params.prevButton)$(s.params.prevButton).removeClass(s.params.buttonDisabledClass);
if(s.params.nextButton)$(s.params.nextButton).removeClass(s.params.buttonDisabledClass);if(s.params.scrollbar&&s.scrollbar){if(s.scrollbar.track&&s.scrollbar.track.length)s.scrollbar.track.removeAttr("style");if(s.scrollbar.drag&&s.scrollbar.drag.length)s.scrollbar.drag.removeAttr("style")}};s.destroy=function(deleteInstance,cleanupStyles){s.detachEvents();s.stopAutoplay();if(s.params.scrollbar&&s.scrollbar)if(s.params.scrollbarDraggable)s.scrollbar.disableDraggable();if(s.params.loop)s.destroyLoop();
if(cleanupStyles)s.cleanupStyles();s.disconnectObservers();if(s.params.keyboardControl)if(s.disableKeyboardControl)s.disableKeyboardControl();if(s.params.mousewheelControl)if(s.disableMousewheelControl)s.disableMousewheelControl();if(s.params.a11y&&s.a11y)s.a11y.destroy();s.emit("onDestroy");if(deleteInstance!==false)s=null};s.init();return s};Swiper.prototype={isSafari:function(){var ua=navigator.userAgent.toLowerCase();return ua.indexOf("safari")>=0&&ua.indexOf("chrome")<0&&ua.indexOf("android")<
0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(arr){return Object.prototype.toString.apply(arr)==="[object Array]"},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var ua=navigator.userAgent;var android=ua.match(/(Android);?[\s\/]+([\d.]+)?/);var ipad=
ua.match(/(iPad).*OS\s([\d_]+)/);var ipod=ua.match(/(iPod)(.*OS\s([\d_]+))?/);var iphone=!ipad&&ua.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:ipad||iphone||ipod,android}}(),support:{touch:window.Modernizr&&Modernizr.touch===true||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===true||function(){var div=document.createElement("div").style;return"webkitPerspective"in div||"MozPerspective"in
div||"OPerspective"in div||"MsPerspective"in div||"perspective"in div}(),flexbox:function(){var div=document.createElement("div").style;var styles="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" ");for(var i=0;i<styles.length;i++)if(styles[i]in div)return true}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};var swiperDomPlugins=
["jQuery","Zepto","Dom7"];for(var i$jscomp$0=0;i$jscomp$0<swiperDomPlugins.length;i$jscomp$0++)if(window[swiperDomPlugins[i$jscomp$0]])addLibraryPlugin(window[swiperDomPlugins[i$jscomp$0]]);if(typeof Dom7==="undefined")var domLib=window.Dom7||window.Zepto||window.jQuery;else domLib=Dom7;if(domLib){if(!("transitionEnd"in domLib.fn))domLib.fn.transitionEnd=function(callback){function fireCallBack(e){if(e.target!==this)return;callback.call(this,e);for(i=0;i<events.length;i++)dom.off(events[i],fireCallBack)}
var events=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];var i;var j;var dom=this;if(callback)for(i=0;i<events.length;i++)dom.on(events[i],fireCallBack);return this};if(!("transform"in domLib.fn))domLib.fn.transform=function(transform){for(var i=0;i<this.length;i++){var elStyle=this[i].style;elStyle.webkitTransform=elStyle.MsTransform=elStyle.msTransform=elStyle.MozTransform=elStyle.OTransform=elStyle.transform=transform}return this};if(!("transition"in
domLib.fn))domLib.fn.transition=function(duration){if(typeof duration!=="string")duration+="ms";for(var i=0;i<this.length;i++){var elStyle=this[i].style;elStyle.webkitTransitionDuration=elStyle.MsTransitionDuration=elStyle.msTransitionDuration=elStyle.MozTransitionDuration=elStyle.OTransitionDuration=elStyle.transitionDuration=duration}return this}}window.Swiper=Swiper})();if(typeof module!=="undefined")module.exports=window.Swiper;else if(typeof define==="function"&&define.amd)define([],function(){return window.Swiper});(function(module){if(typeof define==="function"&&define.amd)define(["jquery"],module);else module(jQuery)})(function(jQuery$jscomp$0,undefined$jscomp$0){function Timer(fn$jscomp$0){function trigger(time){if(active){callback();requestFrame(trigger);running=true;active=false}else running=false}var callback=fn$jscomp$0;var active=false;var running=false;this.kick=function(fn){active=true;if(!running)trigger()};this.end=function(fn){var cb=callback;if(!fn)return;if(!running)fn();else{callback=active?
function(){cb();fn()}:fn;active=true}}}function returnTrue(){return true}function returnFalse(){return false}function preventDefault(e){e.preventDefault()}function preventIgnoreTags(e){if(ignoreTags[e.target.tagName.toLowerCase()])return;e.preventDefault()}function isLeftButton(e){return e.which===1&&!e.ctrlKey&&!e.altKey}function identifiedTouch(touchList,id){var l;if(touchList.identifiedTouch)return touchList.identifiedTouch(id);var i=-1;for(l=touchList.length;++i<l;)if(touchList[i].identifier===
id)return touchList[i]}function changedTouch(e,event){var touch=identifiedTouch(e.changedTouches,event.identifier);if(!touch)return;if(touch.pageX===event.pageX&&touch.pageY===event.pageY)return;return touch}function mousedown(e){if(!isLeftButton(e))return;var data={target:e.target,startX:e.pageX,startY:e.pageY,timeStamp:e.timeStamp};add(document,mouseevents.move,mousemove,data);add(document,mouseevents.cancel,mouseend,data)}function mousemove(e){var data=e.data;checkThreshold(e,data,e,removeMouse)}
function mouseend(e){removeMouse()}function removeMouse(){remove(document,mouseevents.move,mousemove);remove(document,mouseevents.cancel,mouseend)}function touchstart(e){if(ignoreTags[e.target.tagName.toLowerCase()])return;var touch=e.changedTouches[0];var template={target:touch.target,startX:touch.pageX,startY:touch.pageY,timeStamp:e.timeStamp,identifier:touch.identifier};add(document,touchevents.move+"."+touch.identifier,touchmove,template);add(document,touchevents.cancel+"."+touch.identifier,touchend,
template)}function touchmove(e){var data=e.data;var touch=changedTouch(e,data);if(!touch)return;checkThreshold(e,data,touch,removeTouch)}function touchend(e){var template=e.data;var touch=identifiedTouch(e.changedTouches,template.identifier);if(!touch)return;removeTouch(template.identifier)}function removeTouch(identifier){remove(document,"."+identifier,touchmove);remove(document,"."+identifier,touchend)}function checkThreshold(e,template,touch,fn){var distX=touch.pageX-template.startX;var distY=
touch.pageY-template.startY;if(distX*distX+distY*distY<threshold*threshold)return;triggerStart(e,template,touch,distX,distY,fn)}function handled(){this._handled=returnTrue;return false}function flagAsHandled(e){e._handled()}function triggerStart(e,template,touch,distX,distY,fn){var node=template.target;var touches=e.targetTouches;var time=e.timeStamp-template.timeStamp;template.type="movestart";template.distX=distX;template.distY=distY;template.deltaX=distX;template.deltaY=distY;template.pageX=touch.pageX;
template.pageY=touch.pageY;template.velocityX=distX/time;template.velocityY=distY/time;template.targetTouches=touches;template.finger=touches?touches.length:1;template._handled=handled;template._preventTouchmoveDefault=function(){e.preventDefault()};trigger(template.target,template);fn(template.identifier)}function activeMousemove(e){var timer=e.data.timer;e.data.touch=e;e.data.timeStamp=e.timeStamp;timer.kick()}function activeMouseend(e){var event=e.data.event;var timer=e.data.timer;removeActiveMouse();
endEvent(event,timer,function(){setTimeout(function(){remove(event.target,"click",returnFalse)},0)})}function removeActiveMouse(event){remove(document,mouseevents.move,activeMousemove);remove(document,mouseevents.end,activeMouseend)}function activeTouchmove(e){var event=e.data.event;var timer=e.data.timer;var touch=changedTouch(e,event);if(!touch)return;e.preventDefault();event.targetTouches=e.targetTouches;e.data.touch=touch;e.data.timeStamp=e.timeStamp;timer.kick()}function activeTouchend(e){var event=
e.data.event;var timer=e.data.timer;var touch=identifiedTouch(e.changedTouches,event.identifier);if(!touch)return;removeActiveTouch(event);endEvent(event,timer)}function removeActiveTouch(event){remove(document,"."+event.identifier,activeTouchmove);remove(document,"."+event.identifier,activeTouchend)}function updateEvent(event,touch,timeStamp,timer){var time=timeStamp-event.timeStamp;event.type="move";event.distX=touch.pageX-event.startX;event.distY=touch.pageY-event.startY;event.deltaX=touch.pageX-
event.pageX;event.deltaY=touch.pageY-event.pageY;event.velocityX=.3*event.velocityX+.7*event.deltaX/time;event.velocityY=.3*event.velocityY+.7*event.deltaY/time;event.pageX=touch.pageX;event.pageY=touch.pageY}function endEvent(event,timer,fn){timer.end(function(){event.type="moveend";trigger(event.target,event);return fn&&fn()})}function setup(data,namespaces,eventHandle){add(this,"movestart.move",flagAsHandled);return true}function teardown(namespaces){remove(this,"dragstart drag",preventDefault);
remove(this,"mousedown touchstart",preventIgnoreTags);remove(this,"movestart",flagAsHandled);return true}function addMethod(handleObj){if(handleObj.namespace==="move"||handleObj.namespace==="moveend")return;add(this,"dragstart."+handleObj.guid+" drag."+handleObj.guid,preventDefault,undefined$jscomp$0,handleObj.selector);add(this,"mousedown."+handleObj.guid,preventIgnoreTags,undefined$jscomp$0,handleObj.selector)}function removeMethod(handleObj){if(handleObj.namespace==="move"||handleObj.namespace===
"moveend")return;remove(this,"dragstart."+handleObj.guid+" drag."+handleObj.guid);remove(this,"mousedown."+handleObj.guid)}var threshold=6;var add=jQuery$jscomp$0.event.add;var remove=jQuery$jscomp$0.event.remove;var trigger=function(node,type,data){jQuery$jscomp$0.event.trigger(type,data,node)};var requestFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(fn,
element){return window.setTimeout(function(){fn()},25)}}();var ignoreTags={textarea:true,input:true,select:true,button:true};var mouseevents={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"};var touchevents={move:"touchmove",cancel:"touchend",end:"touchend"};jQuery$jscomp$0.event.special.movestart={setup,teardown,add:addMethod,remove:removeMethod,_default:function(e){function update(time){updateEvent(event,data.touch,data.timeStamp);trigger(e.target,event)}if(!e._handled())return;var event=
{target:e.target,startX:e.startX,startY:e.startY,pageX:e.pageX,pageY:e.pageY,distX:e.distX,distY:e.distY,deltaX:e.deltaX,deltaY:e.deltaY,velocityX:e.velocityX,velocityY:e.velocityY,timeStamp:e.timeStamp,identifier:e.identifier,targetTouches:e.targetTouches,finger:e.finger};var data={event,timer:new Timer(update),touch:undefined$jscomp$0,timeStamp:undefined$jscomp$0};if(e.identifier===undefined$jscomp$0){add(e.target,"click",returnFalse);add(document,mouseevents.move,activeMousemove,data);add(document,
mouseevents.end,activeMouseend,data)}else{e._preventTouchmoveDefault();add(document,touchevents.move+"."+e.identifier,activeTouchmove,data);add(document,touchevents.end+"."+e.identifier,activeTouchend,data)}}};jQuery$jscomp$0.event.special.move={setup:function(){add(this,"movestart.move",jQuery$jscomp$0.noop)},teardown:function(){remove(this,"movestart.move",jQuery$jscomp$0.noop)}};jQuery$jscomp$0.event.special.moveend={setup:function(){add(this,"movestart.moveend",jQuery$jscomp$0.noop)},teardown:function(){remove(this,
"movestart.moveend",jQuery$jscomp$0.noop)}};add(document,"mousedown.move",mousedown);add(document,"touchstart.move",touchstart);if(typeof Array.prototype.indexOf==="function")(function(jQuery,undefined){var props=["changedTouches","targetTouches"];for(var l=props.length;l--;)if(jQuery.event.props.indexOf(props[l])===-1)jQuery.event.props.push(props[l])})(jQuery$jscomp$0)});(function($){$.fn.twentytwenty=function(options){options=$.extend({default_offset_pct:.5,orientation:"horizontal"},options);return this.each(function(){var sliderPct=options.default_offset_pct;var container=$(this);var sliderOrientation=options.orientation;var beforeDirection=sliderOrientation==="vertical"?"down":"left";var afterDirection=sliderOrientation==="vertical"?"up":"right";container.wrap("\x3cdiv class\x3d'twentytwenty-wrapper twentytwenty-"+sliderOrientation+"'\x3e\x3c/div\x3e");container.append("\x3cdiv class\x3d'twentytwenty-overlay'\x3e\x3c/div\x3e");
var beforeImg=container.find("img:first");var afterImg=container.find("img:last");container.append("\x3cdiv class\x3d'twentytwenty-handle'\x3e\x3c/div\x3e");var slider=container.find(".twentytwenty-handle");slider.append("\x3cspan class\x3d'twentytwenty-"+beforeDirection+"-arrow'\x3e\x3c/span\x3e");slider.append("\x3cspan class\x3d'twentytwenty-"+afterDirection+"-arrow'\x3e\x3c/span\x3e");container.addClass("twentytwenty-container");beforeImg.addClass("twentytwenty-before");afterImg.addClass("twentytwenty-after");
var overlay=container.find(".twentytwenty-overlay");overlay.append("\x3cdiv class\x3d'twentytwenty-before-label'\x3e\x3c/div\x3e");overlay.append("\x3cdiv class\x3d'twentytwenty-after-label'\x3e\x3c/div\x3e");var calcOffset=function(dimensionPct){var w=beforeImg.width();var h=beforeImg.height();return{w:w+"px",h:h+"px",cw:dimensionPct*w+"px",ch:dimensionPct*h+"px"}};var adjustContainer=function(offset){if(sliderOrientation==="vertical")beforeImg.css("clip","rect(0,"+offset.w+","+offset.ch+",0)");
else beforeImg.css("clip","rect(0,"+offset.cw+","+offset.h+",0)");container.css("height",offset.h)};var adjustSlider=function(pct){var offset=calcOffset(pct);slider.css(sliderOrientation==="vertical"?"top":"left",sliderOrientation==="vertical"?offset.ch:offset.cw);adjustContainer(offset)};$(window).on("resize.twentytwenty",function(e){adjustSlider(sliderPct)});var offsetX=0;var offsetY=0;var imgWidth=0;var imgHeight=0;slider.on("movestart",function(e){if((e.distX>e.distY&&e.distX<-e.distY||e.distX<
e.distY&&e.distX>-e.distY)&&sliderOrientation!=="vertical")e.preventDefault();else if((e.distX<e.distY&&e.distX<-e.distY||e.distX>e.distY&&e.distX>-e.distY)&&sliderOrientation==="vertical")e.preventDefault();container.addClass("active");offsetX=container.offset().left;offsetY=container.offset().top;imgWidth=beforeImg.width();imgHeight=beforeImg.height()});slider.on("moveend",function(e){container.removeClass("active")});slider.on("move",function(e){if(container.hasClass("active")){sliderPct=sliderOrientation===
"vertical"?(e.pageY-offsetY)/imgHeight:(e.pageX-offsetX)/imgWidth;if(sliderPct<0)sliderPct=0;if(sliderPct>1)sliderPct=1;adjustSlider(sliderPct)}});container.find("img").on("mousedown",function(event){event.preventDefault()});$(window).trigger("resize.twentytwenty")})}})(jQuery);(function($,NPS){function render(){var address=document.createElement("address");var lines=document.createElement("span");var line1Element=document.createElement("span");var line2Element=document.createElement("span");var line3Element=document.createElement("span");var line1=String(this.line_1);var POBoxRegex=new RegExp("^P.?O.? Box (.*)$","i");if(POBoxRegex.test(line1)){var POBoxNumber=document.createElement("span");POBoxNumber.setAttribute("itemprop","postOfficeBoxNumber");var POBoxNumberValue=
POBoxRegex.exec(line1);POBoxNumber.textContent=POBoxNumberValue[1];line1Element.appendChild(document.createTextNode("P.O. Box "));line1Element.appendChild(POBoxNumber);lines.appendChild(line1Element);if(this.line_2!==undefined&&this.line_2!==""){line2Element.textContent=this.line_2;lines.appendChild(line2Element)}if(this.line_3!==undefined&&this.line_3!==""){line3Element.textContent=this.line_3;lines.appendChild(line3Element)}}else{var combinedLines=[this.line_1,this.line_2,this.line_3].filter(l=>
l!==undefined&&l.trim()!=="").join(", ");if(combinedLines.length>0){lines.setAttribute("itemprop","streetAddress");lines.setAttribute("content",combinedLines)}if(this.line_1!==undefined&&this.line_1!==""){line1Element.textContent=line1;lines.appendChild(line1Element)}if(this.line_2!==undefined&&this.line_2!==""){line2Element.textContent=this.line_2;lines.appendChild(document.createElement("br"));lines.appendChild(line2Element)}if(this.line_3!==undefined&&this.line_3!==""){line3Element.textContent=
this.line_3;lines.appendChild(document.createElement("br"));lines.appendChild(line3Element)}}address.appendChild(lines);if(this.city!==undefined&&this.city!==""){var cityElement=document.createElement("span");cityElement.setAttribute("itemprop","addressLocality");cityElement.textContent=this.city;address.appendChild(document.createElement("br"));address.appendChild(cityElement)}if(this.state_code!==undefined&&this.state_code!==""){var stateElement=document.createElement("span");stateElement.setAttribute("itemprop",
"addressRegion");stateElement.textContent=this.state_code;if(this.city!==undefined&&this.city!=="")address.appendChild(document.createTextNode(", "));address.appendChild(stateElement)}if(this.postal_code!==undefined&&this.postal_code!==""){var zipElement=document.createElement("span");zipElement.setAttribute("itemprop","postalCode");zipElement.textContent=this.postal_code;if(this.city!==undefined&&this.city!==""||this.state_code!==undefined&&this.state_code!=="")address.appendChild(document.createTextNode(" "));
address.appendChild(zipElement)}return address}NPS.Address=function(address){if(typeof address!=="object")throw new Error("Invalid argument, this must be an object");this.line_1=address.line_1;this.line_2=address.line_2;this.line_3=address.line_3;this.city=address.city;this.state_code=address.state_code;this.postal_code=address.postal_code;this.render=render.bind(this)}})(jQuery,NPS);(function($,Swiper){function numberOfVisibleSlides(swiper){var containerWidth=swiper.wrapper.width();if(containerWidth>640)return 4;if(containerWidth>480)return 3;return 2}function initSwiper(carousel){var swiper_id=carousel.getAttribute("data-swiper-id");var swiper=new Swiper(carousel,{a11y:true,nextButton:".swiper-button-next",prevButton:".swiper-button-prev",slidesPerView:4,paginationClickable:true,spaceBetween:10,breakpoints:{480:{slidesPerView:2},640:{slidesPerView:3}}});$.each(swiper.slides,
function(i,slide){var lightboxID="#swiper_image_"+swiper_id+"_"+i;slide=$(slide);slide.featherlight(lightboxID,{afterOpen:function(event){this._previouslyActive=slide[0];$(".featherlight-close-icon").focus()}});slide.on("keypress",function(event){if(event.which==13)slide.trigger("click")})});return swiper}$(document).ready(function(){function init(element){if(element.querySelectorAll(".swiper-slide")){var swiper_id=element.getAttribute("data-swiper-id");swiperInstances[swiper_id]=initSwiper(element)}}
var swiperInstances={};$(document).on("keydown",function(event){var isTab=(event.keyCode||event.which)==9;if(!isTab)return;var isCarouselGallerySlide=$(document.activeElement).hasClass(".swiper-slide")&&$(document.activeElement).parents(".CarouselGallery").length>0&&$(document.activeElement).parents(".VisitorCenter").length>0;if(!isCarouselGallerySlide)return;var container=$(document.activeElement).parent().parent();var slides=$(".swiper-slide",container);var swiper=swiperInstances[container.data("swiper-id")];
var index=slides.index(document.activeElement);if(index>=0){var exitingStart=index===0&&event.shiftKey;var exitingEnd=index===slides.length-1&&!event.shiftKey;if(exitingStart||exitingEnd)return;var firstVisible=$(".swiper-slide-active");var nextSlide=event.shiftKey?slides.eq(index-1):slides.eq(index+1);var nextSlideIsNotVisible=nextSlide.index()<firstVisible.index()||nextSlide.index()>=firstVisible.index()+numberOfVisibleSlides();if(nextSlideIsNotVisible){event.preventDefault();swiper.once("onSlideChangeEnd",
function(){nextSlide.focus()});if(event.shiftKey)swiper.slidePrev();else swiper.slideNext();return false}}});var carouselElements=document.querySelectorAll(".CarouselGallery");carouselElements.forEach(init);NPS.initCarouselGallery=init})})(jQuery,Swiper,NPS);(function(NPS){function checkExceptionStatus(schedule,scheduleDate=""){var exceptionStatus=new Object;exceptionStatus.isOpen=1;exceptionStatus.match=0;exceptionStatus.timeRange="";var today=(new Date).clearTime();if(scheduleDate!="")today=scheduleDate.clearTime();var currentDay=today.getDay();var currentYear=today.getFullYear();var currentMonth=today.getMonth();var exceptions=schedule.exceptions;exceptions.each(function(exception){if(exception.holiday_start.length)exception.date_start=getDateForHoliday(exception.holiday_start);
if(exception.holiday_end.length)exception.date_end=getDateForHoliday(exception.holiday_end);if(exception.date_end=="")exception.date_end=exception.date_start;if(exception.date_start.length>0&&exception.date_end.length>0){var dayStart=exception.date_start.split(" ")[1];var monthStart=exception.date_start.split(" ")[0];var dayEnd=exception.date_end.split(" ")[1];var monthEnd=exception.date_end.split(" ")[0];var dateStart=new Date(currentYear,monthNames.indexOf(monthStart),parseInt(dayStart));var dateEnd=
new Date(currentYear,monthNames.indexOf(monthEnd),parseInt(dayEnd));if(monthNames.indexOf(monthStart)>monthNames.indexOf(monthEnd))if(currentMonth>=monthNames.indexOf(monthStart))dateEnd=new Date(currentYear+1,monthNames.indexOf(monthEnd),dayEnd);else dateStart=new Date(currentYear-1,monthNames.indexOf(monthStart),dayStart);var todayStatus=new Object;todayStatus.is_closed=exception.schedule[currentDay].is_closed;todayStatus.time_open=exception.schedule[currentDay].time_open;todayStatus.time_close=
exception.schedule[currentDay].time_close;todayStatus.sunrise_open=exception.schedule[currentDay].sunrise_open;todayStatus.sunrise_close=exception.schedule[currentDay].sunrise_close;if(Date.compare(dateStart,dateEnd)==0){if(Date.compare(today,dateStart)==0){exceptionStatus.match=1;if(todayStatus.sunrise_open)todayStatus.time_open="Sunrise";if(todayStatus.sunset_close)todayStatus.time_close="Sunset";if(todayStatus.is_closed)exceptionStatus.isOpen=0;if(todayStatus.time_open!==""&&todayStatus.time_close!==
"")exceptionStatus.timeRange=todayStatus.time_open+" - "+todayStatus.time_close;else exceptionStatus.timeRange="All day"}}else if(today.between(dateStart,dateEnd)){exceptionStatus.match=1;if(todayStatus.sunrise_open)todayStatus.time_open="Sunrise";if(todayStatus.sunset_close)todayStatus.time_close="Sunset";if(todayStatus.is_closed||!todayStatus.time_open.length)exceptionStatus.isOpen=0;if(todayStatus.time_open!==""&&todayStatus.time_close!=="")exceptionStatus.timeRange=todayStatus.time_open+" - "+
todayStatus.time_close;else exceptionStatus.timeRange="All day"}}});return exceptionStatus}function getActiveExceptions(exceptions,scheduleDate=""){var active=[];var today=(new Date).clearTime();if(scheduleDate!="")today=scheduleDate.clearTime();var currentDay=today.getDay();var currentYear=today.getFullYear();var currentMonth=today.getMonth();exceptions.forEach(function(exception){if(exception.holiday_start.length)exception.date_start=getDateForHoliday(exception.holiday_start);if(exception.holiday_end.length)exception.date_end=
getDateForHoliday(exception.holiday_end);if(exception.date_end=="")exception.date_end=exception.date_start;if(exception.date_start.length>0&&exception.date_end.length>0){var dayStart=exception.date_start.split(" ")[1];var monthStart=exception.date_start.split(" ")[0];var dayEnd=exception.date_end.split(" ")[1];var monthEnd=exception.date_end.split(" ")[0];var dateStart=new Date(currentYear,monthNames.indexOf(monthStart),parseInt(dayStart));var dateEnd=new Date(currentYear,monthNames.indexOf(monthEnd),
parseInt(dayEnd));if(monthNames.indexOf(monthStart)>monthNames.indexOf(monthEnd))if(currentMonth>=monthNames.indexOf(monthStart))dateEnd=new Date(currentYear+1,monthNames.indexOf(monthEnd),dayEnd);else dateStart=new Date(currentYear-1,monthNames.indexOf(monthStart),dayStart);if(Date.compare(dateStart,dateEnd)==0){if(Date.compare(today,dateStart)==0)active.push(exception)}else if(today.between(dateStart,dateEnd))active.push(exception)}});return active}function dateDiff(startDate,endDate){return Math.round((endDate-
startDate)/(1E3*60*60*24))}function exceptionElement(exception){var today=(new Date).clearTime();var currentYear=today.getFullYear();var currentMonth=today.getMonth();var exceptionDayStart=exception.date_start.split(" ")[1];var exceptionMonthStart=exception.date_start.split(" ")[0];var exceptionDayEnd=exception.date_end.split(" ")[1];var exceptionMonthEnd=exception.date_end.split(" ")[0];if(exception.holiday_start.length>0)exception.date_start=getDateForHoliday(exception.holiday_start);if(exception.holiday_end.length>
0)exception.date_end=getDateForHoliday(exception.holiday_end);var exceptionDateStart=new Date(currentYear,monthNames.indexOf(exceptionMonthStart),parseInt(exceptionDayStart));var exceptionDateEnd=new Date(currentYear,monthNames.indexOf(exceptionMonthEnd),parseInt(exceptionDayEnd));if(monthNames.indexOf(exceptionMonthStart)>monthNames.indexOf(exceptionMonthEnd))if(currentMonth>=monthNames.indexOf(exceptionMonthStart))exceptionDateEnd=new Date(currentYear+1,monthNames.indexOf(exceptionMonthEnd),exceptionDayEnd);
else exceptionDateStart=new Date(currentYear-1,monthNames.indexOf(exceptionMonthStart),exceptionDayStart);var scheduleDayStart=0;var scheduleDayEnd=6;if(dateDiff(exceptionDateStart,exceptionDateEnd)<7){scheduleDayStart=exceptionDateStart.getDay();scheduleDayEnd=exceptionDateEnd.getDay();if(scheduleDayStart>scheduleDayEnd)scheduleDayEnd+=7}var exceptionContainer=document.createElement("div");exceptionContainer.setAttribute("class","OperatingHours__Exception");exceptionContainer.setAttribute("id","osException"+
exception.operatingScheduleExceptionID);var exceptionTitle=document.createElement("p");exceptionTitle.setAttribute("class","OperatingHours__Exception__Title");exceptionTitle.textContent=exception.name;exceptionContainer.appendChild(exceptionTitle);var exceptionRange=document.createElement("p");exceptionRange.setAttribute("class","OperatingHours__Exception__DateRange");if(exception.holiday_start==0&&exception.holiday_end==0)if(exception.date_start==exception.date_end)exceptionRange.textContent=exception.date_start;
else exceptionRange.textContent=exception.date_start+" - "+exception.date_end;else if(exception.holiday_start==0&&exception.holiday_end.length>1)exceptionRange.textContent=exception.date_start+" - "+exception.holiday_end;else if(exception.holiday_start.length>1&&exception.holiday_end==0)exceptionRange.textContent=exception.holiday_start+" - "+exception.date_end;else if(exception.holiday_start==exception.holiday_end)exceptionRange.textContent=exception.holiday_start;else exceptionRange.textContent=
exception.holiday_start+" - "+exception.holiday_end;exceptionContainer.appendChild(exceptionRange);if(exception.description!==undefined&&exception.description.length>0){var exceptionDescription=document.createElement("p");exceptionDescription.setAttribute("class","OperatingHours__Exception__Description");exceptionDescription.textContent=exception.description;exceptionContainer.appendChild(exceptionDescription)}if(Array.isArray(exception.schedule)){var hoursTableElement=document.createElement("div");
exceptionContainer.appendChild(hoursTable(exception.schedule))}return exceptionContainer}function getTodayStatus(schedule,scheduleDate=""){var currentDay=(new Date).getDay();var status={};status.openClose="";status.timeRange="";if(scheduleDate!="")currentDay=scheduleDate.getDay();if(!Array.isArray(schedule.hours)){status.openClose="Closed";return status}if(schedule.hours[currentDay].is_closed==1)if(schedule.exceptions!==undefined){var exceptionStatus=checkExceptionStatus(schedule,scheduleDate);if(exceptionStatus.match==
1&&exceptionStatus.isOpen==1){status.openClose="Open";status.timeRange=exceptionStatus.timeRange}else status.openClose="Closed"}else status.openClose="Closed";else if(schedule.hours[currentDay].sunrise_open==1||schedule.hours[currentDay].time_open.length){var currentDayTime=new Date;if(scheduleDate!="")currentDayTime=scheduleDate;var timeStart=new Date;var timeEnd=new Date;var sunriseOpen=schedule.hours[currentDay].sunrise_open;var sunsetClose=schedule.hours[currentDay].sunset_close;if(sunsetClose==
1)schedule.hours[currentDay].time_close="9:00 PM";var timeStartHour=schedule.hours[currentDay].time_open.split(" ")[0].split(":")[0];var timeEndHour=schedule.hours[currentDay].time_close.split(" ")[0].split(":")[0];var timeStartAMPM=schedule.hours[currentDay].time_open.split(" ")[1];var timeEndAMPM=schedule.hours[currentDay].time_close.split(" ")[1];var allDay=schedule.hours[currentDay].time_open=="12:00 AM"&&schedule.hours[currentDay].time_close=="11:59 PM";if(timeStartAMPM=="PM"&&parseInt(timeStartHour)!=
12)timeStartHour=parseInt(timeStartHour)+12;if(timeStartAMPM=="AM"&&parseInt(timeStartHour)==12)timeStartHour=0;if(timeEndAMPM=="PM"&&parseInt(timeStartHour)!=12)timeEndHour=parseInt(timeEndHour)+12;if(timeEndAMPM=="AM"&&parseInt(timeEndHour)==12)timeEndHour=0;var time_open=schedule.hours[currentDay].time_open;var time_close=schedule.hours[currentDay].time_close;if(schedule.exceptions!==undefined){exceptionStatus=checkExceptionStatus(schedule,currentDayTime);if(exceptionStatus.match==1&&exceptionStatus.isOpen==
1){status.openClose="Open";status.timeRange=exceptionStatus.timeRange}else if(schedule.hours[currentDay].time_close==0||exceptionStatus.isOpen==0)status.openClose="Closed";else{if(sunriseOpen)time_open="Sunrise";if(sunsetClose)time_close="Sunset";status.openClose="Open";if(allDay)status.timeRange="Open 24 hours";else status.timeRange=time_open+" - "+time_close}}else{status.openClose="Open";if(sunriseOpen)time_open="Sunrise";if(sunsetClose)time_close="Sunset";if(allDay)status.timeRange="Open 24 hours";
else status.timeRange=time_open+" - "+time_close}}return status}function hoursTable(schedule){var element=document.createElement("ul");element.setAttribute("class","HoursTable");schedule.forEach(function(h){var dayContainer=document.createElement("li");var dayElement=document.createElement("span");dayElement.setAttribute("class","HoursTable__Day");dayElement.textContent=dayOfWeek[h.dayOfWeek-1];dayContainer.appendChild(dayElement);var timeElement=document.createElement("span");timeElement.setAttribute("class",
"HoursTable__Time");var allDay=h.time_open=="12:00 AM"&&h.time_close=="11:59 PM"?1:0;if(h.is_closed==1){timeElement.setAttribute("class","HoursTable__Time Closed");timeElement.textContent="Closed"}else if(allDay)timeElement.textContent="Open 24 hours";else{var openTimeText=h.sunrise_open==1?"Sunrise":h.time_open;var closeTimeText=h.sunset_close==1?"Sunset":h.time_close;timeElement.textContent=openTimeText+" - "+closeTimeText}dayContainer.appendChild(timeElement);element.appendChild(dayContainer)});
return element}function renderHolidaySchedule(schedule){var holidays=["New Year's Day","Martin Luther King Jr. Day","Washington's Birthday","Memorial Day","Juneteenth National Independence Day","Independence Day","Labor Day","Columbus Day","Veterans Day","Thanksgiving","Christmas Day"];var today=(new Date).clearTime();var current_year=today.getFullYear();var holidayContainer=document.createElement("div");holidayContainer.setAttribute("class","OperatingHours__Exception OperatingHours__Exception--Holidays");
var title=document.createElement("p");title.setAttribute("class","OperatingHours__Exception__Title");title.textContent="Holidays";holidayContainer.appendChild(title);var rangeDates=document.createElement("p");rangeDates.setAttribute("class","OperatingHours__Exception__DateRange");rangeDates.textContent=current_year;holidayContainer.appendChild(rangeDates);var tableContainer=document.createElement("div");tableContainer.setAttribute("class","HolidayHoursTable");var tableElement=document.createElement("table");
tableElement.setAttribute("cellspacing","0");tableElement.setAttribute("cellpadding","3");tableElement.setAttribute("width","100%");var thead=document.createElement("thead");var theadRow=document.createElement("tr");theadRow.setAttribute("class","tablerowgray");var th1=document.createElement("th");th1.textContent="Holiday";theadRow.appendChild(th1);var th2=document.createElement("th");th2.textContent="Date";theadRow.appendChild(th2);var th3=document.createElement("th");th3.textContent="Hours";theadRow.appendChild(th3);
thead.appendChild(theadRow);var tbody=document.createElement("tbody");holidays.forEach(function(h){var holiday_date=getDateForHoliday(h.replace("'",""));var holiday_day=holiday_date.split(" ")[1];var holiday_month=holiday_date.split(" ")[0];var actual_day=new Date(current_year,monthNames.indexOf(holiday_month),parseInt(holiday_day));if(actual_day<today)actual_day=new Date(current_year+1,monthNames.indexOf(holiday_month),parseInt(holiday_day));var holiday_status=getTodayStatus(schedule,actual_day);
var tr=document.createElement("tr");var nameTd=document.createElement("th");nameTd.setAttribute("class","Holiday_Name");nameTd.setAttribute("scope","row");nameTd.textContent=h;tr.appendChild(nameTd);var valueTd=document.createElement("td");valueTd.setAttribute("class","Holiday_Date");valueTd.textContent=holiday_date;tr.appendChild(valueTd);var statusTd=document.createElement("td");if(holiday_status.openClose=="Open"){statusTd.setAttribute("class","Holiday_Status Holiday_Status--open");statusTd.textContent=
holiday_status.timeRange}else{statusTd.setAttribute("class","Holiday_Status Holiday_Status--closed");statusTd.setAttribute("style","font-weight: bold");statusTd.textContent="Closed"}tr.appendChild(statusTd);tbody.appendChild(tr)});tableElement.appendChild(tbody);tableElement.appendChild(thead);tableContainer.appendChild(tableElement);holidayContainer.appendChild(tableContainer);return holidayContainer}function render(os,container){var todayStatus=getTodayStatus(os);var description=container.querySelector(".OperatingHours__Description");
if(description&&os.description){var descriptionText=document.createElement("p");descriptionText.textContent=os.description;description.appendChild(descriptionText)}else if(description)description.remove();var today=container.querySelector(".OperatingHours__Today");if(today){var openOrClosed=today.querySelector(".OperatingHours__Today__Status");if(openOrClosed){openOrClosed.setAttribute("class","OperatingHours__Today__Status "+todayStatus.openClose);openOrClosed.setAttribute("id","openClosed_"+os.operatingScheduleID);
openOrClosed.textContent=todayStatus.openClose+" today"}if(todayStatus.openClose==="Open"){var openRange=document.createElement("span");openRange.setAttribute("class","OperatingHours__Today__TimeRange");openRange.setAttribute("id","openRange_"+os.operatingScheduleID);openRange.textContent=todayStatus.timeRange;today.appendChild(document.createTextNode(": "));today.appendChild(openRange)}}var currentWeeklyContainer=container.querySelector(".OperatingHours__Weekly");if(currentWeeklyContainer)currentWeeklyContainer.appendChild(hoursTable(os.hours));
var activeExceptionContainer=container.querySelector(".OperatingHours__ActiveExceptions");var exceptionHoursContainer=container.querySelector(".OperatingHours__Exceptions");var exceptionElements=[renderHolidaySchedule(os)];if(Array.isArray(os.exceptions)){exceptionElements=exceptionElements.concat(os.exceptions.filter(function(exception){return(exception.date_start.length>0||exception.holiday_start.length>0)&&(exception.date_end.length>0||exception.holiday_end.length>0)&&!(exception.holiday_start.length>
0&&exception.holiday_start==exception.holiday_end)}).map(exceptionElement));var activeExceptions=getActiveExceptions(os.exceptions);activeExceptions.forEach(function(exception){var activeException=document.createElement("p");activeException.setAttribute("class","OperatingHours__ExceptionAlert");var activeExceptionHeading=document.createElement("span");activeExceptionHeading.setAttribute("class","OperatingHours__ExceptionAlert__Heading");activeExceptionHeading.textContent="Active Exception";activeException.appendChild(activeExceptionHeading);
var activeExceptionName=document.createElement("span");activeExceptionName.setAttribute("class","OperatingHours__ExceptionAlert__Name");var activeExceptionLink=document.createElement("a");activeExceptionLink.setAttribute("href","#osException"+exception.operatingScheduleExceptionID);activeExceptionLink.textContent=exception.name;activeExceptionName.appendChild(activeExceptionLink);activeException.appendChild(activeExceptionName);var activeExceptionDates=document.createElement("span");activeExceptionDates.setAttribute("class",
"OperatingHours__ExceptionAlert__DateRange");activeExceptionDates.textContent=exception.holiday_start?exception.holiday_start+" - "+exception.holiday_end:exception.date_start+" - "+exception.date_end;activeException.appendChild(activeExceptionDates);activeExceptionContainer.appendChild(activeException)})}var exceptionElementsA=exceptionElements.filter(function(e,i){return i%2===0});var exceptionElementsB=exceptionElements.filter(function(e,i){return i%2!==0});exceptionElementsA.forEach(function(exceptionElement,
i){var row=document.createElement("div");row.setAttribute("class","row");var colA=document.createElement("div");colA.setAttribute("class","col-sm-6");var panelA=document.createElement("div");panelA.setAttribute("class","panel panel-default");var panelBodyA=document.createElement("div");panelBodyA.setAttribute("class","panel-body");panelBodyA.appendChild(exceptionElement);panelA.appendChild(panelBodyA);colA.appendChild(panelA);row.appendChild(colA);if(exceptionElementsB[i]){var colB=document.createElement("div");
colB.setAttribute("class","col-sm-6");var panelB=document.createElement("div");panelB.setAttribute("class","panel panel-default");var panelBodyB=document.createElement("div");panelBodyB.setAttribute("class","panel-body");panelBodyB.appendChild(exceptionElementsB[i]);panelB.appendChild(panelBodyB);colB.appendChild(panelB);row.appendChild(colB)}exceptionHoursContainer.appendChild(row)});return container}var dayOfWeek=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var monthNames=
["January","February","March","April","May","June","July","August","September","October","November","December"];var template='\x3cdiv class\x3d"OperatingHours"\x3e\x3cdiv class\x3d"OperatingHours__Weekly"\x3e\x3cp class\x3d"OperatingHours__Today"\x3e\x3cspan class\x3d"OperatingHours__Today__Status"\x3e\x3c/span\x3e\x3c/p\x3e\x3cdiv class\x3d"OperatingHours__ActiveExceptions"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"OperatingHours__Description"\x3e\x3cp class\x3d"OperatingHours__Heading"\x3eDescription\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"OperatingHours__Exceptions"\x3e\x3cp class\x3d"OperatingHours__Heading"\x3eClosures \x26amp; Seasonal Exceptions\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e';
NPS.OperatingHours=function(os){this.os=os;this.render=function(element){if(!element){var placeholder=document.createElement("div");placeholder.innerHTML=template;element=placeholder.firstElementChild}return render(this.os,element)};this.getStatus=function(){var todayStatus=getTodayStatus(this.os);return todayStatus.openClose}}})(NPS);(function($){$(document).on("ready",function(){$(".panel-collapse").on("shown.bs.collapse",function(e){if($(this).data("noscroll")!=1){var panel=$(this).closest(".panel");$("html,body").animate({scrollTop:panel.offset().top},500)}$(this).data("noscroll",0)})})})(jQuery);(function(NPS,$){function alertIsActive(a){var today=new Date;if(typeof a.FIC_start_date=="undefined")return a;if(a.FIC_start_date.length){var start_date=new Date(a.FIC_start_date.replace(" ","T"));start_date.setHours(0);start_date.setMinutes(0)}if(a.FIC_end_date.length){var end_date=new Date(a.FIC_end_date.replace(" ","T"));end_date.setHours(23);end_date.setMinutes(59)}if(a.FIC_start_date.length&&a.FIC_end_date.length)if(start_date<=today&&end_date>=today)return a;if(a.FIC_start_date.length&&a.FIC_end_date.length==
0)if(start_date<=today)return a;if(a.FIC_start_date.length==0&&a.FIC_end_date.length)if(end_date>=today)return a;if(a.FIC_start_date.length==0&&a.FIC_end_date.length==0)return a}function renderAlert(type,v,index){var closureIcon='\x3csvg aria-hidden\x3d"true" class\x3d"icon" title\x3d"'+NPS.utility.getTranslation("Alert Level Park Closure")+'" role\x3d"img"\x3e';closureIcon+='\x3cuse xlink:href\x3d"/common/commonspot/templates/assets/sprite.symbol.svg#alert-closure"\x3e\x3c/use\x3e';closureIcon+=
"\x3c/svg\x3e";var dangerIcon='\x3csvg aria-hidden\x3d"true" class\x3d"icon" title\x3d"'+NPS.utility.getTranslation("Alert Level danger")+'" role\x3d"img"\x3e';dangerIcon+='\x3cuse xlink:href\x3d"/common/commonspot/templates/assets/sprite.symbol.svg#alert-danger"\x3e\x3c/use\x3e';dangerIcon+="\x3c/svg\x3e";var listItem=document.createElement("li");listItem.setAttribute("class","Alert-item Alert-"+type);listItem.innerHTML=type==="closure"?closureIcon:dangerIcon;var itemContent=document.createElement("div");
itemContent.setAttribute("class","Alert-itemContent");var heading=document.createElement("h4");heading.setAttribute("class","Alert-title");heading.innerHTML=decodeURIComponentSafe(v.FIC_title);itemContent.appendChild(heading);if(v.FIC_start_date.length){var start_date=new Date(v.FIC_start_date.replace(" ","T"));var formatted_date=start_date.getMonth()+1+"/"+start_date.getDate()+"/"+start_date.getFullYear();itemContent.appendChild(document.createTextNode("Date Posted: "+formatted_date))}var anchor=
document.createElement("a");anchor.setAttribute("class","AlertsNotification__ScreenReaderAnchor sr-only");anchor.setAttribute("tabindex",0);anchor.innerHTML="Alert "+(index+1)+", Severity "+type+", "+decodeURIComponentSafe(v.FIC_title);itemContent.appendChild(anchor);var body=document.createElement("div");body.innerHTML=decodeURIComponentSafe(v.FIC_description);if(v.FIC_internal_link.length>0||v.FIC_linkURL.length>0){var moreLink=document.createElement("a");moreLink.setAttribute("class","carrot-end");
moreLink.setAttribute("title",decodeURIComponentSafe(v.FIC_title));moreLink.textContent=NPS.utility.getTranslation("more");moreLink.setAttribute("href",decodeURIComponentSafe(v.FIC_internal_link.length>0?v.FIC_internal_link:v.FIC_linkURL));body.appendChild(document.createElement("br"));body.appendChild(moreLink)}itemContent.appendChild(body);listItem.appendChild(itemContent);return listItem}function renderAlertListHeader(type,text){var closureSeverityHeader=document.createElement("h3");closureSeverityHeader.setAttribute("class",
"AlertsNotification__SeverityHeader AlertsNotification__SeverityHeader--"+type);closureSeverityHeader.textContent=NPS.utility.getTranslation(text);return closureSeverityHeader}function renderAlerts(closureAlerts,dangerAlerts){var body=document.getElementById("AlertsNotificationBody");if(closureAlerts.length>0){var closureAlertList=document.createElement("ul");closureAlerts.forEach(function(a,i){closureAlertList.appendChild(renderAlert("closure",a,i))});body.appendChild(renderAlertListHeader("closure",
"Park Closures"));body.appendChild(closureAlertList)}if(dangerAlerts.length>0){var dangerAlertList=document.createElement("ul");dangerAlerts.forEach(function(a,i){dangerAlertList.appendChild(renderAlert("danger",a,i))});body.appendChild(renderAlertListHeader("danger","Danger"));body.appendChild(dangerAlertList)}var moreLink=document.querySelector(".AlertsNotification__MoreLinkContainer");if(moreLink)body.appendChild(moreLink)}function renderAlertsBadge(count){var alertsBadge=document.querySelector(".UtilityNav__Alerts .UtilityNav-badge");
if(alertsBadge){alertsBadge.textContent=count;$(alertsBadge).show()}}function renderMoreLink(count){var moreLink=document.getElementById("AlertsNotificationMoreLink");if(moreLink)moreLink.textContent=count>0?count+" "+NPS.utility.getTranslation("more non-emergency alert notifications")+"...":NPS.utility.getTranslation("more information on current conditions...")}function getActiveAlerts(responseData){if(!("CEDATA"in responseData&&responseData.CEDATA.length>0))return[];return responseData.CEDATA.filter(alertIsActive)}
function hasBeenDismissed(siteCode){var ca=document.cookie.split(";");var dismissed=false;for(var ci=0;ci<ca.length;ci++){for(var c=ca[ci];c.charAt(0)==" ";)c=c.substring(1);if(c.indexOf("alertDismiss"+siteCode+"\x3d")!=-1)dismissed=true}return dismissed}$(document).ready(function(){var container=document.getElementById("AlertsNotification");if(!container)return;if(document.getElementById("Alerts"))return container.remove();var siteCode=container.getAttribute("data-site-code");if(hasBeenDismissed(siteCode))return container.remove();
var statusMessage=container.querySelector(".AlertsNotification__Status");var siteCodeSlug=siteCode.replace("/","-");var jsonSrc="/"+siteCode+"/nps-alerts-"+siteCodeSlug+".json";var dt=(new Date).getTime();$.getJSON(jsonSrc+"?dt\x3d"+dt,function(responseData){var activeAlerts=getActiveAlerts(responseData);if(activeAlerts.length>0)renderAlertsBadge(activeAlerts.length);var closureAlerts=activeAlerts.filter(function(a){return a.FIC_category==="Park Closure"});var dangerAlerts=activeAlerts.filter(function(a){return a.FIC_category===
"Danger"});var count=closureAlerts.length+dangerAlerts.length;if(count>0){statusMessage.textContent=count+" alert notifications";renderAlerts(closureAlerts,dangerAlerts);renderMoreLink(activeAlerts.length-count);var collapsibleContent=container.querySelector(".collapse");$(collapsibleContent).collapse({toggle:true});$(".AlertsNotification__DismissButton").on("click",function(){$(collapsibleContent).collapse("hide");document.cookie="alertDismiss"+siteCode+"\x3d1; path\x3d/"});$(collapsibleContent).on("hidden.bs.collapse",
function(){container.remove()});if(document.location.hash===""){var firstAlertAnchor=$(".AlertsNotification__ScreenReaderAnchor").first();$(collapsibleContent).on("shown.bs.collapse",function(){firstAlertAnchor.focus()})}}else container.remove();if(count>0||document.getElementById("Alerts")!==null)$(".UtilityNav__Alerts").addClass("active")})})})(NPS,jQuery);var selected=document.querySelectorAll(".ArticleSubnav-selectForm-select option");for(var i=0;i<selected.length;i++){var element=selected[i];var optionContent=element.textContent;if(element.hasAttribute("selected"))element.textContent="Reading: "+optionContent};$(".js-backtotop").each(function(){var $this=$(this);$this.each(function(){$(this).smoothScroll({afterScroll:function(){var targetID=$(this).attr("href");var $target=$(targetID);$target.focus()}})})});(function($,NPS){function amenitiesList(values,water){var amenities=[{label:"Cell Phone Reception",value:values.indexOf("Cell Phone Reception - Seasonal")!=-1?"Yes, Seasonal":values.indexOf("Cell Phone Reception")!=-1?"Yes, Year-Round":"No"},{label:"Internet Connectivity",value:values.indexOf("Internet Connectivity - Seasonal")!=-1?"Yes, Seasonal":values.indexOf("Internet Connectivity")!=-1?"Yes, Year-Round":"No"},{label:"Trash/Recycling Collection",value:values.indexOf("Trash/Recycling Collection - Seasonal")!=
-1?"Yes, Seasonal":values.indexOf("Trash/Recycling Collection")!=-1?"Yes, Year-Round":"No"},{label:"Food Storage Lockers",value:values.indexOf("Food Storage Lockers - Seasonal")!=-1?"Yes, Seasonal":values.indexOf("Food Storage Lockers")!=-1?"Yes, Year-Round":"No"},{label:"Camp Store",value:values.indexOf("Camp Store - Seasonal")!=-1?"Yes, Seasonal":values.indexOf("Camp Store")!=-1?"Yes, Year-Round":"No"},{label:"Ice for Sale",value:values.indexOf("Ice Available For Sale - Seasonal")!=-1?"Yes, Seasonal":
values.indexOf("Ice Available For Sale")!=-1?"Yes, Year-Round":"No"},{label:"Firewood for Sale",value:values.indexOf("Firewood For Sale - Seasonal")!=-1?"Yes, Seasonal":values.indexOf("Firewood For Sale")!=-1?"Yes, Year-Round":"No"},{label:"Staff On Site",value:values.indexOf("Staff or Volunteer Host On Site - Seasonal")!=-1?"Yes, Seasonal":values.indexOf("Staff or Volunteer Host On Site")!=-1?"Yes, Year-Round":"No"},{label:"Amphitheater",value:values.indexOf("Amphitheater - Seasonal")!=-1?"Yes, Seasonal":
values.indexOf("Amphitheater")!=-1?"Yes, Year-Round":"No"},{label:"Laundry",value:values.indexOf("Laundry - Seasonal")!=-1?"Yes, Seasonal":values.indexOf("Laundry")!=-1?"Yes, Year-Round":"No"},{label:"Dump Station",value:values.indexOf("Dump Station - Seasonal")!=-1?"Yes, Seasonal":values.indexOf("Dump Station")!=-1?"Yes, Year-Round":"No"}];if(water!==undefined&&water.length>0)amenities.push({label:"Potable Water",value:water});var list=document.createElement("dl");amenities.forEach(function(amenity){var dt=
document.createElement("dt");dt.textContent=amenity.label;var dd=document.createElement("dd");dd.textContent=amenity.value;list.appendChild(dt);list.appendChild(dd)});return list}function emailElement(emailAddress,description){var element=document.createElement("p");var value=document.createElement("a");var formURL="/common/utilities/sendmail/sendemail.cfm";var encodedAddress=encodeURIComponent(emailAddress);var referral=encodeURIComponent(location.href);value.setAttribute("href",formURL+"?o\x3d"+
encodedAddress+"\x26r\x3d"+referral);value.setAttribute("class","Campground__ContactPoint__Value");value.textContent="Send this campground an email";element.appendChild(value);if(description!==undefined&&description.length>0){element.appendChild(document.createElement("br"));element.appendChild(document.createTextNode(description))}return element}function feeElement(fee){var container=document.createElement("div");container.setAttribute("class","Campground__Fee");var title=document.createElement("p");
title.textContent=fee.title;title.setAttribute("class","Campground__Fee__Heading");var description=document.createElement("p");description.textContent=fee.description;var cost=document.createElement("p");cost.textContent=fee.cost;cost.setAttribute("class","Campground__Fee__Cost");container.appendChild(title);container.appendChild(description);container.appendChild(cost);return container}function fixCarriageReturns(text){return text.replace(/(\r\n|\n|\r)/g,"\x3cbr /\x3e")}function iconElement(name,
containerClass){var element=document.createElementNS("http://www.w3.org/2000/svg","svg");element.setAttribute("class",containerClass);element.setAttribute("focusable","false");element.setAttribute("aria-hidden","true");element.innerHTML='\x3cuse xmlns:xlink\x3d"http://www.w3.org/1999/xlink" xlink:href\x3d"/common/commonspot/templates/assets/sprite.symbol.svg#'+name+'"\x3e\x3c/use\x3e';return element}function mapElement(mapURL){var mapIframe=document.createElement("iframe");mapIframe.setAttribute("src",
mapURL);mapIframe.setAttribute("width","100%");mapIframe.setAttribute("height","300");return mapIframe}function phoneElement(phoneNumber,description){var element=document.createElement("p");var value=document.createElement("a");var deformattedPhoneNumber=String(phoneNumber).replace(/[^0-9]/g,"");value.setAttribute("class","Campground__ContactPoint__Value");value.setAttribute("href","tel:+1"+deformattedPhoneNumber);value.textContent=phoneNumber;element.appendChild(value);if(description!==undefined&&
description.length>1){element.appendChild(document.createElement("br"));element.appendChild(document.createTextNode(description))}return element}function statElement(label,value,classModifier,icon){var element=document.createElement("div");element.setAttribute("class","Campground__BasicInformation__Stat Campground__BasicInformation__Stat--"+classModifier);var labelElement=document.createElement("span");labelElement.setAttribute("class","Campground__BasicInformation__Stat__Title");labelElement.textContent=
label+": ";var valueElement=document.createElement("span");valueElement.setAttribute("class","Campground__BasicInformation__Stat__Data");valueElement.textContent=value;if(icon!==undefined)element.appendChild(iconElement(icon,"icon"));element.appendChild(labelElement);element.appendChild(valueElement);return element}function swiperImage(swiperID,index,altText,imageURL,featureText,creditText){var imageContainer=document.createElement("div");imageContainer.setAttribute("class","swiper-slide--full");
imageContainer.setAttribute("id","swiper_image_"+swiperID+"_"+index);var figure=document.createElement("figure");var image=document.createElement("img");image.setAttribute("alt",altText);image.setAttribute("src",imageURL+"?width\x3d800\x26height\x3d800\x26mode\x3dcrop\x26quality\x3d90");var figcaption=document.createElement("figcaption");figcaption.textContent=featureText;var brk=document.createElement("br");var credit=document.createElement("span");credit.setAttribute("class","credit");credit.textContent=
creditText;figcaption.appendChild(brk);figcaption.appendChild(credit);figure.appendChild(image);figure.appendChild(figcaption);imageContainer.appendChild(figure);return imageContainer}function swiperSlide(imageURL,altText){var slide=document.createElement("div");slide.setAttribute("class","swiper-slide");slide.setAttribute("role","button");slide.setAttribute("tabindex",0);slide.setAttribute("style","background-image: url("+imageURL+"?width\x3d250\x26height\x3d250\x26mode\x3dcrop\x26quality\x3d90) !important");
var altTextElement=document.createElement("span");altTextElement.setAttribute("class","swiper-slide__alt-text");altTextElement.textContent=altText;slide.appendChild(altTextElement);return slide}function unstyledList(values){var list=document.createElement("ul");list.setAttribute("class","list-unstyled");values.forEach(function(value){var listItem=document.createElement("li");listItem.textContent=value;list.appendChild(listItem)});return list}function render(container,campground,controlID){var currentDate=
new Date;var operatingHours=campground.operatingHours&&campground.operatingHours[1]?new NPS.OperatingHours(campground.operatingHours[1]):null;var isClosed=operatingHours?operatingHours.getStatus()==="Closed":true;var originalTitle=isClosed?"The campground is scheduled to be closed today. See the details below for operating hours and seasons.":"Although the campground is scheduled to be open today, availability may be limited. See the reservation information below or contact the park for details.";
var statusLabel=isClosed?"Closed":"Open";var statusElement=container.querySelector(".Campground__BasicInformation__Status");if(statusElement){var statusElementClass=statusElement.getAttribute("class");statusElement.setAttribute("class",statusElementClass+" Campground__BasicInformation__Status--"+statusLabel);statusElement.textContent=statusLabel}var statusTooltipButton=container.querySelector('.Campground__BasicInformation__Status__Tooltip [data-toggle\x3d"tooltip"]');if(statusTooltipButton){statusTooltipButton.setAttribute("data-original-title",
originalTitle);statusTooltipButton.style.backgroundColor="rgba(0,0,0,0)";statusTooltipButton.style.padding="0px"}var imageContainer=container.querySelector(".Campground__BasicInformation__Description__Thumbnail");if(imageContainer&&campground.campgroundImage!==undefined){var image=document.createElement("img");image.setAttribute("src",campground.campgroundImage);image.setAttribute("alt","Image of campground site");imageContainer.innerHTML="";imageContainer.appendChild(image)}else if(imageContainer)imageContainer.remove();
var descriptionBody=container.querySelector(".Campground__BasicInformation__Description__Body");if(descriptionBody&&campground.description.length>0)descriptionBody.innerHTML=campground.description;else if(descriptionBody)descriptionBody.remove();var statsContainer=container.querySelector(".Campground__BasicInformation__Stats");if(statsContainer){var stats=[{label:"TOTAL SITES",value:campground.totalSites,classModifier:"TotalSites"},{label:"Electric Hookups",value:campground.electricHookups,classModifier:"ElectricHookups",
icon:"basic-info_electricity"},{label:"RV Only",value:campground.rvOnly,classModifier:"RV",icon:"basic-info_rv"},{label:"Tent Only",value:campground.tentOnly,classModifier:"Tent",icon:"basic-info_tent"},{label:"Walk to/Boat to",value:campground.walkBoatTo,classModifier:"Walk",icon:"basic-info_walk"},{label:"Group",value:campground.groupSize,classModifier:"Group",icon:"basic-info_group"},{label:"Horse",value:campground.horse,classModifier:"Horse",icon:"basic-info_horse"},{label:"Other",value:campground.other,
classModifier:"Other",icon:"basic-info_other"}];stats.forEach(function(stat){statsContainer.appendChild(statElement(stat.label,stat.value,stat.classModifier,stat.icon))})}var amenitiesContainer=container.querySelector(".Campground__Amenities");if(amenitiesContainer&&Array.isArray(campground.amenities)&&campground.amenities.length>0)amenitiesContainer.appendChild(amenitiesList(campground.amenities,campground.water));else if(amenitiesContainer)amenitiesContainer.remove();var firePolicy=container.querySelector(".Campground__FirePolicy");
if(firePolicy&&campground.fireStovePolicy!==undefined&&campground.fireStovePolicy.length>1){var firePolicyContent=document.createElement("p");firePolicyContent.textContent=campground.fireStovePolicy;firePolicy.appendChild(firePolicyContent)}else if(firePolicy)firePolicy.remove();var toiletsContainer=container.querySelector(".Campground__Toilets");if(toiletsContainer&&Array.isArray(campground.toilets)&&campground.toilets.length>0)toiletsContainer.appendChild(unstyledList(campground.toilets));else if(toiletsContainer)toiletsContainer.remove();
var showersContainer=container.querySelector(".Campground__Showers");if(showersContainer&&Array.isArray(campground.showers)&&campground.showers.length>0)showersContainer.appendChild(unstyledList(campground.showers));else if(showersContainer)showersContainer.remove();var hoursContainer=container.querySelector(".OperatingHours");if(operatingHours&&hoursContainer)operatingHours.render(hoursContainer);else hoursContainer.remove();var weatherContainer=container.querySelector(".Campground__Weather");if(weatherContainer&&
campground.weatherDescription){var weatherDescription=document.createElement("p");weatherDescription.innerHTML=campground.weatherDescription;weatherContainer.appendChild(weatherDescription)}else if(weatherContainer)weatherContainer.remove();var feesContainer=container.querySelector(".Campground__Fees");if(feesContainer&&Array.isArray(campground.entranceFees)&&campground.entranceFees.length>0)campground.entranceFees.forEach(function(fee){feesContainer.appendChild(feeElement(fee))});else feesContainer.remove();
var mapContainer=container.querySelector(".Campground__Map");if(mapContainer&&campground.mapURL!==undefined&&campground.mapURL.length>0)mapContainer.appendChild(mapElement(campground.mapURL));else if(mapContainer)mapContainer.remove();var emailContainer=container.querySelector(".Campground__Email");if(emailContainer&&campground.emailAddress!==undefined&&campground.emailAddress.length>0)emailContainer.appendChild(emailElement(campground.emailAddress,campground.emailDescription));else if(emailContainer)emailContainer.remove();
var phoneContainer=container.querySelector(".Campground__Phone");if(phoneContainer&&campground.telephoneNumberVoice!==undefined&&campground.telephoneNumberVoice.length>1)phoneContainer.appendChild(phoneElement(campground.telephoneNumberVoice,campground.telephoneDescription));else if(phoneContainer)phoneContainer.remove();var mailingAddress=container.querySelector(".Campground__MailingAddress");if(mailingAddress&&campground.mailing_address!==undefined&&campground.mailing_address.line_1!==undefined&&
campground.mailing_address.line_1.length>1){var mailingAddressObject=new NPS.Address(campground.mailing_address);var mailingAddressRendered=mailingAddressObject.render();mailingAddressRendered.setAttribute("class","Campground__ContactPoint__Value");mailingAddress.appendChild(mailingAddressRendered)}else if(mailingAddress)mailingAddress.remove();var physicalAddress=container.querySelector(".Campground__PhysicalAddress");if(physicalAddress&&campground.physical_address!==undefined&&campground.physical_address.line_1!==
undefined&&campground.physical_address.line_1.length>1){var physicalAddressObject=new NPS.Address(campground.physical_address);var physicalAddressRendered=physicalAddressObject.render();physicalAddressRendered.setAttribute("class","Campground__ContactPoint__Value");physicalAddress.appendChild(physicalAddressRendered)}else if(physicalAddress)physicalAddress.remove();var directionsContainer=container.querySelector(".Campground__Directions");if(directionsContainer&&(campground.directions!==undefined&&
campground.directions.length>1)||campground.directionsURL!==undefined&&campground.directionsURL.length>1){if(campground.directions.length>1)directionsContainer.appendChild(document.createTextNode(campground.directions));if(campground.directionsURL.length>1){var directionsLink=document.createElement("a");directionsLink.setAttribute("href",campground.directionsURL);directionsLink.setAttribute("class","Campground__Button button button-primary -green carrot-end");directionsLink.textContent="Directions Details";
directionsContainer.appendChild(directionsLink)}}else if(directionsContainer)directionsContainer.remove();var additionalInfoContainer=container.querySelector(".Campground__AdditionalInfo");if(additionalInfoContainer&&campground.additionalInfo!==undefined&&campground.additionalInfo.length>0){var additionalInfo=document.createElement("p");additionalInfo.innerHTML=fixCarriageReturns(campground.additionalInfo);additionalInfoContainer.appendChild(additionalInfo)}else if(additionalInfoContainer)additionalInfoContainer.remove();
var cellContainer=container.querySelector(".Campground__CellInfo");if(cellContainer&&campground.cellPhoneInfo!==undefined&&campground.cellPhoneInfo.length>0){var cellInfo=document.createElement("p");cellInfo.innerHTML=fixCarriageReturns(campground.cellPhoneInfo);cellContainer.appendChild(cellInfo)}else if(cellContainer)cellContainer.remove();var internetContainer=container.querySelector(".Campground__InternetInfo");if(internetContainer&&campground.internetInfo!==undefined&&campground.internetInfo.length>
0){var internetInfo=document.createElement("p");internetInfo.innerHTML=fixCarriageReturns(campground.internetInfo);internetContainer.appendChild(internetInfo)}else if(internetContainer)internetContainer.remove();var regulationsContainer=container.querySelector(".Campground__Regulations");if(regulationsContainer&&campground.regulations!==undefined&&campground.regulations.length>0&&campground.regulationsURL!==undefined&&campground.regulationsURL.length>0){if(campground.regulations!==undefined&&campground.regulations.length>
0){var regulations=document.createElement("p");regulations.innerHTML=fixCarriageReturns(campground.regulations);regulationsContainer.appendChild(regulations)}if(campground.regulationsURL!==undefined&&campground.regulationsURL.length>0){var regulationsLink=document.createElement("a");regulationsLink.setAttribute("href",campground.regulationsURL);regulationsLink.setAttribute("class","Campground__Button button button-primary -green carrot-end");regulationsContainer.appendChild(regulations)}}else if(regulationsContainer)regulationsContainer.remove();
var reservationsDescription=container.querySelector(".Campground__ReservationsDescription");if(reservationsDescription&&campground.reservationDescription!==undefined&&campground.reservationDescription.length>0)reservationsDescription.textContent=campground.reservationDescription;else if(reservationsDescription)reservationsDescription.remove();var reservationsStats=container.querySelector(".Campground__ReservationsStats");if(reservationsStats&&campground.sitesReservable!==undefined&&campground.sitesReservable.length>
0&&campground.sitesFirstCome!==undefined&&campground.sitesFirstCome.length>0){if(campground.sitesReservable!==undefined&&campground.sitesReservable.length>0){var reservableTerm=document.createElement("dt");reservableTerm.textContent("Sites Reservable");var reservableDef=document.createElement("dd");reservableDef.textContent=campground.sitesReservable;reservationsStats.appendChild(reservableTerm);reservationsStats.appendChild(reservableDef)}if(campground.sitesFirstCome!==undefined&&campground.sitesFirstCome.length>
0){var firstComeTerm=document.createElement("dt");firstComeTerm.textContent("Sites First Come / First Serve");var firstComeDef=document.createElement("dd");firstComeDef.textContent=campground.sitesFirstCome;reservationsStats.appendChild(firstComeTerm);reservationsStats.appendChild(firstComeDef)}}else if(reservationsStats)reservationsStats.remove();var reservationsEmbed=container.querySelector(".Campground__ReservationsEmbed");if(campground.reservationURL!==undefined&&campground.reservationURL.length>
1&&reservationsEmbed.innerHTML.trim().length===0){var reservationsContainer=container.querySelector(".Campground__InfoAccordian__Item__Description--Reservations");var reservationsLinkContainer=document.createElement("p");var reservationsLink=document.createElement("a");reservationsLink.setAttribute("href",campground.reservationURL);reservationsLink.setAttribute("class","Campground__Button button button-primary -green carrot-end");reservationsLink.textContent="Reservations";reservationsLinkContainer.appendChild(reservationsLink);
reservationsContainer.appendChild(reservationsLinkContainer)}var accessibilityPanel=container.querySelector(".Campground__BasicInformation__Accessibility");var accessibilityContainer=container.querySelector(".AccessibilityInfo__Body");if(accessibilityContainer&&campground.accessibility!==undefined&&campground.accessibility.length>0){var adaContainer=document.createElement("p");adaContainer.textContent="ADA Information - "+campground.accessibility;accessibilityContainer.appendChild(adaContainer);if(campground.wheelchairInfo!==
undefined&&campground.wheelchairInfo.length>0){var wheelchairContainer=document.createElement("p");wheelchairContainer.textContent="Wheelchair Access - "+campground.wheelchairInfo;accessibilityContainer.appendChild(wheelchairContainer)}if(campground.rvTrailerInfo!==undefined&&campground.rvTrailerInfo.length>0){var rvTrailerContainer=document.createElement("p");rvTrailerContainer.textContent="RV \x26 Trailer Information - "+campground.rvTrailerInfo;accessibilityContainer.appendChild(rvTrailerContainer)}var rvAllowedContainer=
document.createElement("p");rvAllowedContainer.textContent="RV Allowed - "+(campground.rvAllowed!=0?"Yes":"No");accessibilityContainer.appendChild(rvAllowedContainer);if(campground.rvMaxLength!=0){var rvMaxLengthContainer=document.createElement("p");rvMaxLengthContainer.textContent="RV Max Length in Feet - "+campground.rvMaxLength;accessibilityContainer.appendChild(rvMaxLengthContainer)}var trailerAllowedContainer=document.createElement("p");trailerAllowedContainer.textContent="Trailer Allowed - "+
(campground.trailerAllowed!=0?"Yes":"No");accessibilityContainer.appendChild(trailerAllowedContainer);if(campground.trailerMaxLength!=0){var trailerMaxLengthContainer=document.createElement("p");trailerMaxLengthContainer.textContent="Trailer Max Length in Feet - "+campground.trailerMaxLength;accessibilityContainer.appendChild(trailerMaxLengthContainer)}var classificationContainer=document.createElement("p");classificationContainer.textContent="Classification - ";if(campground.classification==1)classificationContainer.appendChild(document.createTextNode("This campground is a developed campground."));
else if(campground.classification==2)classificationContainer.appendChild(document.createTextNode("This campground is a limited development campground."));else if(campground.classification==3)classificationContainer.appendChild(document.createTextNode("This campground is a primitive camping area."));else classificationContainer.appendChild(document.createTextNode("This campground is a designated primitive campsite."));accessibilityContainer.appendChild(classificationContainer)}else accessibilityPanel.remove();
if(Array.isArray(campground.images)&&campground.images.length>0){var maxItemsRendered=8;var titleCharacterLimit=48;var numberImagesToRender=campground.images.length;if(numberImagesToRender>maxItemsRendered)numberImagesToRender=maxItemsRendered;var carouselGallery=container.querySelector(".CarouselGallery");if(carouselGallery){var swiperID=carouselGallery.getAttribute("data-swiper-id");var swiperWrapper=carouselGallery.querySelector(".swiper-wrapper");var swiperImages=carouselGallery.querySelector(".swiper-images");
if(swiperID&&swiperWrapper&&swiperImages)for(i=0;i<numberImagesToRender;i++)if(campground.images[i].imageURL.length>3){swiperWrapper.appendChild(swiperSlide(campground.images[i].imageURL,campground.images[i].altText));swiperImages.appendChild(swiperImage(swiperID,i,campground.images[i].altText,campground.images[i].imageURL,campground.images[i].featureText,campground.images[i].creditText))}}}}$(document).ready(function(){var containers=document.querySelectorAll(".CampgroundDetail");containers.forEach(function(container){var campgroundID=
parseInt(container.getAttribute("data-campground-id"));var controlID=parseInt(container.getAttribute("data-control-id"));var siteCode=container.getAttribute("data-site-code");try{var tooltipTarget=$('[data-toggle\x3d"tooltip"]',container);tooltipTarget.tooltip();tooltipTarget.on("click",function(e$jscomp$0){var element=this;$(element).trigger("focus");$(document).one("touchstart",function(e){$(element).tooltip("hide")})})}catch(err){console.log(err)}$(document).on("click","a.Campground__InfoAccordian__Item__Toggle",
function(){var currentPanel="";var clickedItem=this.href;if(clickedItem.indexOf("Reservations")>0)currentPanel="Reservations";else if(clickedItem.indexOf("Features")>0)currentPanel="Campground Features";else if(clickedItem.indexOf("Hours")>0)currentPanel="Operating Hours \x26 Seasons";else if(clickedItem.indexOf("Fees")>0)currentPanel="Fees";else if(clickedItem.indexOf("Contact")>0)currentPanel="Contact Information \x26 Directions";else if(clickedItem.indexOf("Regulations")>0)currentPanel="Additional Information \x26 Regulations";
else currentPanel="Unknown";if(typeof gas==="function")gas("send","event","Campground Panels",currentPanel,"open",1,true)});if(window.location.href.indexOf("campgrounds.htm")>-1)$("div.CampgroundDetail_"+controlID+" h4:contains('Campground Status')").parent().attr("role","campgroundstatus");$.getJSON("/"+siteCode+"/structured_data_"+siteCode+".json",function(data){if(!Array.isArray(data.campgrounds))return;var campgrounds=data.campgrounds.filter(function(item){return item.campgroundID===campgroundID});
if(campgrounds.length===0)return;var campground=campgrounds.shift();render(container,campground,controlID);var carouselGallery=container.querySelector(".CarouselGallery");if(carouselGallery)NPS.initCarouselGallery(carouselGallery);$("a, area",container).each(function(){var href=this.getAttribute("href");if(href&&href.charAt(0)!=="#")NPS.interceptExternalLinks(this)})})})})})(jQuery,NPS);(function($){if($(".ChapterBrowser__Container").length)var chapterBrowser=new Swiper(".ChapterBrowser__Container",{prevButton:$(".ChapterBrowser__Nav--Prev"),nextButton:$(".ChapterBrowser__Nav--Next"),buttonDisabledClass:"ChapterBrowser__Nav--Disabled",slidesPerView:1,paginationClickable:true,spaceBetween:0,preloadImages:false,watchActiveIndex:true,a11y:true,keyboardControls:true,autoHeight:true,onSlideChangeEnd:function(swiper){var currentSlide=swiper.activeIndex+1;var currentSlideChapterLinks=$(".swiper-slide-active .ChapterBrowser__Content--ChapterLinks").html();
$(".ChapterBrowser__Footer .ChapterBrowser__ChapterLinks").empty().append(currentSlideChapterLinks)},onInit:function(swiper){var slideCount=swiper.slides.length;var currentSlideChapterLinks=$(".swiper-slide-active .ChapterBrowser__Content--ChapterLinks").html();$(".ChapterBrowser__Footer .ChapterBrowser__ChapterLinks").empty().append(currentSlideChapterLinks);swiper.update()}})})(jQuery);
(function($){function gotoSlide(slide){if($list.filter(":not(:animated)").length){var leftPosition=0;var hasPrev=false;var hasNext=true;if(slide>0&&slide<slidesCount){leftPosition=-(itemWidth*slide);hasPrev=true;if(slide+1===slidesCount)hasNext=false;else hasNext=true}else if(slide===0){leftPosition=0;hasPrev=false;hasNext=true}else return false;$(".chapters-list").fadeOut(0,function(){$list.animate({left:leftPosition},0,function(){currentSlide=slide;$(".browser-window").toggleClass("has-prev",hasPrev);
$(".browser-window").toggleClass("has-next",hasNext);$(".chapters-list").fadeIn()})})}return false}function setUp(){$list.css({"width":listWidth}).wrap('\x3cdiv class\x3d"browser-window" /\x3e');$(".browser-window").prepend($listTitle);$(".browser-window").css({"height":itemHeight,"width":itemWidth,"overflow":"hidden","position":"relative"}).addClass("has-next");$(".browser-window").prepend($prevButton);$("#prev").click(function(){gotoSlide(currentSlide-1);return false});$(".browser-window").prepend($nextButton);
$("#next").click(function(){gotoSlide(currentSlide+1);return false})}var $list=$(".chapter-browser").find(".theme-wrapper");var $listItem=$(".chapter-browser .theme");var slidesCount=$listItem.length;var itemWidth=$listItem.outerWidth();var itemHeight=$listItem.outerHeight();var listWidth=slidesCount*itemWidth;var currentSlide=0;var $nextButton=$("\x3ca /\x3e",{"id":"next","class":"more","href":"#","text":"Next"});var $prevButton=$("\x3ca /\x3e",{"id":"prev","class":"back","href":"#","text":"Prev"});
var $listTitle=$("\x3ch3 /\x3e",{"class":"chapter-list-title","text":"Explore Chapters"});setUp()})(jQuery);(function($){$(document).on("ready",function(){$(".click-to-copy").on("click",function(event){var original_element=$(this);var hidden_element=$("\x3ctextarea\x3e\x3c/textarea\x3e");hidden_element.css({position:"absolute",left:"-9999px"});hidden_element.text(original_element.text());$("body").append(hidden_element);hidden_element.select();try{document.execCommand("copy")}catch(e){}hidden_element.remove()})})})(jQuery);var dataAttr=["data-text-inactive","data-text-active","data-aria-controls","data-controls","data-remove-header","data-hide-header","data-class","data-id","data-slide-speed","data-tracking"];
(function($){$.fn.ariaHide=function(skip){if(!skip)return this;return this.attr({"aria-hidden":true})};$.fn.ariaShow=function(skip){if(!skip)return this;return this.attr({"aria-hidden":false})};$.fn.ariaExpand=function(skip){if(!skip)return this;return this.attr({"aria-expanded":true})};$.fn.ariaCollapse=function(skip){if(!skip)return this;return this.attr({"aria-expanded":false})}})($);
var CollapserModel=Backbone.Model.extend({defaults:{firstRender:true,slideSpeed:0,isActive:false,swapsToggleText:false,ariaAccessible:false,removeHeaderText:false},toggleActiveState:function(){this.set("isActive",!this.get("isActive"))}});
var Collapser=Backbone.View.extend({initialize:function(){var _this=this;this.activeClass="active";this.dataAttr={};_.each(dataAttr,function(item){_this.dataAttr[item]=_this.$el.attr(item)});this.model.set("isActive",this.$el.hasClass(_this.activeClass));this.model.set("removeHeaderText",_this.dataAttr["data-remove-header"]);this.model.set("swapsToggleText",_this.dataAttr["data-text-active"]&&_this.dataAttr["data-text-inactive"]);this.model.set("ariaAccessible",!!_this.dataAttr["data-aria-controls"]);
var trackingData=_this.dataAttr["data-tracking"];this.model.set("trackingData",!!trackingData?jQuery.parseJSON(trackingData):!!trackingData);this.$content=jQuery("#"+(_this.dataAttr["data-aria-controls"]||_this.dataAttr["data-controls"]));if(!this.$content.length)throw new Error('Toggle must contain either a "data-controls" OR "data-aria-controls" attribute');this.createButton();this.render();this.$el.css("display","block");this.model.set("slideSpeed",_this.dataAttr["data-slide-speed"]||300);this.$content.on("keyup",
jQuery.proxy(this.toggle,this));this.listenTo(this.model,"change:isActive",this.render)},events:{"click button":"toggle","keyup":"toggle"},createButton:function(){var _this=this;var newText="";this.$button=jQuery('\x3cbutton class\x3d"js-collapser-button"\x3e\x3c/button\x3e');var text=_this.$el.html();var isActive=_this.model.get("isActive");this.$button.addClass(_this.dataAttr["data-class"]).attr("id",_this.dataAttr["data-id"]);if(_this.model.get("swapsToggleText")){if(_this.model.get("removeHeaderText"))newText=
"";else newText=jQuery("\x3cspan\x3e").html(text).css({border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px"});_this.$el.html(newText).append(_this.$button).removeClass("visuallyhidden "+_this.activeClass)}else{_this.$button.html(_this.$el.html());_this.$el.html(_this.$button).removeClass("visuallyhidden "+_this.activeClass)}},lazyLoadContent:function(){this.$content.find("[data-src]").each(function(){var $this=jQuery(this);$this.attr("src",
$this.data("src"))});return this},render:function(){var _this=this;var isActive=this.model.get("isActive");this.renderToggle(isActive);this.renderContent(isActive);if(isActive&&this.model.get("firstRender")){this.lazyLoadContent();this.model.set("firstRender",false)}},renderContent:function(isActive){var _this=this;var applyAria=this.model.get("ariaAccessible");if(isActive)this.$content.stop().addClass(_this.activeClass).slideDown(this.model.get("slideSpeed")).ariaShow(applyAria);else this.$content.stop().removeClass(_this.activeClass).slideUp(this.model.get("slideSpeed")).ariaHide(applyAria)},
renderToggle:function(isActive){var _this=this;var applyAria=this.model.get("ariaAccessible");if(isActive){this.$button.addClass(_this.activeClass).ariaExpand(applyAria);this.replaceToggleText(_this.dataAttr["data-text-active"])}else{this.$button.removeClass(_this.activeClass).ariaCollapse(applyAria);this.replaceToggleText(_this.dataAttr["data-text-inactive"]);if(!this.model.get("firstRender"))setTimeout(function(){_this.$button.focus()},100)}},replaceToggleText:function(html){if(this.model.get("swapsToggleText"))return this.$button.html(html);
else return},toggle:function(evt){evt.stopPropagation();var _this=this;if(evt.keyCode){switch(evt.keyCode){case 32:evt.preventDefault();_this.model.toggleActiveState();break;case 27:if(this.model.get("isActive")){evt.preventDefault();_this.model.toggleActiveState()}break;default:break}return}this.model.toggleActiveState();this.model.get("trackingData")&&this.sendTracking()},sendTracking:function(){var trackingData={};var data=_.clone(this.model.get("trackingData"));data.action="Open";trackingData=
gaHelper.parseTrackingData(data);if(this.model.get("isActive"))trackingData.eventAction=data.action1;else trackingData.eventAction=data.action2;ga("send",trackingData)}});jQuery(".js-collapser").each(function(){var tabView=new Collapser({el:jQuery(this),model:new CollapserModel})});(function($){$(".js-dismiss").each(function(){var $this=$(this);$this.on("click",function(){var $contentToClose=$($this.data("close"));$contentToClose.slideUp(300)})})})(jQuery);(function($){$(".js-datepicker .input-daterange").datepicker({todayBtn:true,multidate:true,autoclose:true,todayHighlight:true});$(document).ready(function(){$(".js-multiselect").multiselect({enableClickableOptGroups:true,maxHeight:300,buttonWidth:"100%",buttonClass:"btn btn-default btn-lg",numberDisplayed:0,nonSelectedText:$(this).attr("data-placeholder")||"All",enableFiltering:true});if($(".FacetedSearch-distanceControl").length)$(".FacetedSearch-distanceControl").each(function(){var distanceControl=
$(this);var component=$(distanceControl).closest(".FacetedSearch");var currentLocationButton=$(".FacetedSearch-currentLocationButton",component);$("input",distanceControl).on("change",function(e){$(".FacetedSearch-locationField",component).toggleClass("hidden");if(!$(this).is(":checked")){$(".FacetedSearch-latitude",component).val("");$(".FacetedSearch-longitude",component).val("");setTimeout(function(){$(".FacetedSearch-submitButton",component).trigger("click")},1)}});if(navigator.geolocation)currentLocationButton.on("click",
function(e){navigator.geolocation.getCurrentPosition(function(position){$(".FacetedSearch-latitude",component).val(position.coords.latitude);$(".FacetedSearch-longitude",component).val(position.coords.longitude);setTimeout(function(){$(".FacetedSearch-submitButton",component).trigger("click")},1)})});else currentLocationButton.remove()})});$(".js-multiselect").each(function(){var $this=$(this);var multiSelect=$this.multiselect({enableClickableOptGroups:true,maxHeight:300,buttonWidth:"100%",buttonClass:"btn btn-default btn-lg",
numberDisplayed:0,nonSelectedText:$this.attr("data-nonSelectedText")||"All",enableFiltering:!!$this.attr("data-enableFiltering"),enableCaseInsensitiveFiltering:!!$this.attr("data-enableFiltering")})})})(jQuery);(function($){$("#filter-by-state-select").on("change",function(e){$(".FeaturedResearchStrata-article").removeClass("active");$("#"+$(e.currentTarget).val()).addClass("active")})})(jQuery);(function($){var mobileNavTopLevelLinks=$("#LocalNav-mobile \x3e ul  \x3e li.has-sub \x3e a, #GlobalNav-mobile \x3e ul \x3e li.has-sub \x3e a");mobileNavTopLevelLinks.append('\x3cspan class\x3d"holder"\x3e\x3c/span\x3e');var mobileNavLinks=$("#LocalNav-mobile li.has-sub \x3e a, #GlobalNav-mobile li.has-sub \x3e a");var mobileNavLinkTexts=$("#LocalNav-mobile ul li.has-sub a \x3e span, #GlobalNav-mobile ul li.has-sub a \x3e span");mobileNavLinks.on("click",function(e){toggleMobileNavSubMenu(e)});mobileNavLinkTexts.on("click",
function(e){followMobileNavLinkText(e)});var toggleMobileNavSubMenu=function(e){var element=$(e.currentTarget).parent("li");if(element.hasClass("open")){element.removeClass("open");element.find("li").removeClass("open");element.find("ul").slideUp()}else{element.addClass("open");element.children("ul").slideDown();element.siblings("li").children("ul").slideUp();element.siblings("li").removeClass("open");element.siblings("li").find("li").removeClass("open");element.siblings("li").find("ul").slideUp()}};
var followMobileNavLinkText=function(e){e.stopPropagation();window.location.href=$(e.currentTarget).parent("a").attr("href")}})(jQuery);(function($){function getPathFromUrl(url){return url.split("?")[0]}_.templateSettings={interpolate:/\{\{\{(.+?)\}\}\}/g,evaluate:/\{\{(.+?)\}\}/g};var suggestionBaseUrl="";if($("#SearchHeader form").length>0)suggestionBaseUrl=getPathFromUrl($("#SearchHeader form").attr("action"));var SuggestionModel=Backbone.Model.extend({defaults:{suggestions:[],maxSuggestions:3,baseUrl:suggestionBaseUrl},getSuggestions:function(data){var _this=this;$.ajax({type:"get",dataType:"jsonp",url:"https://search.usa.gov/sayt?aid\x3d277",
data:{q:data.value},success:function(suggestions){_this.set("suggestions",suggestions.slice(0,_this.get("maxSuggestions")))}})}});var suggestionsTemplate="";if($("#suggestionsTemplate").length)suggestionsTemplate=_.template($("#suggestionsTemplate").html());var SuggestionView=Backbone.View.extend({template:suggestionsTemplate,initialize:function(){this.listenTo(this.model,"change",this.render)},events:{"keydown a":"navigateSuggestions"},render:function(){var _this=this;var suggestions=_this.model.get("suggestions");
if(suggestions.length){$("#search-suggestions").html(_this.template({suggestions:_this.model.get("suggestions"),url:_this.model.get("baseUrl")+"?query\x3d"}));this.trigger("update")}else this.$el.html("")},navigateSuggestions:function(evt){var _this=this;var $this=$(evt.target);var index=$this.closest("li").index();var suggestionLength=_this.model.get("suggestions").length;switch(evt.keyCode){case 40:evt.preventDefault();if(index<suggestionLength){var $next=_this.$("li").eq(index+1).find("a");$next.focus()}break;
case 38:evt.preventDefault();if(index>=1){$next=_this.$("li").eq(index-1).focus().find("a");$next.focus()}else _this.trigger("returnToInput");break}},focusFirstSuggestion:function(){this.$("li:first-child a").focus()}});var GlobalSearchView=Backbone.View.extend({initialize:function(){var _this=this;this.$label=this.$(".GlobalSearch-label");this.$inputGroup=this.$(".GlobalSearch-inputGroup");this.inputGroupWidth=this.$inputGroup.width();this.$inputGroup.css({display:"block",width:0});if(this.$el.attr("id")==
"SearchHeader")this.toggleTabIndex(false);var labelHTML=this.$label.html();var $button=$("\x3cbutton\x3e\x3c/button\x3e").html(labelHTML).attr("type","button").addClass("js-toggle");this.$label.html($button).removeClass("js-toggle");this.$input=this.$("input[name\x3dquery]");this.$form=this.$("form");this.$primarySubmitBtn=this.$(".GlobalSearch-submitButton");this.formAction=this.$form.data("action");this.formUrl=getPathFromUrl(this.$form.attr("action"));this.suggestionsView=new SuggestionView({model:new SuggestionModel,
parent:this.$el});this.$inputGroup.append(_this.suggestionsView.el);this.suggestionsView.render();this.listenTo(wv,"click",this.close);this.listenTo(this.suggestionsView,"returnToInput",function(){this.$input.focus()});this.listenTo(this.suggestionsView,"update",function(){this.$inputGroup.css({overflow:"visible"})})},events:{"click .js-toggle":"toggle","click .GlobalSearch-form":"preventEvent","keyup .GlobalSearch-form":"stopSubmit","keyup input":"handleKeyPress"},stopSubmit:function(evt){evt.preventDefault();
evt.stopPropagation()},handleKeyPress:function(evt){var _this=this;if(evt.keyCode===40&&this.suggestionsView.model.get("suggestions").length){evt.preventDefault();evt.stopPropagation();this.suggestionsView.focusFirstSuggestion()}else if(evt.keyCode===13){evt.stopPropagation();if($(evt.target).hasClass("js-toggle"))evt.preventDefault()}else this.getSuggestions()},getSuggestions:_.debounce(function(evt){var _this=this;this.suggestionsView.model.getSuggestions({value:_this.$input.val()})},175),preventEvent:function(evt){evt.stopPropagation();
var $target=$(evt.target);if($target.attr("type")==="submit")if(!!$target.hasClass("js-use-site-limit")){var newWindowLocation=this.formUrl+"?"+this.$form.serialize();this.updateWindowLocation(newWindowLocation)}else{newWindowLocation=this.formUrl+"?affiliate\x3dnps\x26query\x3d"+this.$input.val()+"\x26sitelimit\x3d/";this.updateWindowLocation(newWindowLocation)}},updateWindowLocation:function(location){window.location=location},toggleSuggestions:function(evt){var _this=this;var $this=$(evt.target);
var index=$this.closest("li").index();switch(evt.keyCode){case 9:evt.preventDefault();if(index===_this.suggestionsView.model.get("maxSuggestions")+1)_this.toggle(evt);break;case 13:this.updateWindowLocation(this.formUrl+"?query\x3d"+$this.text());break}},toggle:function(evt){evt.stopPropagation();evt.preventDefault();var _this=this;var $target=$(evt.target);var $delegatedTarget=$(evt.delegateTarget);if(!_this.$el.hasClass("active")){this.$el.toggleClass("active").delay(500).find(".GlobalSearch-inputGroup").css({overflow:"hidden",
width:this.inputGroupWidth});this.toggleTabIndex(true);this.$input.focus()}else if($delegatedTarget.hasClass("GlobalSearch")){evt.preventDefault();evt.stopPropagation()}else if(_this.$el.hasClass("active"))_this.close();else return},toggleTabIndex:function(active){var $submits=this.$('[type\x3d"submit"], input');if(active)$submits.attr({"tabindex":0});else $submits.attr({"tabindex":-1})},close:function(){if(this.$el.hasClass("active")){this.$el.toggleClass("active").find(".GlobalSearch-inputGroup").css({overflow:"hidden",
width:"0px"});this.toggleTabIndex(false);this.suggestionsView.model.set("suggestions",[])}}});if($(".GlobalSearch").length&&$("#suggestionsTemplate").length){var HeaderSearch=new GlobalSearchView({el:$("#SearchHeader")});var FooterSearch=new GlobalSearchView({el:$("#SearchFooter")})}$(".GlobalSearch form").submit(function(){return false})})(jQuery);if(platform.name="IE"&&platform.version!=10)$("html").addClass("touch-force");
var RotatorView=Backbone.View.extend({initialize:function(){var _this=this;var data=$.parseJSON(_this.$el.attr("data-tracking"));this.$el.slick({appendDots:$(".HeroRotator"),centerMode:true,centerPadding:"40px",prevArrow:'\x3cbutton type\x3d"button" data-role\x3d"none" class\x3d"slick-prev"\x3e\x3cspan class\x3d"hide"\x3ePrevious\x3c/span\x3e \x3ci class\x3d"fa fa-angle-left"\x3e\x3c/i\x3e\x3c/button\x3e',nextArrow:'\x3cbutton type\x3d"button" data-role\x3d"none" class\x3d"slick-next"\x3e\x3cspan class\x3d"hide"\x3eNext\x3c/span\x3e \x3ci class\x3d"fa fa-angle-right"\x3e\x3c/i\x3e\x3c/button\x3e',dots:true,
slide:"div",speed:500,slidesToShow:1,touchMove:true,onAfterChange:function(){var trackingData={};trackingData=gaHelper.parseTrackingData(data);ga("send",trackingData)},responsive:[{breakpoint:768,settings:{arrows:false,centerPadding:"3px"}}]})}});if($(".js-rotator").length)RotatorView=new RotatorView({el:$(".js-rotator")});(function($){$(window).on("load",function(){if($(".ImageComparison__Images .twentytwenty-container").length)$(".ImageComparison__Images .twentytwenty-container").each(function(){if($(this).data("orientation")==="vertical")$(this).twentytwenty({orientation:"vertical"});else{$(this).twentytwenty();var timeout;var container=this;var image=container.querySelector("img");var resize=function(){if(timeout){clearTimeout(timeout);timeout=setTimeout(resize,100)}else if(container.offsetWidth!==image.offsetWidth)container.style.width=
image.offsetWidth+"px"};$(window).on("resize",resize);resize()}$(this).on("mousedown",function(){var altSnippet=this.getAttribute("data-gas");if(typeof gas==="function"){gas("send","event","Image Comparison Slider",document.location.href,altSnippet,1,false);console.log("GA event triggered. "+altSnippet)}})})})})(jQuery);(function($){var sizeDiv=$(".ExploreResearchGroups-links").size();var x=2;$(".ExploreResearchGroups-links:lt("+x+")").show();$("#showMoreBtn").click(function(){x=x+2<=sizeDiv?x+2:sizeDiv;$(".ExploreResearchGroups-links:lt("+x+")").show();$(".ExploreResearchGroups-links:lt("+x+")").show().addClass("present");var newFocus=$(".ExploreResearchGroups-links.present:eq(-2)").find(".ExploreResearchGroups-link");$(newFocus).focus();if(x==sizeDiv)$("#showMoreBtn").hide()})})(jQuery);(function($){var sizeDiv=$(".PublicationSearch-gridItem").size();var x=8;$(".PublicationSearch-gridItem:lt("+x+")").show();$("#loadMoreBtn").click(function(){x=x+8<=sizeDiv?x+8:sizeDiv;$(".PublicationSearch-gridItem:lt("+x+")").show();if(x==sizeDiv)$("#loadMoreBtn").hide()})})(jQuery);(function($){if($("#Subject-header").length>0)$("#LocalNav").smartmenus({subIndicators:1,subIndicatorsPos:"append",subIndicatorsText:"",subMenusSubOffsetX:0,subMenusSubOffsetY:36,subMenusMaxWidth:200,mainMenuSubOffsetX:0,mainMenuSubOffsetY:56,keepInViewport:true});else $("#LocalNav").smartmenus({subIndicators:1,subIndicatorsPos:"append",subIndicatorsText:"",subMenusSubOffsetX:0,subMenusSubOffsetY:36,subMenusMaxWidth:200,mainMenuSubOffsetX:0,mainMenuSubOffsetY:56,keepInViewport:false});$("#LocalNav").smartmenus("keyboardSetHotkey",
123,"shiftKey")})(jQuery);function winWidth(){var w=0;if(!window.innerWidth)if(document.documentElement.clientWidth!==0)w=document.documentElement.clientWidth;else w=document.body.clientWidth;else w=window.innerWidth;return w}var priv={mqSupported:Modernizr.mq("only all"),curWidth:winWidth(),callbacks:[],context:"",prevContext:"",newContext:""};
var MQ=_.extend({initialize:function(){this.addEvent(window,"resize",_.debounce(this.resizeDebounce,200),this);this.queryForChange();this.hasResponsiveMarkup=$("[data-set]").length;return this},resizeDebounce:function(){if(winWidth()!==priv.curWidth){this.queryForChange();if(priv.mqSupported)if(this.hasResponsiveMarkup)this.trigger("markup-resize");else this.trigger("resize");priv.curWidth=winWidth()}},_fontFamily:function(elem){if(elem)return elem.currentStyle?elem.currentStyle.fontFamily:window.getComputedStyle?
window.getComputedStyle(elem,null).getPropertyValue("font-family"):""},_contentAfter:function(elem){if(elem)return window.getComputedStyle?window.getComputedStyle(elem,":after").getPropertyValue("content"):""},queryForChange:function(){var query_string=this._contentAfter(document.body)||this._fontFamily(document.documentElement);if(query_string===null)return;query_string=query_string.replace(/['",]/g,"");if(query_string!==priv.context){priv.newContext=query_string;this.triggerCallbacks(priv.context,
"unmatch");this.triggerCallbacks(priv.newContext,"match")}priv.prevContext=priv.context;priv.context=priv.newContext},triggerCallbacks:function(size,key){for(var i=0;i<priv.callbacks.length;i++){if(priv.callbacks[i].call_for_each_context===false)if(key==="match"&&_.contains(priv.callbacks[i].context,priv.context)||key==="unmatch"&&_.contains(priv.callbacks[i].context,priv.newContext))continue;var callback_function=priv.callbacks[i][key];if(_.contains(priv.callbacks[i].context,size)&&callback_function!==
undefined)callback_function()}},addQuery:function(queryObject){if(queryObject===null||queryObject===undefined)return;priv.callbacks.push(queryObject);if(typeof queryObject.context=="string")queryObject.context=[queryObject.context];if(typeof queryObject.call_for_each_context!=="boolean")queryObject.call_for_each_context=true;if(priv.context!==""&&_.contains(queryObject.context,priv.context))queryObject.match();return priv.callbacks[priv.callbacks.length-1]},removeQuery:function(query_object){if(query_object===
null||query_object===undefined)return;for(var match=-1;(match=_.indexOf(priv.callbacks,query_object))>-1;)priv.callbacks.splice(match,1)},addEvent:function(elem,type,eventHandle,eventContext){if(elem===null||elem===undefined)return;if(elem.addEventListener)elem.addEventListener(type,function(){eventHandle.call(eventContext)},false);else if(elem.attachEvent)elem.attachEvent("on"+type,function(){eventHandle.call(eventContext)});else elem["on"+type]=function(){eventHandle.call(eventContext)}},getPreviousContext:function(){return priv.prevContext},
getContext:function(){return priv.newContext},currentWidth:function(){return winWidth()}},Backbone.Events);MQ.initialize();(function($){if($(".swiper-container").length&&$(".MultimediaBrowser__container").length){var multimediaBrowser=new Swiper(".MultimediaBrowser__container",{uniqueNavElements:true,prevButton:$(".MultimediaBrowser__nav__button--prev"),nextButton:$(".MultimediaBrowser__nav__button--next"),buttonDisabledClass:"MultimediaBrowser__nav__button--disabled",slidesPerView:1,paginationClickable:true,spaceBetween:30,watchActiveIndex:true,a11y:true,keyboardControls:true,autoHeight:true,onSlideChangeEnd:function(swiper){var currentSlide=
swiper.activeIndex+1;$(".MultimediaBrowser__status--current").html("Slide "+currentSlide+" ")},onInit:function(swiper){var slideCount=swiper.slides.length;if(slideCount){$(".MultimediaBrowser__status--current").html("Slide 1");$(".MultimediaBrowser__status--slide-count").html("of "+slideCount)}for(var i=0;i<slideCount;i++){var nextPageTitle=$(swiper.slides[i+1]).find(".MultimediaBrowser__slide__title").html();if(nextPageTitle){var nextLink='\x3ca href\x3d"javascript:;" class\x3d"MultimediaBrowser__link--next"\x3eNext: '+
nextPageTitle+"\x3c/a\x3e";$(swiper.slides[i]).find(".MultimediaBrowser__slide__copy").append(nextLink)}}swiper.update()}});$(".MultimediaBrowser__link--next").on("click",function(e){e.preventDefault();multimediaBrowser.slideNext()})}})(jQuery);(function($,NPS){function translatePanelNames(PanelName){let PanelNames={collapseOne1:"Physical Address",collapseTwo1:"Directions",collapseThree1:"Operating Hours \x26 Seasons",collapseFour1:"Weather",collapseFive1:"Fees \x26 Passes",collapseSix1:"Visitor Centers",collapseSeven1:"Internet \x26 Cellular Access"};return PanelNames[PanelName]||"Unknown"}function render(container,data){var physicalAddressRecord=container.querySelector(".physical-address-record");if(physicalAddressRecord&&data.physicalAddressLine1!==
undefined&&data.physicalAddressLine1.length>0){var physicalAddress=new Object;physicalAddress.line_1=data.physicalAddressLine1;physicalAddress.line_2=data.physicalAddressLine2;physicalAddress.line_3=data.physicalAddressLine3;physicalAddress.city=data.physicalAddressCity;physicalAddress.state_code=data.physicalAddressStateCode;physicalAddress.postal_code=data.physicalAddressPostalCode;var physicalAddressObject=new NPS.Address(physicalAddress);var physicalAddressRendered=physicalAddressObject.render();
physicalAddressRendered.setAttribute("itemprop","address");physicalAddressRendered.setAttribute("itemscope","itemscope");physicalAddressRendered.setAttribute("itemtype","http://schema.org/PostalAddress");var physicalAddressContainer=document.createElement("div");physicalAddressContainer.setAttribute("class","physical-address-container");physicalAddressContainer.setAttribute("itemscope","itemscope");physicalAddressContainer.setAttribute("itemtype","http://schema.org/Place");physicalAddressContainer.appendChild(physicalAddressRendered);
physicalAddressRecord.appendChild(physicalAddressContainer)}else if(physicalAddressRecord)physicalAddressRecord.remove();var directionsRecord=container.querySelector(".directions-record");if(directionsRecord&&data.directions!==undefined&&data.directions.length>0){var directionsContainer=document.createElement("div");directionsContainer.setAttribute("class","directions-container");directionsContainer.setAttribute("itemscope","itemscope");directionsContainer.setAttribute("itemtype","http://schema.org/Place");
var directions=document.createElement("div");directions.setAttribute("class","directions");directions.innerHTML="\x3cp\x3e\x3cspan\x3e"+data.directions+"\x3c/span\x3e\x3c/p\x3e";directionsContainer.appendChild(directions);if(data.directionsURL!==undefined&&data.directionsURL.length>0){var directionsLink=document.createElement("a");directionsLink.setAttribute("href",data.directionsURL);directionsLink.setAttribute("class","button button-primary -green carrot-end");directionsLink.textContent="Directions Details";
directionsContainer.appendChild(directionsLink)}directionsRecord.appendChild(directionsContainer)}else if(directionsRecord)directionsRecord.remove();var operatingHoursContainer=container.querySelector(".operating-hours-container");if(operatingHoursContainer&&Array.isArray(data.operatingHours)&&data.operatingHours.length>0)data.operatingHours.forEach(function(os){if(os.name.indexOf("All Park")!==-1||os.name.indexOf("Park Entrance")!==-1||os.name.indexOf("Park District")!==-1){var osTitle=document.createElement("h4");
osTitle.textContent=os.name.indexOf("All Park")!==-1?"All Park Hours":os.name;var operatingHours=new NPS.OperatingHours(os);var osContainer=operatingHours.render();operatingHoursContainer.appendChild(osTitle);operatingHoursContainer.appendChild(osContainer)}});else if(operatingHoursContainer)operatingHoursContainer.remove();var weatherContainer=container.querySelector(".weather-container");if(weatherContainer&&data.weatherText!==undefined&&data.weatherText.length>0){var weatherParagraph=document.createElement("p");
weatherParagraph.innerHTML=data.weatherText;weatherContainer.appendChild(weatherParagraph)}else if(weatherContainer)weatherContainer.remove();var feesContainer=container.querySelector(".entrance-fees");if(feesContainer&&Array.isArray(data.entranceFees)&&data.entranceFees.length>0)data.entranceFees.forEach(function(fee){var feeContainer=document.createElement("div");feeContainer.setAttribute("id",fee.fee_id);var feeTitle=document.createElement("p");feeTitle.setAttribute("class","FeeTitle");feeTitle.innerHTML=
'\x3cspan itemprop\x3d"name"\x3e'+fee.title+'\x3c/span\x3e - \x3cspan itemprop\x3d"price"\x3e'+fee.cost+"\x3c/span\x3e";var feeDescription=document.createElement("p");feeDescription.setAttribute("itemprop","description");feeDescription.innerHTML=fee.description;feeContainer.appendChild(feeTitle);feeContainer.appendChild(feeDescription);feesContainer.appendChild(feeContainer)});else if(feesContainer)feesContainer.remove();var passesContainer=container.querySelector(".entrance-passes");if(passesContainer&&
Array.isArray(data.passes)&&data.passes.length>0)data.passes.forEach(function(pass){var passContainer=document.createElement("div");passContainer.setAttribute("id","fee-"+pass.fee_id);var passTitle=document.createElement("p");passTitle.setAttribute("class","PassTitle");passTitle.innerHTML='\x3cspan itemprop\x3d"name"\x3e'+pass.title+'\x3c/span\x3e - \x3cspan itemprop\x3d"price"\x3e'+pass.cost+"\x3c/span\x3e";var passDescription=document.createElement("p");passDescription.setAttribute("itemprop","description");
passDescription.innerHTML=pass.description;passContainer.appendChild(passTitle);passContainer.appendChild(passDescription);passesContainer.appendChild(passContainer)});else if(passesContainer)passesContainer.remove();var visitorCentersContainer=container.querySelector(".visitor-centers");if(visitorCentersContainer&&Array.isArray(data.visitorCenters)&&data.visitorCenters.length>0)data.visitorCenters.forEach(function(vc){var vcContainer=document.createElement("div");vcContainer.setAttribute("id",vc.visitorCenterID);
var vcTitle=document.createElement("h4");vcTitle.setAttribute("class","SubSection");vcTitle.setAttribute("itemprop","name");var vcLink=document.createElement("a");vcLink.setAttribute("href",vc.siteURL);vcLink.innerHTML=vc.name;vcTitle.appendChild(vcLink);var vcDescription=document.createElement("p");vcDescription.innerHTML=vc.description;var vcOperatingHours=new NPS.OperatingHours(vc.operatingHours[1]);var vcOperatingHoursContainer=vcOperatingHours.render();vcContainer.appendChild(vcTitle);vcContainer.appendChild(vcDescription);
vcContainer.appendChild(vcOperatingHoursContainer);visitorCentersContainer.appendChild(vcContainer)});else if(visitorCentersContainer)visitorCentersContainer.remove();if(data.internetPublicWifi!==undefined)if(data.internetDescription!==undefined&&data.internetDescription.length>0){if(data.internetPublicWifi=="1")$("#wifiAvailable",container).show();else $("#wifiAvailable",container).hide();$("#internetAccessPanel",container).show();$("#internetDescription").html("\x3cbr\x3e\x3cp\x3e"+data.internetDescription+
"\x3c/p\x3e");if(data.internetURL!==undefined&&data.internetURL.length>0)$("#internetURL",container).attr("href",data.internetURL);else $("#internetURL").hide()}else $("#internetAccessPanel",container).hide();else $("#internetAccessPanel",container).hide()}$(document).ready(function(){var containers=document.querySelectorAll(".ParkBasicInfo");containers.forEach(function(container){var siteCode=container.getAttribute("data-site-code");var jsonSrc="/"+siteCode+"/structured_data_"+siteCode+".json";if(siteCode.includes("/")){var segments=
siteCode.split("/");jsonSrc="/"+siteCode+"/structured_data_"+segments[0]+"_"+segments[1]+".json"}$.getJSON(jsonSrc,function(data){render(container,data)})});$("#BasicInfoAccordion").collapse();$("#BasicInfoAccordion .panel-collapse:first").collapse("show");if(typeof gas==="function"){$("#BasicInfoAccordion .panel-collapse").on("show.bs.collapse",function(){gas("send","event","Park Basic Information",translatePanelNames(this.id),"open",1,true)});$("#BasicInfoAccordion .panel-collapse").on("hide.bs.collapse",
function(){gas("send","event","Park Basic Information",translatePanelNames(this.id),"close",1,true)})}})})(jQuery,NPS);(function($,NPS){function render(container,data){var items=container.querySelectorAll(".ParkOperatingHours__Item");var parkContainer=document.createElement("div");var visitorCentersContainer=document.createElement("div");var visitorCentersHeading=document.createElement("h3");visitorCentersHeading.textContent="Vistor Center(s)";visitorCentersContainer.appendChild(visitorCentersHeading);var campgroundsContainer=document.createElement("div");var campgroundsHeading=document.createElement("h3");campgroundsHeading.textContent=
"Campground(s)";campgroundsContainer.appendChild(campgroundsHeading);items.forEach(function(item){var operatingScheduleID=parseInt(item.getAttribute("data-operating-schedule-id"));if(Array.isArray(data.operatingHours)&&data.operatingHours.length>0){var matchingData=data.operatingHours.filter(function(os){return parseInt(os.operatingScheduleID)===operatingScheduleID});matchingData.forEach(function(os){if(os.name.indexOf("All Park")!==-1||os.name.indexOf("Park Entrance")!==-1||os.name.indexOf("Park District")!==
-1){var osTitle=document.createElement("h4");osTitle.textContent=os.name.indexOf("All Park")!==-1?"All Park Hours":os.name;var operatingHours=new NPS.OperatingHours(os);var osContainer=operatingHours.render();item.appendChild(osTitle);item.appendChild(osContainer);parkContainer.appendChild(item)}})}if(Array.isArray(data.visitorCenters)&&data.visitorCenters.length>0)data.visitorCenters.forEach(function(vc){if(vc.operatingHours!==undefined&&vc.operatingHours["1"]!==undefined&&vc.operatingHours["1"].operatingScheduleID!==
undefined&&parseInt(vc.operatingHours["1"].operatingScheduleID)===operatingScheduleID){var os=vc.operatingHours["1"];var osTitle=document.createElement("h4");osTitle.innerHTML=os.name;var operatingHours=new NPS.OperatingHours(os);var osContainer=operatingHours.render();item.appendChild(osTitle);item.appendChild(osContainer);visitorCentersContainer.appendChild(item)}});if(Array.isArray(data.campgrounds)&&data.campgrounds.length>0)data.campgrounds.forEach(function(c){if(c.operatingHours!==undefined&&
c.operatingHours["1"]!==undefined&&c.operatingHours["1"].operatingScheduleID!==undefined&&parseInt(c.operatingHours["1"].operatingScheduleID)===operatingScheduleID){var os=c.operatingHours["1"];var osTitle=document.createElement("h4");osTitle.innerHTML=os.name;var operatingHours=new NPS.OperatingHours(os);var osContainer=operatingHours.render();item.appendChild(osTitle);item.appendChild(osContainer);campgroundsContainer.appendChild(item)}})});var remainingItems=container.querySelectorAll(".ParkOperatingHours__Item");
remainingItems.forEach(function(item){item.remove()});if(parkContainer.querySelector(".ParkOperatingHours__Item"))container.appendChild(parkContainer);if(visitorCentersContainer.querySelector(".ParkOperatingHours__Item"))container.appendChild(visitorCentersContainer);if(campgroundsContainer.querySelector(".ParkOperatingHours__Item"))container.appendChild(campgroundsContainer)}$(document).ready(function(){var containers=document.querySelectorAll(".ParkOperatingHours");containers.forEach(function(container){var controlID=
container.getAttribute("data-control-id");var siteCode=container.getAttribute("data-site-code");var operatingHoursContainer=container.querySelector(".operating-hours-container");var jsonSrc="/"+siteCode+"/structured_data_"+siteCode+".json";if(operatingHoursContainer)$.getJSON(jsonSrc,function(data){render(operatingHoursContainer,data)})})})})(jQuery,NPS);var $PromoSearch=$(".PromoSearch");var $form=$PromoSearch.find("form");var $select=$PromoSearch.find("select");$select.on("change",function(){var $this=$(this);var url=$form.attr("action")+"?"+$form.serialize();var trackingData=gaHelper.parseTrackingData({type:"event",category:"Navigate",action:url,label:"NRSS Program Promo"});ga("send",trackingData);$form.submit()});(function($){var expandButton=document.querySelectorAll(".PublicationSearch-gridItem-expandBtn");$(expandButton).click(function(){$(this).closest(".PublicationSearch-gridItem-contentContainer").toggleClass("grow");$(this).closest("div").next(".PublicationSearch-gridItem-textContainer").toggleClass("add");$(this).attr("aria-expanded",function(i,attr){return attr=="true"?"false":"true"});$(this).find("i").toggleClass("hide")})})(jQuery);(function($){if($("#Subject-header").length>0)$("#PublicationLandingNav").smartmenus({subIndicators:1,subIndicatorsText:"",subMenusSubOffsetX:0,subMenusSubOffsetY:36,subMenusMaxWidth:200,mainMenuSubOffsetX:0,mainMenuSubOffsetY:56,keepInViewport:true});else $("#PublicationLandingNav").smartmenus({subIndicators:1,subIndicatorsText:"",subMenusSubOffsetX:0,subMenusSubOffsetY:36,subMenusMaxWidth:200,mainMenuSubOffsetX:0,mainMenuSubOffsetY:56,keepInViewport:false});$("#PublicationLandingNav").smartmenus("keyboardSetHotkey",
123,"shiftKey")})(jQuery);(function($){if($(".Quiz__QuestionContainer").length){var Quiz=new Swiper(".Quiz",{uniqueNavElements:true,nextButton:$(".Quiz__Button--Next"),buttonDisabledClass:"Quiz__Button--Disabled",slidesPerView:1,paginationClickable:true,spaceBetween:30,parallax:false,watchActiveIndex:true,a11y:true,keyboardControls:true,autoHeight:true,effect:"slide",allowSwipeToPrev:false,allowSwipeToNext:false,pagination:".Quiz__Heading__Counter",paginationType:"custom",onSlideChangeStart:function(swiper){$(".Quiz__Question__Status").removeClass("Quiz__Question__Status--Active");
$(".Quiz__Button--Next").removeClass("Quiz__Button--Next--Active");$(".Quiz__Button--Next").removeClass("Quiz__Button--Next--Disabled");$(".Quiz__Summary").removeClass("Quiz__Summary--Active")},paginationCustomRender:function(swiper,current,total){return"Question "+current+" of "+total},onSlideChangeEnd:function(swiper){swiper.lockSwipeToNext()},onInit:function(swiper){swiper.update()}});$(".Quiz__Button--Restart").on("click",function(e){Quiz.unlockSwipeToPrev();Quiz.slideTo(0,300,true);$('.Quiz input[type\x3d"radio"]').removeAttr("checked");
Quiz.update();$(".Quiz__Question__Status").removeClass("Quiz__Question__Status--Active");$(".Quiz__Button--Next").removeClass("Quiz__Button--Next--Active");$(".Quiz__Button--Next").removeClass("Quiz__Button--Next--Disabled");$(".Quiz__Summary").removeClass("Quiz__Summary--Active")});$('input[type\x3d"radio"]').on("change",function(e){var isCorrect=$(e.currentTarget).data("correct")!==undefined;var grade=isCorrect?"Correct!":"Incorrect.";var selectedMessage=$(e.currentTarget).data("message");$("#Question-Grade").html(grade);
$("#Selected-Message").html(selectedMessage);$(".Quiz__Question__Status").addClass("Quiz__Question__Status--Active");if(isCorrect){Quiz.unlockSwipeToNext();$("#Question-Grade").addClass("Quiz__Question__Status__Grade--Correct");$(".Quiz__Button--Next").addClass("Quiz__Button--Next--Active");if(Quiz.isEnd){$(".Quiz__Button--Next").addClass("Quiz__Button--Next--Disabled");$(".Quiz__Summary").addClass("Quiz__Summary--Active")}}else{Quiz.lockSwipeToNext();$("#Question-Grade").removeClass("Quiz__Question__Status__Grade--Correct");
$(".Quiz__Button--Next").removeClass("Quiz__Button--Next--Active");$(".Quiz__Summary").removeClass("Quiz__Summary--Active")}})}})(jQuery);(function($){$(document).ready(function(){$(".RelatedGrid").each(function(){var component=this;var rows=$(".row",component);if(rows.length>2){var moreButton=$(".RelatedGrid__MoreButton",component);var hiddenRows=rows.get().slice(2);var hiddenItems=[];$(hiddenRows).each(function(){hiddenItems=hiddenItems.concat($(".RelatedGridItem",this).get())});$(hiddenRows).addClass("hidden");$(hiddenItems).css("opacity",0);moreButton.one("click",function(e){moreButton.css("opacity",0);setTimeout(function(){$(hiddenRows).removeClass("hidden");
$(hiddenItems).each(function(i){var item=this;setTimeout(function(){$(item).css("opacity",1)},i*50)});moreButton.addClass("hidden");$(".RelatedGridItem__Link",hiddenItems[0]).focus()},100)});moreButton.removeClass("hidden")}})})})(jQuery);(function($){var components=$(".ListingGrid-RelatedSubjects");if(components.length)components.each(function(){var component=this;var items=$(".ListingGridItem",component);if(items.length>4){var hiddenItems=items.get().slice(4);var moreButton=$(".ListingGrid-moreButton",component);$(hiddenItems).addClass("hidden");$(hiddenItems).css("opacity",0);moreButton.one("click",function(e){moreButton.css("opacity",0);setTimeout(function(){$(hiddenItems).removeClass("hidden");$(hiddenItems).each(function(i){var item=
this;setTimeout(function(){$(item).css("opacity",1)},i*150)});$(".ListingGridItem-link",hiddenItems[0]).focus()},100)});moreButton.removeClass("hidden")}})})(jQuery);(function($){$(document).on("ready",function(){$(".return-button").on("click",function(e){window.history.back()})})})(jQuery);$(".js-inpage-nav").each(function(){var $this=$(this);$this.find("li a").each(function(){$(this).smoothScroll({preventDefault:true,afterScroll:function(){var targetID=$(this).attr("href");var $target=$(targetID);$target.focus()}})})});$(".js-scrollTo").each(function(){var $this=$(this);$(this).smoothScroll({afterScroll:function(){var targetID=$(this).attr("href");var $target=$(targetID);$target.focus()}})});$(".SearchBar-keywordSearch").each(function(){var $this=$(this);$this.find("input").focusin(function(){$this.addClass("focus")}).focusout(function(){$this.removeClass("focus")})});function addEvent(evnt,elem,func){if(elem.addEventListener)elem.addEventListener(evnt,func,false);else if(elem.attachEvent)elem.attachEvent("on"+evnt,func);else elem[evnt]=func}addEvent("hashchange",window,function(){var element=document.getElementById(location.hash.substring(1));if(element){if(!/^(?:a|select|input|button|textarea)$/i.test(element.tagName))element.tabIndex=-1;element.focus()}});(function($){$("#LocalNav-desktop \x3e li \x3e a \x3e span, ul#LocalNav-desktop li ul li a").each(function(i,d){$(d).html($(d).text().replace(/\s(?=[^\s]*$)/g,"\x26nbsp;"))})})(jQuery);var TabbedContentModel=Backbone.Model.extend({defaults:{firstRender:true,index:null,tabCount:0},nextIndex:function(){var nextIndex=2+_.clone(this.get("index"));if(nextIndex>this.get("tabCount"))return false;else{this.set("index",nextIndex-1);return this}},prevIndex:function(){var prevIndex=_.clone(this.get("index"))-1;if(prevIndex<0)return false;else this.set("index",prevIndex);return this},updateIndex:function(index,force){var currentIndex=this.get("index");if(index===currentIndex&&!force)this.set("index",
null);else this.set("index",index);return this}});
var TabbedContent=Backbone.View.extend({initialize:function(){this.activeClass="active";this.$nav=this.$('[data-toggle\x3d"tab"]');this.$panels=this.$(".Tabs-content \x3e div");this.$nav.each(function(index,elem){var $this=$(elem);var innerHtml=$this.html();$this.attr({"data-start-text":innerHtml})});var startIndex=this.$('[role\x3d"tablist"] \x3e li.active').index();this.model.set("tabCount",this.$nav.length);this.listenTo(this.model,"change:index",this._render);if(startIndex>=0)this.model.updateIndex(startIndex);
else this.$nav.attr({"tabindex":"-1"}).eq(0).attr("tabindex","0")},events:{"click [data-toggle\x3d'tab']":"_toggle","keydown [role\x3d'tab']":"_navigate"},_activateContent:function($elem){var _this=this;$elem.attr("aria-hidden",false).addClass(_this.activeClass).slideDown()},_activateToggle:function($elem){var _this=this;var newInnerHtml=$elem.attr("data-text")||$elem.attr("data-start-text");$elem.attr({"aria-selected":true,"aria-expanded":true,"tabindex":"0"}).html(newInnerHtml).closest("li").addClass(_this.activeClass)},
_deactivateContent:function($elem){var _this=this;$elem.attr("aria-hidden",true).removeClass(_this.activeClass).slideUp()},_deactivateToggle:function($elem){var _this=this;$elem.attr({"aria-selected":false,"aria-expanded":false,"tabindex":"-1"}).closest("li").removeClass(_this.activeClass);$elem.each(function(index,elem){var $this=$(this);var innerHtml=$this.attr("data-start-text");$this.html(innerHtml)})},_focus:function(evt){evt.preventDefault();evt.stopPropagation();var _this=this;var $this=$(evt.target);
var $clickedToggle=$this.closest("li");_this.model.updateIndex($clickedToggle.index(),true)},_navigate:function(evt){var _this=this;switch(evt.keyCode){case 37:_this.model.prevIndex();break;case 39:_this.model.nextIndex();break;case 32:_this._toggle(evt);break;case 13:_this._toggle(evt);break;case 9:_this._resetTabIndex(evt);default:break}},_render:function(){var _this=this;var index=_this.model.get("index");if(index===null){_this._deactivateToggle(_this.$nav);_this._deactivateContent(_this.$panels)}else{var $indexToggle=
_this.$nav.eq(index);var $indexContent=_this.$panels.eq(index);_this._deactivateToggle(_this.$nav.not(":eq("+index+")"));_this._deactivateContent(_this.$panels.not(":eq("+index+")"));_this._activateToggle($indexToggle);_this._activateContent($indexContent)}},_resetTabIndex:function(evt){evt.stopPropagation();if(this.model.get("index")===null)this.$nav.attr({"tabindex":"-1"}).eq(0).attr({"tabindex":"0"})},_toggle:function(evt){evt.preventDefault();evt.stopPropagation();var _this=this;var $this=$(evt.target);
var $clickedToggle=$this.closest("li");_this.model.updateIndex($clickedToggle.index())}});$(".Tabs").each(function(){var tabView=new TabbedContent({el:$(this),model:new TabbedContentModel})});(function($){$(document).ready(function(){if($('[data-toggle\x3d"tooltip"]').length){$('[data-toggle\x3d"tooltip"]').tooltip();$('[data-toggle\x3d"tooltip"]').on("click",function(e$jscomp$0){var element=this;$(element).trigger("focus");$(document).one("touchstart",function(e){$(element).tooltip("hide")})})}})})(jQuery);var touchpointForm2416268b;
(function($){function FBAform(d,N){return{css:"",formId:"2416268b",formComponent:function(){return document.querySelector("[data-touchpoints-form-id\x3d'"+this.formId+"']")},formElement:function(){return this.formComponent().querySelector("form")},javscriptIsEnabled:function(){var javascriptDisabledMessage=document.getElementsByClassName("javascript-disabled-message")[0];var touchpointForm=document.getElementsByClassName("touchpoint-form")[0];if(javascriptDisabledMessage)javascriptDisabledMessage.classList.add("hide");if(touchpointForm)touchpointForm.classList.remove("hide")},
init:function(options){this.javscriptIsEnabled();this.options=options;this.loadCss();this.loadHtml();this.bindEventListeners();this.dialogOpen=false;this.successState=false;this.pagination();return this},bindEventListeners:function(){var self=this;d.addEventListener("keyup",function(event){var x=event.keyCode;if(x==27&&self.dialogOpen==true)self.closeDialog()});d.addEventListener("click",function(event){self.handleClick(event)})},loadCss:function(){d.head.innerHTML+="\x3cstyle\x3e"+this.css+"\x3c/style\x3e"},
loadHtml:function(){if(d.getElementById("touchpoints-survey")!=null)d.getElementById("touchpoints-survey").innerHTML='\x3cdiv id\x3d"fba-modal-dialog" class\x3d"fba-modal-dialog"\x3e\n  \x3cdiv class\x3d"touchpoints-form-wrapper" data-touchpoints-form-id\x3d"2416268b"\x3e\n  \x3cdiv class\x3d"wrapper"\x3e\n\n    \x3cdiv class\x3d"fba-alert usa-alert usa-alert--success" hidden\x3e\n  \x3cdiv class\x3d"usa-alert__body"\x3e\n    \x3ch3 class\x3d"usa-alert__heading"\x3e\n      Success\n    \x3c/h3\x3e\n    \x3cp class\x3d"usa-alert__text"\x3e\n      Thank you. Your feedback has been received.\n    \x3c/p\x3e\n  \x3c/div\x3e\n\x3c/div\x3e\n\x3cdiv class\x3d"fba-alert-error usa-alert usa-alert--error" hidden\x3e\n  \x3cdiv class\x3d"usa-alert__body"\x3e\n    \x3ch3 class\x3d"usa-alert__heading"\x3e\n      Error\n    \x3c/h3\x3e\n    \x3cp class\x3d"usa-alert__text"\x3e\n      alert message\n    \x3c/p\x3e\n  \x3c/div\x3e\n\x3c/div\x3e\n\n    \n\x3cform action\x3d"https://touchpoints.app.cloud.gov/touchpoints/2416268b/submissions.json" method\x3d"POST"\x3e\n  \x3cdiv class\x3d"touchpoints-form-body"\x3e\n    \x3cinput type\x3d"hidden" name\x3d"fba_location_code" id\x3d"fba_location_code" /\x3e\n\n      \x3cdiv class\x3d"section visible"\x3e\n\n        \x3cdiv class\x3d"section-header"\x3e\n          \x3ch4 class\x3d"section-title-view question-1"\x3e\n            Was this page helpful?\n          \x3c/h4\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"questions"\x3e\n\n          \x3cdiv class\x3d"question question-1 white-bg"\x3e\n              \x3cfieldset class\x3d"usa-fieldset radios" role\x3d"group" aria-labelledby\x3d"answer_01"\x3e\n  \x3clegend class\x3d"usa-sr-only"\x3e\x3c/legend\x3e\n  \x3clabel class\x3d"usa-label" for\x3d"answer_01"\x3e\n  \n\x3c/label\x3e\n\n  \x3cdiv class\x3d"question-options"\x3e\n    \x3cdiv class\x3d"radio-button usa-radio" id\x3d"question_option_6866" data-id\x3d"6866"\x3e\n      \x3cinput type\x3d"radio" name\x3d"answer_01" id\x3d"answer_01_1" value\x3d"Yes" class\x3d"usa-radio__input usa-radio__input--tile" /\x3e\n      \x3clabel class\x3d"usa-radio__label" for\x3d"answer_01_1"\x3eYes\x3c/label\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"radio-button usa-radio" id\x3d"question_option_6867" data-id\x3d"6867"\x3e\n      \x3cinput type\x3d"radio" name\x3d"answer_01" id\x3d"answer_01_2" value\x3d"No" class\x3d"usa-radio__input usa-radio__input--tile" /\x3e\n      \x3clabel class\x3d"usa-radio__label" for\x3d"answer_01_2"\x3eNo\x3c/label\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n\x3c/fieldset\x3e\n\n          \x3c/div\x3e\n\n          \x3cdiv class\x3d"question question-2 white-bg"\x3e\n              \x3cdiv class\x3d"radios" role\x3d"group" aria-labelledby\x3d"answer_02"\x3e\n  \x3clabel class\x3d"usa-label" for\x3d"answer_02"\x3e\n  How could we improve this page?\n\x3c/label\x3e\n\n    \x3ctextarea name\x3d"answer_02" id\x3d"answer_02" class\x3d"usa-textarea" maxlength\x3d"500" onkeyup\x3d"touchpointForm2416268b.textCounter(this,500);"\x3e\n\x3c/textarea\x3e\n\t\x3cspan class\x3d"counter-msg usa-hint usa-character-count__message  aria-live\x3d"polite"\x3e\n\t\t500 characters allowed\n\t\x3c/span\x3e\n\x3c/div\x3e\n\n          \x3c/div\x3e\n        \x3c/div\x3e\n\n          \x3cp class\x3d"submit-button"\x3e\n            \x3cbutton type\x3d"submit" class\x3d"usa-button"\x3eSubmit\x3c/button\x3e\n          \x3c/p\x3e\n      \x3c/div\x3e\n  \x3c/div\x3e\n\x3c/form\x3e\n\x3cscript\x3e\n  // Set \'other\' type checkbox option values when associated option text field is updated\n  $(\'.usa-input.other-option\').keyup(function() {\n    // strip commas\n    var val \x3d $(this).val().replace(/,/g, \'\');\n    // if user has cleared custom text, then reset checkbox value to "other"\n    if (val \x3d\x3d \'\') { val \x3d \'other\'; }\n    // set the value of the checkbox option to the custom text as entered\n    var option_selector \x3d "#" + $(this).attr("data-option-id");\n    $(option_selector).prop(\'checked\',true);\n    $(option_selector).val(val);\n  });\n  function showValid(elem) {\n    var questionDiv \x3d $(elem).closest(".question");\n    $(questionDiv).removeClass(\'usa-form-group--error\');\n    var span \x3d questionDiv.find(\'#input-error-message\');\n    $(elem).removeClass("usa-input--error");\n    $(elem).addClass("usa-input--success");\n    $(span).remove();\n  }\n  function showWarning(elem, msg) {\n    var questionDiv \x3d $(elem).closest(".question");\n    $(questionDiv).addClass(\'usa-form-group--error\');\n    var span \x3d questionDiv.find(\'#input-error-message\');\n    var label \x3d questionDiv.find("label");\n    $(elem).addClass("usa-input--error");\n    $(elem).removeClass("usa-input--success");\n    var span \x3d questionDiv.find(\'#input-error-message\');\n    if (span.length \x3d\x3d 0) {\n      span \x3d document.createElement(\'span\');\n      span.setAttribute(\'id\', \'input-error-message\');\n      span.setAttribute(\'role\',\'alert\');\n      span.setAttribute(\'class\',\'usa-error-message\');\n    }\n    span.innerText \x3d msg;\n    $(span).insertAfter(label)\n    $(this).focus();\n  }\n\x3c/script\x3e\n\n  \x3c/div\x3e\n  \n    \n\x3cdiv class\x3d"usa-banner"\x3e\n  \x3cheader class\x3d"usa-banner__header"\x3e\n    \x3cdiv class\x3d"usa-banner__inner"\x3e\n      \x3cdiv class\x3d"grid-col-auto"\x3e\n        \x3cimg class\x3d"usa-banner__header-flag" src\x3d"https://touchpoints.app.cloud.gov/assets/us_flag_small-9c507b1ff21f65c4b8f0c45d0e0d0a10bb5c9864c1a76e07aa3293da574968a1.png" alt\x3d"U.S. flag"\x3e\n      \x3c/div\x3e\n      \x3cdiv class\x3d"grid-col-fill tablet:grid-col-auto"\x3e\n        \x3cp class\x3d"usa-banner__header-text"\x3e\n          An official form of the United States government.\n          Provided by\n          \x3ca href\x3d"https://touchpoints.app.cloud.gov/" target\x3d"_blank" rel\x3d"noopener"\x3eTouchpoints\x3c/a\x3e\n          \x3cbr\x3e\n\n        \x3c/p\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n  \x3c/header\x3e\n\x3c/div\x3e\n\n\n\n\x3c/div\x3e\n\x3c/div\x3e\n';
var formElement=this.formElement();var submitButtons=formElement.querySelectorAll("[type\x3d'submit']");var that=this;var yesNoForm=d.querySelector(".touchpoints-yes-no-buttons");if(yesNoForm)Array.prototype.forEach.call(submitButtons,function(submitButton){submitButton.addEventListener("click",that.handleYesNoSubmitClick.bind(that),false)});else if(submitButtons)Array.prototype.forEach.call(submitButtons,function(submitButton){submitButton.addEventListener("click",that.handleSubmitClick.bind(that),
false)});$("input[type\x3d'radio'][name\x3d'answer_01']").on("change",function(){$(".question-2").addClass("visible");$(".submit-button").addClass("visible");$(".question-1").addClass("hidden")})},resetErrors:function(){var formComponent=this.formComponent();var alertElement=formComponent.querySelector(".fba-alert");var alertElementHeading=formComponent.getElementsByClassName("usa-alert__heading")[0];var alertElementBody=formComponent.getElementsByClassName("usa-alert__text")[0];var alertErrorElement=
formComponent.querySelector(".fba-alert-error");var alertErrorElementBody=alertErrorElement.getElementsByClassName("usa-alert__text")[0];alertElement.setAttribute("hidden",true);alertElementHeading.innerHTML="";alertElementBody.innerHTML="";alertErrorElement.setAttribute("hidden",true);alertErrorElementBody.innerHTML=""},handleClick:function(e){},handleButtonClick:function(e){e.preventDefault();this.loadDialog()},handleDialogClose:function(e){e.preventDefault();this.closeDialog()},handleOtherOption:function(e){var selectorId=
"#"+e.srcElement.getAttribute("data-option-id");var other_val=e.target.value.replace(/,/g,"");if(other_val=="")other_val="other";var option=this.formElement().querySelector(selectorId);option.checked=true;option.value=other_val},handleSubmitClick:function(e){e.preventDefault();this.resetErrors();var formElement=this.formElement();var self=this;if(self.validateForm(formElement)){var submitButton=formElement.querySelector("[type\x3d'submit']");submitButton.disabled=true;self.sendFeedback()}},handleYesNoSubmitClick:function(e){e.preventDefault();
var input=this.formComponent().querySelector(".fba-touchpoints-page-form");input.value=e.target.value;this.resetErrors();var self=this;var formElement=this.formElement();if(self.validateForm(formElement)){var submitButtons=formElement.querySelectorAll("[type\x3d'submit']");Array.prototype.forEach.call(submitButtons,function(submitButton){submitButton.disabled=true});self.sendFeedback()}},validateForm:function(form){this.hideValidationError(form);var valid=this.checkRequired(form)&&this.checkEmail(form)&&
this.checkPhone(form);return valid},checkRequired:function(form){var requiredItems=form.querySelectorAll("[required]");var questions={};Array.prototype.forEach.call(requiredItems,function(item){questions[item.name]=item});Array.prototype.forEach.call(requiredItems,function(item){switch(item.type){case "radio":if(item.checked)delete questions[item.name];break;case "checkbox":if(item.checked)delete questions[item.name];break;case "select-one":if(item.selectedIndex>0)delete questions[item.name];break;
default:if(item.value.length>0)delete questions[item.name]}});for(var key in questions){this.showValidationError(questions[key],"You must respond to question: ");return false}return true},checkEmail:function(form){var emailItems=form.querySelectorAll('input[type\x3d"email"]');var questions={};Array.prototype.forEach.call(emailItems,function(item){questions[item.name]=item});Array.prototype.forEach.call(emailItems,function(item){if(item.value.length==0)delete questions[item.name];else{var EmailRegex=
/^([a-zA-Z0-9_.+-])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;if(EmailRegex.test(item.value))delete questions[item.name]}});for(var key in questions){this.showValidationError(questions[key],"Please enter a valid value: ");return false}return true},checkPhone:function(form){var phoneItems=form.querySelectorAll('input[type\x3d"tel"]');var questions={};Array.prototype.forEach.call(phoneItems,function(item){questions[item.name]=item});Array.prototype.forEach.call(phoneItems,function(item){if(item.value.length==
0)delete questions[item.name];else{var PhoneRegex=/^[0-9]{10}$/;if(PhoneRegex.test(item.value))delete questions[item.name]}});for(var key in questions){this.showValidationError(questions[key],"Please enter a valid value: ");return false}return true},showValidationError:function(question,error){var questionDiv=question.closest(".question");var label=questionDiv.querySelector("label");var questionNum=label.innerText;questionDiv.setAttribute("class","usa-form-group usa-form-group--error");var span=document.createElement("span");
span.setAttribute("id","input-error-message");span.setAttribute("role","alert");span.setAttribute("class","usa-error-message");span.innerText=error+questionNum;label.parentNode.insertBefore(span,label.nextSibling);var input=document.createElement("input");input.setAttribute("hidden","true");input.setAttribute("id","input-error");input.setAttribute("type","text");input.setAttribute("name","input-error");input.setAttribute("aria-describedby","input-error-message");questionDiv.appendChild(input);questionDiv.scrollIntoView();
questionDiv.focus()},hideValidationError:function(form){var elem=form.querySelector(".usa-form-group--error");if(elem==null)return;elem.setAttribute("class","question");elem=form.querySelector("#input-error-message");if(elem!=null)elem.parentNode.removeChild(elem);elem=form.querySelector("#input-error");if(elem!=null)elem.parentNode.removeChild(elem)},textCounter:function(field,maxlimit){var countfield=field.parentNode.querySelector(".counter-msg");if(field.value.length>maxlimit){field.value=field.value.substring(0,
maxlimit);countfield.innerText="0 characters left";return false}else countfield.innerText=""+(maxlimit-field.value.length)+" characters left"},loadButton:function(){this.buttonEl=document.createElement("a");this.buttonEl.setAttribute("id","fba-button");this.buttonEl.setAttribute("class","fixed-tab-button usa-button");this.buttonEl.setAttribute("href","#");this.buttonEl.setAttribute("aria-haspopup","dialog");this.buttonEl.addEventListener("click",this.handleButtonClick.bind(this),false);this.buttonEl.innerHTML=
this.options.modalButtonText;d.body.appendChild(this.buttonEl);this.loadFeebackSkipLink()},loadFeebackSkipLink:function(){this.skipLink=document.createElement("a");this.skipLink.setAttribute("class","usa-skipnav touchpoints-skipnav");this.skipLink.setAttribute("href","#fba-button");this.skipLink.addEventListener("click",function(){document.querySelector("#fba-button").focus()});this.skipLink.innerHTML="Skip to feedback";var existingSkipLinks=document.querySelector(".usa-skipnav");if(existingSkipLinks)existingSkipLinks.insertAdjacentElement("afterend",
this.skipLink);else d.body.prepend(this.skipLink)},loadDialog:function(){d.querySelector(".fba-modal").removeAttribute("hidden");this.dialogOpen=true},closeDialog:function(){d.querySelector(".fba-modal").setAttribute("hidden",true);this.resetFormDisplay();this.dialogOpen=false},sendFeedback:function(){var form=this.formElement();this.ajaxPost(form,this.formSuccess)},successHeadingText:function(){return"Success"},successText:function(){return"Thank you. Your feedback has been received."},showFormSuccess:function(e){var formComponent=
this.formComponent();var formElement=this.formElement();var alertElement=formComponent.querySelector(".fba-alert");var alertElementHeading=formComponent.querySelector(".usa-alert__heading");var alertElementBody=formComponent.querySelector(".usa-alert__text");alertElementHeading.innerHTML+=this.successHeadingText();alertElementBody.innerHTML+=this.successText();alertElement.removeAttribute("hidden");if(formElement){formElement.reset();if(formElement.querySelector(".touchpoints-form-body")){var formBody=
formElement.querySelector(".touchpoints-form-body");if(formBody)formBody.setAttribute("hidden",true)}if(formComponent.querySelector(".touchpoints-form-disclaimer")){var formDisclaimer=formComponent.querySelector(".touchpoints-form-disclaimer");if(formDisclaimer)formDisclaimer.setAttribute("hidden",true)}}},resetFormDisplay:function(){if(this.successState===false)return false;this.resetErrors();var formElement=this.formElement();var submitButton=formElement.querySelector("[type\x3d'submit']");submitButton.disabled=
false;if(formElement)if(formElement.querySelector(".touchpoints-form-body")){var formBody=formElement.querySelector(".touchpoints-form-body");if(formBody)formBody.removeAttribute("hidden")}},formSuccess:function(e){var formComponent=this.formComponent();var alertElement=formComponent.querySelector(".fba-alert");var alertElementBody=formComponent.getElementsByClassName("usa-alert__text")[0];var alertErrorElement=formComponent.querySelector(".fba-alert-error");var alertErrorElementBody=alertErrorElement.getElementsByClassName("usa-alert__text")[0];
alertElementBody.innerHTML="";alertErrorElementBody.innerHTML="";var formElement=this.formElement();var submitButton=formElement.querySelector("[type\x3d'submit']");if(e.target.readyState===4)if(e.target.status===201){this.successState=true;if(submitButton)submitButton.disabled=true;this.showFormSuccess()}else if(e.target.status===422){this.successState=false;if(submitButton)submitButton.disabled=false;var jsonResponse=JSON.parse(e.target.response);var errors=jsonResponse.messages;for(var err in errors)if(errors.hasOwnProperty(err)){alertErrorElementBody.innerHTML+=
err;alertErrorElementBody.innerHTML+=" ";alertErrorElementBody.innerHTML+=errors[err];alertErrorElementBody.innerHTML+="\x3cbr /\x3e"}alertErrorElement.removeAttribute("hidden")}else{console.log("failed");alertErrorElement.removeAttribute("hidden");alertErrorElementBody.innerHTML+="Server error. We're sorry, but this submission was not successful. The Product Team has been notified."}},ajaxPost:function(form,callback){var url=form.action;var xhr=new XMLHttpRequest;var params={answer_01:form.querySelector("input[name\x3danswer_01]:checked")&&
form.querySelector("input[name\x3danswer_01]:checked").value,answer_02:form.querySelector("#answer_02")&&form.querySelector("#answer_02").value};if(params.answer_02.length==0)params.answer_02="No suggestion given.";if(typeof gas==="function")gas("send","event","Was this page helpful",params.answer_01,params.answer_02,1,true);params["referer"]=d.referrer;params["page"]=window.location.pathname;params["location_code"]=form.querySelector("#fba_location_code")?form.querySelector("#fba_location_code").value:
null;params["language"]="en";xhr.open("POST",url);xhr.setRequestHeader("Content-Type","application/json; charset\x3dUTF-8;");xhr.onload=callback.bind(this);xhr.send(JSON.stringify({"submission":params}))},pagination:function(){var previousButtons=document.getElementsByClassName("previous-section");var nextButtons=document.getElementsByClassName("next-section");var self=this;for(var i=0;i<previousButtons.length;i++)previousButtons[i].addEventListener("click",function(e){e.preventDefault();var currentPage=
e.target.closest(".section");if(!this.validateForm(currentPage))return false;currentPage.classList.remove("visible");currentPage.previousElementSibling.classList.add("visible");window.scrollTo(0,0)}.bind(self));for(i=0;i<nextButtons.length;i++)nextButtons[i].addEventListener("click",function(e){e.preventDefault();var currentPage=e.target.closest(".section");if(!this.validateForm(currentPage))return false;currentPage.classList.remove("visible");currentPage.nextElementSibling.classList.add("visible");
window.scrollTo(0,0)}.bind(self))}}}var formOptions={"modalButtonText":"Help improve this site"};var hasContentPromos=document.querySelector(".ContentPromos")!==null;var hasParkFooter=document.getElementById("ParkFooter")!==null;var shouldDisplay=window.location.hostname==="www.nps.gov"&&window.location.href.toString()!=="https://www.nps.gov/index.htm"&&document.title!=="Requested Page Not Found (404)";if(shouldDisplay)if(hasContentPromos){var node=document.getElementsByClassName("ContentPromos")[0];
var parentNode=node.parentNode;var newNode=document.createElement("div");newNode.id="touchpoints-survey";parentNode.insertBefore(newNode,node);touchpointForm2416268b=(new FBAform(document,window)).init(formOptions)}else if(hasParkFooter){node=document.getElementById("ParkFooter");newNode=document.createElement("div");parentNode=node.parentNode;newNode.id="touchpoints-survey";parentNode.insertBefore(newNode,node);touchpointForm2416268b=(new FBAform(document,window)).init(formOptions)}else{node=document.getElementsByClassName("MainContent")[0];
newNode=document.createElement("div");newNode.id="touchpoints-survey";node.append(newNode);touchpointForm2416268b=(new FBAform(document,window)).init(formOptions)}})(jQuery);(function($){$(".Truncatable").each(function(){var container=$(this);var content=$(".Truncatable__Content",container);var button=$(".Truncatable__Button",container);var height=content.height();var lineHeight=parseInt(content.css("line-height"));var linesToTruncate=parseInt(container.data("truncate"));var truncatedHeight=lineHeight*linesToTruncate;if(height<=truncatedHeight)return;var toggleTruncation=function(){if(container.hasClass("Truncatable--Truncated")){button.html(button.data("text-active"));
container.removeClass("Truncatable--Truncated");content.css("max-height",height);setTimeout(function(){content.css("max-height","");height=content.height();content.css("max-height",height)},200)}else{height=content.height();button.html(button.data("text-inactive"));content.css("max-height",truncatedHeight+"px");container.addClass("Truncatable--Truncated")}};container.addClass("Truncatable--Active");$(".Truncatable__Button",container).on("click",toggleTruncation);toggleTruncation()})})(jQuery.noConflict());(function($){function initPlayer(id,data,cb){cb=cb||function(){};jwplayer(id).setup({width:"100%",aspectratio:"16:9",sources:data.sources,tracks:data.tracks,autostart:data.autostart,ga:{}}).onReady(cb)}function loadPlayer($this,id,cb){var data=jQuery.parseJSON($this.attr("data-video"));if(typeof jwplayer==="undefined")require(["jwplayer"],function(jwplayer){initPlayer(id,cb)});else initPlayer(id,data,cb)}$(".JWPlayer").each(function(){var $this=$(this);var id=$this.attr("id");if($this.hasClass("js-lazy")){var $container=
$this.parents(".VideoHero-container");$this.one("click",function(){$container.css({height:$container.height()});loadPlayer($this,id,function(){$container.css({height:"auto"});$(".jwplayer").focus()})})}else loadPlayer($this,id,null)})})(jQuery);(function($){var sizeLi=$(".ArticleBody-moreInThis-item").size();var x=6;$(".ArticleBody-moreInThis-item:lt("+x+")").show();$(".ArticleBody-moreInThis-button-count").text(sizeLi);$("#viewAllBtn").click(function(){$(".ArticleBody-moreInThis-item").show();$("");$("#viewAllBtn").hide();$("#article-item-6").focus()})})(jQuery);(function($){function renderAddresses(physicalAddress,mailingAddress){if(typeof physicalAddress!==undefined&&typeof physicalAddress!=="object")throw new Error("Invalid argument, physicalAddress must be an object");if(typeof mailingAddress!==undefined&&typeof mailingAddress!=="object")throw new Error("Invalid argument, physicalAddress must be an object");var contents=document.createElement("div");var physicalGroup=document.createElement("div");physicalGroup.setAttribute("class","VisitorCenter__ContactPoint");
physicalGroup.setAttribute("itemprop","address");physicalGroup.setAttribute("itemscope",true);physicalGroup.setAttribute("itemtype","http://schema.org/PostalAddress");var physicalHeading=document.createElement("p");physicalHeading.setAttribute("class","VisitorCenter__ContactPoint__Heading");physicalHeading.setAttribute("itemprop","name");physicalHeading.textContent="Physical Address";physicalGroup.appendChild(physicalHeading);var physicalAddressObject=new NPS.Address(physicalAddress);var physicalElement=
physicalAddressObject.render();var physicalClass=physicalElement.getAttribute("class")||"";physicalClass+=" VisitorCenter__ContactPoint__Value";physicalElement.setAttribute("class",physicalClass);physicalGroup.appendChild(physicalElement);contents.appendChild(physicalGroup);var mailingGroup=document.createElement("div");mailingGroup.setAttribute("class","VisitorCenter__ContactPoint");mailingGroup.setAttribute("itemprop","contactPoint");mailingGroup.setAttribute("itemscope",true);mailingGroup.setAttribute("itemtype",
"http://schema.org/PostalAddress");var mailingHeading=document.createElement("p");mailingHeading.setAttribute("class","VisitorCenter__ContactPoint__Heading");mailingHeading.setAttribute("itemprop","name");mailingHeading.textContent="Mailing Address";mailingGroup.appendChild(mailingHeading);var mailingAddressObject=new NPS.Address(mailingAddress);var mailingElement=mailingAddressObject.render();var mailingClass=mailingElement.getAttribute("class")||"";mailingClass+=" VisitorCenter__ContactPoint__Value";
mailingElement.setAttribute("class",mailingClass);mailingGroup.appendChild(mailingElement);contents.appendChild(mailingGroup);return contents}function renderDirections(directions){if(typeof directions!=="string")throw new Error("Invalid argument, directions must be a string");var contents=document.createElement("p");contents.setAttribute("class","DetailsParagraph");contents.innerHTML=directions;return contents}function renderAmenities(amenities){if(!Array.isArray(amenities))throw new Error("Invalid argument, amenities must be an array");
var amenitiesList=document.createElement("ul");var amenitiesClass="AmenitiesList"+(amenities.length>6?" AmenitiesList--long":"");amenitiesList.setAttribute("class",amenitiesClass);amenities.forEach(function(amenity){var amenitiesListItem=document.createElement("li");amenitiesListItem.textContent=amenity;amenitiesList.appendChild(amenitiesListItem)});return amenitiesList}function renderContactInformation(data){if(typeof data!=="object"||data===null)throw new Error("Invalid argument, data must be an object");
var contents=document.createElement("div");contents.setAttribute("itemprop","contactPoint");if(data.emailAddress!==undefined){var emailContact=document.createElement("div");emailContact.setAttribute("class","VisitorCenter__ContactPoint");var emailContactHeading=document.createElement("p");emailContactHeading.setAttribute("class","VisitorCenter__ContactPoint__Heading");emailContactHeading.textContent="Email Address";var emailContactValue=document.createElement("p");emailContactValue.setAttribute("class",
"VisitorCenter__ContactPoint__Value");var emailContactLink=document.createElement("a");var formURL="/common/utilities/sendmail/sendemail.cfm";var encodedEmail=encodeURIComponent(data.emailAddress);var referral=encodeURIComponent(location.href);emailContactLink.setAttribute("href",formURL+"?o\x3d"+encodedEmail+"\x26r\x3d"+referral);emailContactLink.textContent="Send this visitor center an email";emailContactValue.appendChild(emailContactLink);emailContact.appendChild(emailContactHeading);emailContact.appendChild(emailContactValue);
if(data.emailDescription!==undefined){var emailContactDescription=document.createElement("p");emailContactDescription.textContent=data.emailDescription;emailContact.appendChild(emailContactDescription)}contents.appendChild(emailContact)}var phoneVoice=data.telephoneNumberVoice!==undefined&&data.telephoneNumberVoice!==""?String(data.telephoneNumberVoice).replace(/[^0-9]/g,""):null;var phoneFax=data.telephoneNumberFax!==undefined&&data.telephoneNumberFax!==""?String(data.telephoneNumberFax).replace(/[^0-9]/g,
""):null;var phoneTty=data.telephoneNumberTty!==undefined&&data.telephoneNumberTty!==""?String(data.telephoneNumberTty).replace(/[^0-9]/g,""):null;if(phoneVoice!==null||phoneFax!==null||phoneTty!==null){var phoneContact=document.createElement("div");phoneContact.setAttribute("class","VisitorCenter__ContactPoint");var phoneContactHeading=document.createElement("p");phoneContactHeading.setAttribute("class","VisitorCenter__ContactPoint__Heading");phoneContactHeading.textContent="Phone Numbers";phoneContact.appendChild(phoneContactHeading);
if(data.telephoneDescription!==undefined&&data.telephoneDescription!==""){var phoneContactDescription=document.createElement("p");phoneContactDescription.textContent=data.telephoneDescription;phoneContact.appendChild(phoneContactDescription)}var phoneContactList=document.createElement("ul");if(phoneVoice!==null){var voiceListItem=document.createElement("li");voiceListItem.setAttribute("class","VisitorCenter__ContactPoint__Value");voiceListItem.setAttribute("itemscope",true);voiceListItem.setAttribute("itemtype",
"http://schema.org/ContactPoint");var voiceListItemName=document.createElement("span");voiceListItemName.setAttribute("itemprop","name");var voiceListItemLabel=document.createElement("span");voiceListItemLabel.setAttribute("class","sr-only");voiceListItemLabel.textContent=" phone number";var phoneIcon=document.createElement("i");phoneIcon.setAttribute("class","fa fa-phone");voiceListItemName.appendChild(phoneIcon);voiceListItemName.appendChild(document.createTextNode(" Voice"));voiceListItemName.appendChild(voiceListItemLabel);
var voiceListItemValue=document.createElement("span");voiceListItemValue.setAttribute("itemprop","telephone");var voiceListItemLink=document.createElement("a");voiceListItemLink.setAttribute("href","tel:+1"+phoneVoice);var phoneVoiceParts=phoneVoice.match(/^(\d{3})(\d{3})(\d{4})$/);var phoneVoiceFormatted=phoneVoiceParts?"("+phoneVoiceParts[1]+") "+phoneVoiceParts[2]+"-"+phoneVoiceParts[3]:data.telephoneNumberVoice;voiceListItemLink.textContent=phoneVoiceFormatted;voiceListItemValue.appendChild(voiceListItemLink);
if(data.phoneExtensionVoice!==undefined&&data.phoneExtensionVoice!==""){voiceListItemValue.appendChild(document.createTextNode(" ext. "+data.phoneExtensionVoice));voiceListItemValue.setAttribute("content",phoneVoiceFormatted+" ext. "+data.phoneExtensionVoice)}else voiceListItemValue.setAttribute("content",phoneVoiceFormatted);voiceListItem.appendChild(voiceListItemName);voiceListItem.appendChild(document.createElement("br"));voiceListItem.appendChild(voiceListItemValue);phoneContactList.appendChild(voiceListItem)}if(phoneTty!==
null){var ttyListItem=document.createElement("li");ttyListItem.setAttribute("class","VisitorCenter__ContactPoint__Value");ttyListItem.setAttribute("itemscope",true);ttyListItem.setAttribute("itemtype","http://schema.org/ContactPoint");var ttySchemaLink=document.createElement("link");ttySchemaLink.setAttribute("itemprop","contactOption");ttySchemaLink.setAttribute("href","http://schema.org/HearingImpairedSupported");var ttyListItemName=document.createElement("span");ttyListItemName.setAttribute("itemprop",
"name");var ttyIcon=document.createElement("i");ttyIcon.setAttribute("class","fa fa-tty");var ttyListItemLabel=document.createElement("span");ttyListItemLabel.setAttribute("class","sr-only");ttyListItemLabel.textContent=" phone number";ttyListItemName.appendChild(ttyIcon);ttyListItemName.appendChild(document.createTextNode(" TTY"));ttyListItemName.appendChild(ttyListItemLabel);var ttyListItemValue=document.createElement("span");ttyListItemValue.setAttribute("itemprop","telephone");var ttyListItemLink=
document.createElement("a");ttyListItemLink.setAttribute("href","tel:+1"+phoneTty);var phoneTtyParts=phoneTty.match(/^(\d{3})(\d{3})(\d{4})$/);var phoneTtyFormatted=phoneTtyParts?"("+phoneTtyParts[1]+") "+phoneTtyParts[2]+"-"+phoneTtyParts[3]:data.telephoneNumberTty;ttyListItemLink.textContent=phoneTtyFormatted;ttyListItemValue.appendChild(ttyListItemLink);if(data.phoneExtensionTty!==undefined&&data.phoneExtensionTty!==""){ttyListItemValue.appendChild(document.createTextNode(" ext. "+data.phoneExtensionTty));
ttyListItemValue.setAttribute("content",phoneVoiceFormatted+" ext. "+data.phoneExtensionTty)}else ttyListItemValue.setAttribute("content",phoneVoiceFormatted);ttyListItem.appendChild(ttySchemaLink);ttyListItem.appendChild(ttyListItemName);ttyListItem.appendChild(document.createElement("br"));ttyListItem.appendChild(ttyListItemValue);phoneContactList.appendChild(ttyListItem)}if(phoneFax!==null){var faxListItem=document.createElement("li");faxListItem.setAttribute("class","VisitorCenter__ContactPoint__Value");
faxListItem.setAttribute("itemscope",true);faxListItem.setAttribute("itemtype","http://schema.org/ContactPoint");var faxListItemName=document.createElement("span");faxListItemName.setAttribute("itemprop","name");var faxIcon=document.createElement("i");faxIcon.setAttribute("class","fa fa-fax");var faxListItemLabel=document.createElement("span");faxListItemLabel.setAttribute("class","sr-only");faxListItemLabel.textContent=" number";faxListItemName.appendChild(faxIcon);faxListItemName.appendChild(document.createTextNode(" Fax"));
faxListItemName.appendChild(faxListItemLabel);var faxListItemValue=document.createElement("span");faxListItemValue.setAttribute("itemprop","faxNumber");var phoneFaxParts=phoneFax.match(/^(\d{3})(\d{3})(\d{4})$/);faxListItemValue.textContent=phoneFaxParts?"("+phoneFaxParts[1]+") "+phoneFaxParts[2]+"-"+phoneFaxParts[3]:data.telephoneNumberFax;faxListItem.appendChild(faxListItemName);faxListItem.appendChild(document.createElement("br"));faxListItem.appendChild(faxListItemValue);if(data.phoneExtensionFax!==
undefined&&data.phoneExtensionFax!=="")faxListItem.appendChild(document.createTextNode(" ext. "+data.phoneExtensionFax));phoneContactList.appendChild(faxListItem)}phoneContact.appendChild(phoneContactList);contents.appendChild(phoneContact)}return contents}function swiperImage(swiperID,index,altText,imageURL,featureText,creditText){var imageContainer=document.createElement("div");imageContainer.setAttribute("class","swiper-slide--full");imageContainer.setAttribute("id","swiper_image_"+swiperID+"_"+
index);var figure=document.createElement("figure");var image=document.createElement("img");image.setAttribute("alt",altText);image.setAttribute("src",imageURL+"?width\x3d800\x26height\x3d800\x26mode\x3dcrop\x26quality\x3d90");var figcaption=document.createElement("figcaption");figcaption.textContent=featureText;var credit=document.createElement("span");credit.setAttribute("class","credit");credit.textContent=creditText;figcaption.appendChild(credit);figure.appendChild(image);figure.appendChild(figcaption);
imageContainer.appendChild(figure);return imageContainer}function swiperSlide(imageURL,altText){var slide=document.createElement("div");slide.setAttribute("class","swiper-slide");slide.setAttribute("role","button");slide.setAttribute("tabindex",0);slide.setAttribute("style","background-image: url("+imageURL+"?width\x3d250\x26height\x3d250\x26mode\x3dcrop\x26quality\x3d90) !important");var altTextElement=document.createElement("span");altTextElement.setAttribute("class","swiper-slide__alt-text");altTextElement.textContent=
altText;slide.appendChild(altTextElement);return slide}function render(container,visitorCenter,controlID){var titleContainer=container.querySelector(".VisitorCenter__Title__Link");if(titleContainer){titleContainer.innerHTML="";titleContainer.textContent=visitorCenter.name}var descriptionContainer=container.querySelector(".VisitorCenter__Description");if(descriptionContainer)descriptionContainer.innerHTML=visitorCenter.description;var accordionID="VisitorCenter_"+visitorCenter.visitorCenterID+"_Accordion";
var accordion=document.getElementById(accordionID);if(!accordion)return;var addressesItem=document.getElementById(accordionID+"_Item_Addresses");if(addressesItem){var addressesPanel=addressesItem.querySelector(".InfoAccordian__Item__Description");if(addressesPanel&&(visitorCenter.physical_address!==undefined&&visitorCenter.physical_address.line_1!==undefined&&visitorCenter.physical_address.line_1!=="")&&(visitorCenter.mailing_address!==undefined&&visitorCenter.mailing_address.line_1!==undefined&&
visitorCenter.mailing_address.line_1!==""))addressesPanel.appendChild(renderAddresses(visitorCenter.physical_address,visitorCenter.mailing_address));else addressesItem.remove()}var directionsItem=document.getElementById(accordionID+"_Item_Directions");if(directionsItem){var directionsPanel=directionsItem.querySelector(".InfoAccordian__Item__Description");if(directionsPanel&&visitorCenter.directions!==undefined&&visitorCenter.directions!=="")directionsPanel.appendChild(renderDirections(visitorCenter.directions));
else directionsItem.remove()}var hoursContainer=accordion.querySelector(".OperatingHours");var operatingHours=visitorCenter.operatingHours&&visitorCenter.operatingHours[1]?new NPS.OperatingHours(visitorCenter.operatingHours[1]):null;if(hoursContainer&&operatingHours)operatingHours.render(hoursContainer);else if(hoursContainer)hoursContainer.remove();var amenitiesItem=document.getElementById(accordionID+"_Item_Amenities");if(amenitiesItem){var amenitiesPanel=amenitiesItem.querySelector(".InfoAccordian__Item__Description");
if(amenitiesPanel&&Array.isArray(visitorCenter.amenities)&&visitorCenter.amenities.length>0)amenitiesPanel.appendChild(renderAmenities(visitorCenter.amenities));else amenitiesItem.remove()}var contactItem=document.getElementById(accordionID+"_Item_Contact");if(contactItem){var contactPanel=contactItem.querySelector(".InfoAccordian__Item__Description");if(contactPanel&&(visitorCenter.emailAddress!==undefined&&visitorCenter.emailAddress!==""||visitorCenter.telephoneNumberVoice!==undefined&&visitorCenter.telephoneNumberVoice!==
""||visitorCenter.telephoneNumberFax!==undefined&&visitorCenter.telephoneNumberFax!==""||visitorCenter.telephoneNumberTty!==undefined&&visitorCenter.telephoneNumberTty!==""))contactPanel.appendChild(renderContactInformation(visitorCenter));else contactItem.remove()}if(Array.isArray(visitorCenter.images)&&visitorCenter.images.length>0){var maxItemsRendered=8;var titleCharacterLimit=48;var numberImagesToRender=visitorCenter.images.length;if(numberImagesToRender>maxItemsRendered)numberImagesToRender=
maxItemsRendered;var carouselGallery=container.querySelector(".CarouselGallery");if(carouselGallery){var swiperID=carouselGallery.getAttribute("data-swiper-id");var swiperWrapper=carouselGallery.querySelector(".swiper-wrapper");var swiperImages=carouselGallery.querySelector(".swiper-images");if(swiperID&&swiperWrapper&&swiperImages)for(i=0;i<numberImagesToRender;i++)if(visitorCenter.images[i].imageURL.length>3){swiperWrapper.appendChild(swiperSlide(visitorCenter.images[i].imageURL,visitorCenter.images[i].altText));
swiperImages.appendChild(swiperImage(swiperID,i,visitorCenter.images[i].altText,visitorCenter.images[i].imageURL,visitorCenter.images[i].featureText,visitorCenter.images[i].creditText))}}}}$(document).ready(function(){var containers=document.querySelectorAll(".VisitorCenters");var swiperInstances={};containers.forEach(function(container){var controlID=parseInt(container.getAttribute("data-control-id"));var siteCode=container.getAttribute("data-site-code");var visitorCenterElements=container.querySelectorAll(".VisitorCenter");
$.getJSON("/"+encodeURIComponent(siteCode)+"/structured_data_"+encodeURIComponent(siteCode)+".json",function(data){if(!Array.isArray(data.visitorCenters))return;visitorCenterElements.forEach(function(element){var visitorCenterID=element.getAttribute("data-vc-id");var visitorCenterData=data.visitorCenters.filter(function(vc){return vc.visitorCenterID===parseInt(visitorCenterID)});if(visitorCenterData.length>0){render(element,visitorCenterData.shift(),controlID);var carouselGallery=element.querySelector(".CarouselGallery");
if(carouselGallery)NPS.initCarouselGallery(carouselGallery);$("a, area",element).each(function(){var href=this.getAttribute("href");if(href&&href.charAt(0)!=="#")NPS.interceptExternalLinks(this)})}else element.remove()})})})})})(jQuery);(function($){function update(){if(timer===1){$("#webcamRefreshImage").attr("src",breakCache(src));timer=60}else timer-=1;$("#webcamRefreshTimer").html(timer)}function breakCache(url){if(url.indexOf("?")===-1)return url+"?"+Date.now();else return url+"\x26"+Date.now()}var timer=60;var interval;var src="";$(document).ready(function(){if($("#webcamRefreshTimer").length>0&&$("#webcamRefreshButton").length>0&&$("#webcamRefreshImage").length>0){src=$("#webcamRefreshImage").attr("src");$("#webcamRefreshImage").attr("src",
breakCache(src));interval=setInterval(update,1E3);$("#webcamRefreshButton").click(function(){if($(this).data("action")==="stop"){$(this).html('\x3ci class\x3d"fa fa-play" aria-hidden\x3d"true"\x3e\x3c/i\x3e Resume auto-refresh');$(this).data("action","start");clearInterval(interval)}else{$(this).html('\x3ci class\x3d"fa fa-stop" aria-hidden\x3d"true"\x3e\x3c/i\x3e Stop auto-refresh');$(this).data("action","stop");interval=setInterval(update,1E3)}})}})})(jQuery);